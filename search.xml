<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>（置顶）GZFLS LazyBones 简介</title>
    <url>/2020/05/30/%EF%BC%88%E7%BD%AE%E9%A1%B6%EF%BC%89GZFLS%20LazyBones%20%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>八十年代，卡内基梅隆大学计算机系的学生们住在一楼，需要跑到三楼的自动贩卖机那里去买可乐。因为可乐的供货量不足，他们经常扑空。为了改变这种状况，懒惰的学生们给贩卖机安装了一组开关，再通过网络把这组开关连接到一楼的电脑上。这样他们在一楼就可以知道三楼的贩卖机里还剩几罐可乐。改变世界的互联网开始形成。</p>
<p>今天，广州外国语学校LazyBones广外编程社正如其名，以懒惰为动力。通过编程快速解决数学难题、进行繁琐的等分统计工作、制作全自动化运行的excel运算脚本、逃脱头发太多难以清洗的噩运……</p>
<p>线下批改试卷太繁琐，我们就上线调查系统，印刷传单太麻烦，我们就开发门户网站。高考提分太难，我们就参加自主招生……</p>
<p>走进编程的世界，懒人高效触手可及。</p>
<p>我们始终信奉，懒惰是第一生产力。</p>
<h2 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h2><p>编程部：</p>
<p>请通过以下链接查看</p>
<p>[GitHub项目](<a href="https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload" target="_blank" rel="noopener">https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload</a> files)</p>
<p><a href="https://github.com/aoapc-book/aoapc-bac2nd" target="_blank" rel="noopener">算法竞赛入门经典</a></p>
<p>游戏部：</p>
<p>请通过以下链接查看：</p>
<p>[GitHub项目](<a href="https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload" target="_blank" rel="noopener">https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload</a> files)</p>
<p><a href="https://rpg.blue/" target="_blank" rel="noopener">RPG Maker国内论坛</a></p>
<p><a href="https://forums.rpgmakerweb.com/index.php" target="_blank" rel="noopener">RPG Maker国外论坛</a></p>
<h2 id="项目进展简介"><a href="#项目进展简介" class="headerlink" title="项目进展简介"></a>项目进展简介</h2><h3 id="目前，社团主要致力于使用以下引擎开发项目："><a href="#目前，社团主要致力于使用以下引擎开发项目：" class="headerlink" title="目前，社团主要致力于使用以下引擎开发项目："></a>目前，社团主要致力于使用以下引擎开发项目：</h3><h5 id="1-RPG-Maker"><a href="#1-RPG-Maker" class="headerlink" title="1.RPG Maker"></a>1.RPG Maker</h5><p>RPG Maker是基于HTML5的，使用JavaScript的，具有图形界面的2D游戏引擎</p>
<p>我们已经成功地使用该引擎开发或参与开发了“摩尔勇士复刻版”、“广外主题游戏”</p>
<h5 id="2-Cocos-2dx"><a href="#2-Cocos-2dx" class="headerlink" title="2.Cocos-2dx"></a>2.Cocos-2dx</h5><p>Cocos-2dx是基于c++的开源免费2D游戏引擎</p>
<p>我们使用该引擎开发了微信打飞机游戏复刻版</p>
<h5 id="3-HTML5网页语言和Markdown语言"><a href="#3-HTML5网页语言和Markdown语言" class="headerlink" title="3.HTML5网页语言和Markdown语言"></a>3.HTML5网页语言和Markdown语言</h5><p>由于需要维护及更新社团的网站，我们需要熟悉网页代码以及markdown语言的人才</p>
<p>此项目的成员会参与到社团网站的维护与更新</p>
<h5 id="4-基于c-的dos界面游戏开发"><a href="#4-基于c-的dos界面游戏开发" class="headerlink" title="4.基于c++的dos界面游戏开发"></a>4.基于c++的dos界面游戏开发</h5><p>少于400行短小精悍的代码，就可以构成一个有趣好玩的dos游戏！</p>
<p>我们由此方法复刻了经典的扫雷、打飞机、躲避柱子游戏</p>
<p>不仅如此，我们还可以为需要开发c++图形界面的社员提供支持。</p>
<h5 id="5-基于UE4引擎的3D项目开发"><a href="#5-基于UE4引擎的3D项目开发" class="headerlink" title="5.基于UE4引擎的3D项目开发"></a>5.基于UE4引擎的3D项目开发</h5><p>Unreal Engine 4 ，当今无比强大的基于c++的游戏引擎。</p>
<p>LazyBomes社员们有一个宏愿，就是希望使用UE4开发以我们的母校——广州外校为主题的游戏</p>
<p>这是一个复杂的系统工程，需要持续至少两年以上的努力</p>
<p>涉及到无数个精密的3D模型，成千上万行准确无误的代码，甚至是价格不菲的专业图形显卡……</p>
<p>我们非常清楚，这个项目所需要的巨大努力，需要我们倾其所有</p>
<p>但是，对母校的热爱，对技术的执着推动着我们不断前行</p>
<p>同时，我们希望团结一切可以团结的力量</p>
<p>我们迫切地需要3D建模、UE4引擎的人才</p>
<p>如果你我同时广州外国语学校学子，又有意向参与到这个宏大的项目中来，或者具有这方面的才能</p>
<p>请一定要联系我们</p>
<p>项目负责人qq：2364045898</p>
<p>想要更多地了解UE4引擎，请进入文末的UE4官网链接</p>
<h4 id="公告栏"><a href="#公告栏" class="headerlink" title="公告栏"></a>公告栏</h4><p>此网站是基于GitHub免费的境外服务器</p>
<p>请各位社员妥善使用，请勿外传，以免服务器压力过大影响使用</p>
<p>社团活动时间：周三中午</p>
<p>社团活动地点：凤凰楼四楼计算机教室</p>
<h4 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h4><p>请各位活跃社员尽快加入社团QQ群</p>
<p>群号：855055234</p>
<p>并留意此网站上的活动通知</p>
<hr>
<p>实用链接:</p>
<p><a href="https://gw-lazybones.github.io" target="_blank" rel="noopener">Lazybones社员网站</a></p>
<p><a href="http://www.chgzfls.com/szhxy/web/PortalDataAction_initPortalIndex.do" target="_blank" rel="noopener">广州外国语学校官网</a></p>
<p><a href="https://www.runoob.com/" target="_blank" rel="noopener">菜鸟教程</a></p>
<p><a href="https://typora.io/" target="_blank" rel="noopener">markdown语言编辑器Typora</a></p>
<p><a href="https://www.unrealengine.com/zh-CN/" target="_blank" rel="noopener">UE4官网</a></p>
<p><a href="https://www.runoob.com/cplusplus/cpp-tutorial.html" target="_blank" rel="noopener">C++</a></p>
<ul>
<li><p> —游戏制作（RPGMakerMV，资源请自行寻找，建议正版）</p>
</li>
<li><p><a href="http://miaowm5.github.io/RMMV-F1/" target="_blank" rel="noopener">  ╚汉化教程</a></p>
</li>
<li><p><a href="https://rpg.blue/" target="_blank" rel="noopener">  ╚国内论坛</a></p>
</li>
<li><p><a href="https://forums.rpgmakerweb.com/" target="_blank" rel="noopener">  ╚国外论坛（英语）</a></p>
</li>
<li><p>—编程练习题目</p>
</li>
<li><p><a href="https://www.luogu.org/" target="_blank" rel="noopener">洛谷</a></p>
</li>
<li><p><a href="http://oj.noi.cn/oj/#main/home" target="_blank" rel="noopener">CCF OJ</a></p>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Python 爬虫大小项目集合</title>
    <url>/2020/06/13/Python-%E7%88%AC%E8%99%AB%E5%A4%A7%E5%B0%8F%E9%A1%B9%E7%9B%AE%E9%9B%86%E5%90%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 今天为大家带来了自己的爬虫代码集，主要是以往学习Python爬虫过程中写过的大小项目，可能不是很全面，但是持续在更新，那我的代码里有什么？</p>
<p><img src="https://upload-images.jianshu.io/upload_images/6458648-9687b9c69d8e9dc2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/150/format/webp" alt="img"></p>
<h4 id="1-Cnblogs-博客园爬虫"><a href="#1-Cnblogs-博客园爬虫" class="headerlink" title="1. Cnblogs - 博客园爬虫"></a>1. <a href="https://github.com/Northxw/Python3_WebSpider/tree/master/01-Cnblogs" target="_blank" rel="noopener">Cnblogs</a> - 博客园爬虫</h4><p>  使用Urllib库实现博客园”最新文章”的爬取，可以自行扩展为全站爬虫，但是要注意它的接口。</p>
<h4 id="2-Golory-of-Kings-王者荣耀爬虫"><a href="#2-Golory-of-Kings-王者荣耀爬虫" class="headerlink" title="2. Golory_of_Kings - 王者荣耀爬虫"></a>2. <a href="https://github.com/Northxw/Python3_WebSpider/tree/master/02-Golory_of_Kings" target="_blank" rel="noopener">Golory_of_Kings</a> - 王者荣耀爬虫</h4><p>  通过王者荣耀官网的英雄列表接口以及英雄皮肤的下载URL，完成对王者荣耀英雄全皮肤的下载。</p>
<h4 id="3-MaoYan-Top100-猫眼TOP100爬虫"><a href="#3-MaoYan-Top100-猫眼TOP100爬虫" class="headerlink" title="3.MaoYan_Top100 - 猫眼TOP100爬虫"></a>3.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/03-MaoYan_Top100" target="_blank" rel="noopener">MaoYan_Top100</a> - 猫眼TOP100爬虫</h4><p>  （见名知意）爬取猫眼TOP排行榜前100的电影信息。</p>
<h4 id="4-Moments-朋友圈爬虫"><a href="#4-Moments-朋友圈爬虫" class="headerlink" title="4.Moments - 朋友圈爬虫"></a>4.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/05-Moments" target="_blank" rel="noopener">Moments</a> - 朋友圈爬虫</h4><p>  基于自动化测试工具Appium的微信朋友圈爬虫，模拟登录、抓取动态、保存数据。</p>
<h4 id="5-Bilibili-B站爬虫"><a href="#5-Bilibili-B站爬虫" class="headerlink" title="5.Bilibili - B站爬虫"></a>5.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/09-Bilibili" target="_blank" rel="noopener">Bilibili</a> - B站爬虫</h4><p>  模拟登录B站并识别滑动验证码。破解滑动验证码的思路主要沿袭崔大破解极验的思路，登录、获取验证码Image对象、打码平台识别、本地转化识别结果、Selenium模拟滑动等。</p>
<h4 id="6-DouYin-抖音爬虫"><a href="#6-DouYin-抖音爬虫" class="headerlink" title="6.DouYin - 抖音爬虫"></a>6.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/10-DouYin" target="_blank" rel="noopener">DouYin</a> - 抖音爬虫</h4><p>  基于Mitmdump的抖音短视频爬取，包括视频名称、作者名称、获赞数、转发量等重要信息的获取。</p>
<h4 id="7-Crack-Jianshu-简书爬虫"><a href="#7-Crack-Jianshu-简书爬虫" class="headerlink" title="7.Crack_Jianshu - 简书爬虫"></a>7.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/12-Crack_Jianshu" target="_blank" rel="noopener">Crack_Jianshu</a> - 简书爬虫</h4><p>  为了照顾简书，完成了简书的模拟登录并识别简书的点触式验证码，破解验证码的思路基本与滑动验证码相同。</p>
<h4 id="8-Selenium-163-网易163邮箱爬虫"><a href="#8-Selenium-163-网易163邮箱爬虫" class="headerlink" title="8.Selenium_163 - 网易163邮箱爬虫"></a>8.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/20-Selenium_163" target="_blank" rel="noopener">Selenium_163</a> - 网易163邮箱爬虫</h4><p>  模拟登录网易163邮箱，并发送SOS邮件。主要是为了对iframe子节点的训练。</p>
<h4 id="9-City-58-58房屋信息爬虫"><a href="#9-City-58-58房屋信息爬虫" class="headerlink" title="9.City_58 - 58房屋信息爬虫"></a>9.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/17-City_58" target="_blank" rel="noopener">City_58</a> - 58房屋信息爬虫</h4><p>  使用Scrapy框架爬取58同城的出租房信息，并包含下级网页数据的爬虫，项目难度较大，可根据能力练习。</p>
<h4 id="10-Selenium-Cnki-知网爬虫"><a href="#10-Selenium-Cnki-知网爬虫" class="headerlink" title="10.Selenium_Cnki - 知网爬虫"></a>10.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/08-Selenium_Cnki" target="_blank" rel="noopener">Selenium_Cnki</a> - 知网爬虫</h4><p>  模拟登录注册知网，识别知网的普通数字英文混合验证码。别小看这简单的验证码，可是用tesserocr等Python识别库搞不定的。</p>
<p>其他的可以看截图：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/6458648-7a6baa6bab71d74d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/986/format/webp" alt="img"></p>
<p>  我是爬虫小白，代码中如果有写的什么不好的地方，可以提交issue。最后，贴出我的<strong>Github仓库地址</strong>：<a href="https://github.com/Northxw/Python3_WebSpider，欢迎各种**star**和**fork**，一起学爬虫。" target="_blank" rel="noopener">https://github.com/Northxw/Python3_WebSpider，欢迎各种**star**和**fork**，一起学爬虫。</a></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 爬虫（二）</title>
    <url>/2020/06/13/Python-%E7%88%AC%E8%99%AB%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> Github代码获取：<a href="https://github.com/Jack-Cherish/python-spider" target="_blank" rel="noopener">https://github.com/Jack-Cherish/python-spider</a><br>Python版本： Python3.x<br>运行平台： Windows<br>IDE： Sublime text3</p>
<hr>
<h2 id="更多教程，请查看：https-cuijiahua-com-blog-spider"><a href="#更多教程，请查看：https-cuijiahua-com-blog-spider" class="headerlink" title="更多教程，请查看：https://cuijiahua.com/blog/spider/"></a>更多教程，请查看：<a href="https://cuijiahua.com/blog/spider/" target="_blank" rel="noopener">https://cuijiahua.com/blog/spider/</a></h2><h1 id="一-前言"><a href="#一-前言" class="headerlink" title="一 前言"></a>一 前言</h1><p><strong>强烈建议：</strong>请在电脑的陪同下，阅读本文。本文以实战为主，阅读过程如稍有不适，还望多加练习。<br>本文的实战内容有：</p>
<ul>
<li>网络小说下载(静态网站)</li>
<li>优美壁纸下载(动态网站)</li>
<li>视频下载</li>
</ul>
<hr>
<p>2020年，更多精彩内容，尽在微信公众号，欢迎您的关注：</p>
<p><img src="https://img-blog.csdnimg.cn/20200423085559318.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2M0MDY0OTU3NjI=,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h1 id="二-网络爬虫简介"><a href="#二-网络爬虫简介" class="headerlink" title="二 网络爬虫简介"></a>二 网络爬虫简介</h1><p>网络爬虫，也叫网络蜘蛛(Web Spider)。它根据网页地址(URL)爬取网页内容，而网页地址(URL)就是我们在浏览器中输入的网站链接。比如：<a href="https://www.baidu.com/，它就是一个URL。" target="_blank" rel="noopener">https://www.baidu.com/，它就是一个URL。</a></p>
<p>在讲解爬虫内容之前，我们需要先学习一项写爬虫的必备技能：<strong>审查元素（如果已掌握，可跳过此部分内容）。</strong></p>
<h2 id="1-审查元素"><a href="#1-审查元素" class="headerlink" title="1 审查元素"></a>1 审查元素</h2><p>在浏览器的地址栏输入URL地址，在网页处右键单击，找到检查。(不同浏览器的叫法不同，Chrome浏览器叫做检查，Firefox浏览器叫做查看元素，但是功能都是相同的)</p>
<p><img src="https://img-blog.csdn.net/20170928142328881?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我们可以看到，右侧出现了一大推代码，这些代码就叫做HTML。什么是HTML？举个容易理解的例子：<strong>我们的基因决定了我们的原始容貌，服务器返回的HTML决定了网站的原始容貌。</strong></p>
<p><img src="https://img-blog.csdn.net/20170928142436698?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>为啥说是<strong>原始容貌</strong>呢？因为人可以<strong>整容啊</strong>！扎心了，有木有？<strong>那网站也可以”整容”吗？可以！请看下图：</strong></p>
<p><img src="https://img-blog.csdn.net/20170928142523847?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我能有这么多钱吗？显然不可能。我是怎么给网站”整容”的呢？就是通过修改服务器返回的HTML信息。我们每个人都是”整容大师”，可以修改页面信息。<strong>我们在页面的哪个位置点击审查元素，浏览器就会为我们定位到相应的HTML位置，进而就可以在本地更改HTML信息。</strong></p>
<p><strong>再举个小例子：</strong>我们都知道，使用浏览器”记住密码”的功能，密码会变成一堆小黑点，是不可见的。可以让密码显示出来吗？可以，只需给页面”动个小手术”！以淘宝为例，在输入密码框处右键，点击检查。</p>
<p><img src="https://img-blog.csdn.net/20170928142556264?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>可以看到，浏览器为我们自动定位到了相应的HTML位置。将下图中的password属性值改为text属性值(<strong>直接在右侧代码处修改</strong>)：</p>
<p><img src="https://img-blog.csdn.net/20170928142703187?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我们让浏览器记住的密码就这样显现出来了：</p>
<p><img src="https://img-blog.csdn.net/20170928142630494?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>说这么多，什么意思呢？<strong>浏览器就是作为客户端从服务器端获取信息，然后将信息解析，并展示给我们的。</strong>我们可以在本地修改HTML信息，为网页”整容”，但是我们修改的信息不会回传到服务器，服务器存储的HTML信息不会改变。刷新一下界面，页面还会回到原本的样子。<strong>这就跟人整容一样，我们能改变一些表面的东西，但是不能改变我们的基因。</strong></p>
<h2 id="2-简单实例"><a href="#2-简单实例" class="headerlink" title="2 简单实例"></a>2 简单实例</h2><p><strong>网络爬虫的第一步就是根据URL，获取网页的HTML信息。\</strong>在Python3中，可以使用*<em>urllib.request*</em>和<strong>requests</strong>进行网页爬取。</p>
<ul>
<li>urllib库是python内置的，无需我们额外安装，只要安装了Python就可以使用这个库。</li>
<li>requests库是第三方库，需要我们自己安装。</li>
</ul>
<p>requests库强大好用，所以本文使用requests库获取网页的HTML信息。requests库的github地址：<a href="https://github.com/requests/requests" target="_blank" rel="noopener">https://github.com/requests/requests</a></p>
<h3 id="1-requests安装"><a href="#1-requests安装" class="headerlink" title="(1) requests安装"></a>(1) requests安装</h3><p>在cmd中，使用如下指令安装requests：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install requests</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">easy_install requests</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="2-简单实例-1"><a href="#2-简单实例-1" class="headerlink" title="(2) 简单实例"></a>(2) 简单实例</h3><p>requests库的基础方法如下：</p>
<p><img src="https://img-blog.csdn.net/20170928142920593?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>官方中文教程地址：<a href="http://docs.python-requests.org/zh_CN/latest/user/quickstart.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/user/quickstart.html</a></p>
<p>requests库的开发者为我们提供了详细的中文教程，查询起来很方便。本文不会对其所有内容进行讲解，摘取其部分使用到的内容，进行实战说明。</p>
<p>首先，让我们看下requests.get()方法，它用于向服务器发起GET请求，不了解GET请求没有关系。我们可以这样理解：get的中文意思是得到、抓住，那这个requests.get()方法就是从服务器得到、抓住数据，也就是获取数据。让我们看一个例子(以 <a href="http://www.gitbook.cn为例)来加深理解：">www.gitbook.cn为例)来加深理解：</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    target &#x3D; &#39;http:&#x2F;&#x2F;gitbook.cn&#x2F;&#39;</span><br><span class="line">    req &#x3D; requests.get(url&#x3D;target)</span><br><span class="line">    print(req.text)</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<p>requests.get()方法必须设置的一个参数就是url，因为我们得告诉GET请求，我们的目标是谁，我们要获取谁的信息。运行程序看下结果：</p>
<p><img src="https://img-blog.csdn.net/20170928143016033?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>左侧是我们程序获得的结果，右侧是我们在<a href="http://www.gitbook.cn网站审查元素获得的信息。我们可以看到，我们已经顺利获得了该网页的HTML信息。这就是一个最简单的爬虫实例，可能你会问，我只是爬取了这个网页的HTML信息，有什么用呢？客官稍安勿躁，接下来进入我们的实战正文。">www.gitbook.cn网站审查元素获得的信息。我们可以看到，我们已经顺利获得了该网页的HTML信息。这就是一个最简单的爬虫实例，可能你会问，我只是爬取了这个网页的HTML信息，有什么用呢？客官稍安勿躁，接下来进入我们的实战正文。</a></p>
<hr>
<h1 id="三-爬虫实战"><a href="#三-爬虫实战" class="headerlink" title="三 爬虫实战"></a>三 爬虫实战</h1><h2 id="1-小说下载"><a href="#1-小说下载" class="headerlink" title="1 小说下载"></a>1 小说下载</h2><h3 id="1-实战背景"><a href="#1-实战背景" class="headerlink" title="(1) 实战背景"></a>(1) 实战背景</h3><p>小说网站-笔趣看：URL：<a href="http://www.biqukan.com/" target="_blank" rel="noopener">http://www.biqukan.com/</a></p>
<p>本次实战就是从该网站爬取并保存一本名为《一念永恒》的小说。</p>
<h3 id="2-小试牛刀"><a href="#2-小试牛刀" class="headerlink" title="(2) 小试牛刀"></a>(2) 小试牛刀</h3><p>我们先看下《一念永恒》小说的第一章内容，URL：<a href="http://www.biqukan.com/1_1094/5403177.html" target="_blank" rel="noopener">http://www.biqukan.com/1_1094/5403177.html</a></p>
<p><img src="https://img-blog.csdn.net/20170928143125108?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我们先用已经学到的知识获取HTML信息试一试，编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html&#39;</span><br><span class="line">    req &#x3D; requests.get(url&#x3D;target)</span><br><span class="line">    print(req.text)</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<p>运行代码，可以看到如下结果：</p>
<p><img src="https://img-blog.csdn.net/20170928143206652?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>可以看到，我们很轻松地获取了HTML信息。但是，很显然，很多信息是我们不想看到的，我们只想获得如右侧所示的正文内容，我们不关心div、br这些html标签。<strong>如何把正文内容从这些众多的html标签中提取出来呢？这就是本次实战的主要内容。</strong></p>
<p>###（3）Beautiful Soup</p>
<p><strong>爬虫的第一步，获取整个网页的HTML信息，我们已经完成。接下来就是爬虫的第二步，解析HTML信息，提取我们感兴趣的内容。</strong>对于本小节的实战，我们感兴趣的内容就是文章的正文。提取的方法有很多，例如使用正则表达式、Xpath、Beautiful Soup等。对于初学者而言，最容易理解，并且使用简单的方法就是使用Beautiful Soup提取感兴趣内容。</p>
<p>Beautiful Soup的安装方法和requests一样，使用如下指令安装(也是二选一)：</p>
<ul>
<li>pip install beautifulsoup4</li>
<li>easy_install beautifulsoup4</li>
</ul>
<p>一个强大的第三方库，都会有一个详细的官方文档。我们很幸运，Beautiful Soup也是有中文的官方文档。</p>
<p>URL：<a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">http://beautifulsoup.readthedocs.io/zh_CN/latest/</a></p>
<p>同理，我会根据实战需求，讲解Beautiful Soup库的部分使用方法，更详细的内容，请查看官方文档。</p>
<p>现在，我们使用已经掌握的审查元素方法，查看一下我们的目标页面，你会看到如下内容：</p>
<p><img src="https://img-blog.csdn.net/20170928143325915?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>不难发现，文章的所有内容都放在了一个名为div的“东西下面”，这个”东西”就是html标签。HTML标签是HTML语言中最基本的单位，HTML标签是HTML最重要的组成部分。不理解，没关系，我们再举个简单的例子：</p>
<blockquote>
<p>一个女人的包包里，会有很多东西，她们会根据自己的习惯将自己的东西进行分类放好。镜子和口红这些会经常用到的东西，会归放到容易拿到的外侧口袋里。那些不经常用到，需要注意安全存放的证件会放到不容易拿到的里侧口袋里。</p>
</blockquote>
<p>html标签就像一个个“口袋”，每个“口袋”都有自己的特定功能，负责存放不同的内容。显然，上述例子中的div标签下存放了我们关心的正文内容。这个div标签是这样的：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;content&quot;, class&#x3D;&quot;showtxt&quot;&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>细心的朋友可能已经发现，除了div字样外，还有id和class。id和class就是div标签的属性，content和showtxt是属性值，一个属性对应一个属性值。这东西有什么用？它是用来区分不同的div标签的，因为div标签可以有很多，我们怎么加以区分不同的div标签呢？就是通过不同的属性值。</p>
<p>仔细观察目标网站一番，我们会发现这样一个事实：<strong>class属性为showtxt的div标签，独一份！这个标签里面存放的内容，是我们关心的正文部分。</strong></p>
<p>知道这个信息，我们就可以使用Beautiful Soup提取我们想要的内容了，编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target)</span><br><span class="line">     html &#x3D; req.text</span><br><span class="line">     bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     texts &#x3D; bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;showtxt&#39;) print(texts)</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p>在解析html之前，我们需要创建一个Beautiful Soup对象。BeautifulSoup函数里的参数就是我们已经获得的html信息。然后我们使用find_all方法，获得html信息中所有class属性为showtxt的div标签。find_all方法的第一个参数是获取的标签名，第二个参数class_是标签的属性，为什么不是class，而带了一个下划线呢？因为python中class是关键字，为了防止冲突，这里使用class_表示标签的class属性，class_后面跟着的showtxt就是属性值了。看下我们要匹配的标签格式：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;content&quot;, class&#x3D;&quot;showtxt&quot;&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>这样对应的看一下，是不是就懂了？可能有人会问了，为什么不是find_all(‘div’, id = ‘content’, class_ = ‘showtxt’)?这样其实也是可以的，属性是作为查询时候的约束条件，添加一个class_=’showtxt’条件，我们就已经能够准确匹配到我们想要的标签了，所以我们就不必再添加id这个属性了。运行代码查看我们匹配的结果：</p>
<p><img src="https://img-blog.csdn.net/20170928143457737?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我们可以看到，我们已经顺利匹配到我们关心的正文内容，但是还有一些我们不想要的东西。比如div标签名，br标签，以及各种空格。怎么去除这些东西呢？我们继续编写代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target) html &#x3D; req.text</span><br><span class="line">     bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     texts &#x3D; bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;showtxt&#39;)</span><br><span class="line">     print(texts[0].text.replace(&#39;\xa0&#39;*8,&#39;\n\n&#39;))</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p>find_all匹配的返回的结果是一个列表。提取匹配结果后，使用text属性，提取文本内容，滤除br标签。随后使用replace方法，剔除空格，替换为回车进行分段。 在html中是用来表示空格的。replace(’\xa0’*8,’\n\n’)就是去掉下图的八个空格符号，并用回车代替：</p>
<p><img src="https://img-blog.csdn.net/20170928143543366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>程序运行结果如下：</p>
<p><img src="https://img-blog.csdn.net/20170928143634255?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>可以看到，我们很自然的匹配到了所有正文内容，并进行了分段。我们已经顺利获得了一个章节的内容，要想下载正本小说，我们就要获取每个章节的链接。我们先分析下小说目录：</p>
<p>URL：<a href="http://www.biqukan.com/1_1094/" target="_blank" rel="noopener">http://www.biqukan.com/1_1094/</a></p>
<p><img src="https://img-blog.csdn.net/20170928143709074?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>通过审查元素，我们发现可以发现，这些章节都存放在了class属性为listmain的div标签下，选取部分html代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;listmain&quot;&gt;</span><br><span class="line">&lt;dl&gt;</span><br><span class="line">&lt;dt&gt;《一念永恒》最新章节列表&lt;&#x2F;dt&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15932394.html&quot;&gt;第1027章 第十道门&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15923072.html&quot;&gt;第1026章 绝伦道法！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15921862.html&quot;&gt;第1025章 长生灯！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15918591.html&quot;&gt;第1024章 一目晶渊&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15906236.html&quot;&gt;第1023章 通天道门&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15903775.html&quot;&gt;第1022章 四大凶兽！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15890427.html&quot;&gt;第1021章 鳄首！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15886627.html&quot;&gt;第1020章 一触即发！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15875306.html&quot;&gt;第1019章 魁祖的气息！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15871572.html&quot;&gt;第1018章 绝望的魁皇城&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15859514.html&quot;&gt;第1017章 我还是恨你！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15856137.html&quot;&gt;第1016章 从来没有世界之门！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dt&gt;《一念永恒》正文卷&lt;&#x2F;dt&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5386269.html&quot;&gt;外传1 柯父。&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5386270.html&quot;&gt;外传2 楚玉嫣。&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5386271.html&quot;&gt;外传3 鹦鹉与皮冻。&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5403177.html&quot;&gt;第一章 他叫白小纯&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5428081.html&quot;&gt;第二章 火灶房&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5433843.html&quot;&gt;第三章 六句真言&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5447905.html&quot;&gt;第四章 炼灵&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;&#x2F;dl&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">123456789101112131415161718192021</span><br></pre></td></tr></table></figure>

<p>在分析之前，让我们先介绍一个概念：父节点、子节点、孙节点。<code>&lt;div&gt;</code>和<code>&lt;/div&gt;</code>限定了<code>&lt;div&gt;</code>标签的开始和结束的位置，他们是成对出现的，有开始位置，就有结束位置。我们可以看到，在<code>&lt;div&gt;</code>标签包含<code>&lt;dl&gt;</code>标签，那这个<code>&lt;dl&gt;</code>标签就是<code>&lt;div&gt;</code>标签的子节点，<code>&lt;dl&gt;</code>标签又包含<code>&lt;dt&gt;</code>标签和<code>&lt;dd&gt;</code>标签，那么<code>&lt;dt&gt;</code>标签和<code>&lt;dd&gt;</code>标签就是<code>&lt;div&gt;</code>标签的孙节点。有点绕？那你记住这句话：<strong>谁包含谁，谁就是谁儿子！</strong></p>
<p><strong>他们之间的关系都是相对的。</strong>比如对于<code>&lt;dd&gt;</code>标签，它的子节点是<code>&lt;a&gt;</code>标签，它的父节点是<code>&lt;dl&gt;</code>标签。这跟我们人是一样的，上有老下有小。</p>
<p>看到这里可能有人会问，这有好多<code>&lt;dd&gt;</code>标签和<code>&lt;a&gt;</code>标签啊！不同的<code>&lt;dd&gt;</code>标签，它们是什么关系啊？显然，兄弟姐妹喽！我们称它们为兄弟结点。<br>好了，概念明确清楚，接下来，让我们分析一下问题。我们看到每个章节的名字存放在了<code>&lt;a&gt;</code>标签里面。<code>&lt;a&gt;</code>标签还有一个href属性。这里就不得不提一下<code>&lt;a&gt;</code>标签的定义了，<code>&lt;a&gt;</code>标签定义了一个超链接，用于从一张页面链接到另一张页面。<code>&lt;a&gt;</code> 标签最重要的属性是 href 属性，它指示链接的目标。</p>
<p>我们将之前获得的第一章节的URL和<code>&lt;a&gt;</code> 标签对比看一下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5403177.html&quot;&gt;第一章 他叫白小纯&lt;&#x2F;a&gt;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>不难发现，<code>&lt;a&gt;</code> 标签中href属性存放的属性值/1_1094/5403177.html是章节URL<a href="http://www.biqukan.com/1_1094/5403177.html的后半部分。其他章节也是如此！那这样，我们就可以根据`" target="_blank" rel="noopener">http://www.biqukan.com/1_1094/5403177.html的后半部分。其他章节也是如此！那这样，我们就可以根据`</a><a>`标签的href属性值获得每个章节的链接和名称了。</p>
<p>总结一下：小说每章的链接放在了class属性为listmain的<code>&lt;div&gt;</code>标签下的<code>&lt;a&gt;</code>标签中。链接具体位置放在html-&gt;body-&gt;div-&gt;dl-&gt;dd-&gt;a的href属性中。先匹配class属性为listmain的<code>&lt;div&gt;</code>标签，再匹配<code>&lt;a&gt;</code>标签。编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target)</span><br><span class="line">     html &#x3D; req.text</span><br><span class="line">     div_bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     div &#x3D; div_bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;listmain&#39;)</span><br><span class="line">     print(div[0])</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>

<p>还是使用find_all方法，运行结果如下：</p>
<p><img src="https://img-blog.csdn.net/20170928144048324?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>很顺利，接下来再匹配每一个<code>&lt;a&gt;</code>标签，并提取章节名和章节文章。如果我们使用Beautiful Soup匹配到了下面这个<code>&lt;a&gt;</code>标签，如何提取它的href属性和<code>&lt;a&gt;</code>标签里存放的章节名呢？</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5403177.html&quot;&gt;第一章 他叫白小纯&lt;&#x2F;a&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>方法很简单，对Beautiful Soup返回的匹配结果a，使用a.get(‘href’)方法就能获取href的属性值，使用a.string就能获取章节名，编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     server &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;&#39;</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target) html &#x3D; req.text</span><br><span class="line">     div_bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     div &#x3D; div_bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;listmain&#39;)</span><br><span class="line">     a_bf &#x3D; BeautifulSoup(str(div[0]))</span><br><span class="line">     a &#x3D; a_bf.find_all(&#39;a&#39;)</span><br><span class="line">     for each in a:</span><br><span class="line">          print(each.string, server + each.get(&#39;href&#39;))</span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<p>因为find_all返回的是一个列表，里边存放了很多的<code>&lt;a&gt;</code>标签，所以使用for循环遍历每个<code>&lt;a&gt;</code>标签并打印出来，运行结果如下。</p>
<p><img src="https://img-blog.csdn.net/20170928144215561?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>最上面匹配的一千多章的内容是最新更新的12章节的链接。这12章内容会和下面的重复，所以我们要滤除，除此之外，还有那3个外传，我们也不想要。这些都简单地剔除就好。</p>
<p>###（3）整合代码</p>
<p>每个章节的链接、章节名、章节内容都有了。接下来就是整合代码，将获得内容写入文本文件存储就好了。编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests, sys</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">类说明:下载《笔趣看》网小说《一念永恒》</span><br><span class="line">Parameters:</span><br><span class="line">    无</span><br><span class="line">Returns:</span><br><span class="line">    无</span><br><span class="line">Modify:</span><br><span class="line">    2017-09-13</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">class downloader(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.server &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;&#39;</span><br><span class="line">        self.target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;&#39;</span><br><span class="line">        self.names &#x3D; []            #存放章节名</span><br><span class="line">        self.urls &#x3D; []            #存放章节链接</span><br><span class="line">        self.nums &#x3D; 0            #章节数</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:获取下载链接</span><br><span class="line">    Parameters:</span><br><span class="line">        无</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def get_download_url(self):</span><br><span class="line">        req &#x3D; requests.get(url &#x3D; self.target)</span><br><span class="line">        html &#x3D; req.text</span><br><span class="line">        div_bf &#x3D; BeautifulSoup(html)</span><br><span class="line">        div &#x3D; div_bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;listmain&#39;)</span><br><span class="line">        a_bf &#x3D; BeautifulSoup(str(div[0]))</span><br><span class="line">        a &#x3D; a_bf.find_all(&#39;a&#39;)</span><br><span class="line">        self.nums &#x3D; len(a[15:])                                #剔除不必要的章节，并统计章节数</span><br><span class="line">        for each in a[15:]:</span><br><span class="line">            self.names.append(each.string)</span><br><span class="line">            self.urls.append(self.server + each.get(&#39;href&#39;))</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:获取章节内容</span><br><span class="line">    Parameters:</span><br><span class="line">        target - 下载连接(string)</span><br><span class="line">    Returns:</span><br><span class="line">        texts - 章节内容(string)</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def get_contents(self, target):</span><br><span class="line">        req &#x3D; requests.get(url &#x3D; target)</span><br><span class="line">        html &#x3D; req.text</span><br><span class="line">        bf &#x3D; BeautifulSoup(html)</span><br><span class="line">        texts &#x3D; bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;showtxt&#39;)</span><br><span class="line">        texts &#x3D; texts[0].text.replace(&#39;\xa0&#39;*8,&#39;\n\n&#39;)</span><br><span class="line">        return texts</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:将爬取的文章内容写入文件</span><br><span class="line">    Parameters:</span><br><span class="line">        name - 章节名称(string)</span><br><span class="line">        path - 当前路径下,小说保存名称(string)</span><br><span class="line">        text - 章节内容(string)</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def writer(self, name, path, text):</span><br><span class="line">        write_flag &#x3D; True</span><br><span class="line">        with open(path, &#39;a&#39;, encoding&#x3D;&#39;utf-8&#39;) as f:</span><br><span class="line">            f.write(name + &#39;\n&#39;)</span><br><span class="line">            f.writelines(text)</span><br><span class="line">            f.write(&#39;\n\n&#39;)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    dl &#x3D; downloader()</span><br><span class="line">    dl.get_download_url()</span><br><span class="line">    print(&#39;《一年永恒》开始下载：&#39;)</span><br><span class="line">    for i in range(dl.nums):</span><br><span class="line">        dl.writer(dl.names[i], &#39;一念永恒.txt&#39;, dl.get_contents(dl.urls[i]))</span><br><span class="line">        sys.stdout.write(&quot;  已下载:%.3f%%&quot; %  float(i&#x2F;dl.nums) + &#39;\r&#39;)</span><br><span class="line">        sys.stdout.flush()</span><br><span class="line">    print(&#39;《一年永恒》下载完成&#39;)</span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687</span><br></pre></td></tr></table></figure>

<p>很简单的程序，单进程跑，没有开进程池。下载速度略慢，喝杯茶休息休息吧。代码运行效果如下图所示：</p>
<p><img src="https://img-blog.csdn.net/20170928144348411?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<h2 id="2-优美壁纸下载"><a href="#2-优美壁纸下载" class="headerlink" title="2 优美壁纸下载"></a>2 优美壁纸下载</h2><p>###（1）实战背景</p>
<p>已经会爬取文字了，是不是感觉爬虫还是蛮好玩的呢？接下来，让我们进行一个进阶实战，了解一下反爬虫。</p>
<p>URL：<a href="https://unsplash.com/" target="_blank" rel="noopener">https://unsplash.com/</a></p>
<p><img src="https://img-blog.csdn.net/20170928144442435?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>看一看这些优美的壁纸，这个网站的名字叫做Unsplash，免费高清壁纸分享网是一个坚持每天分享高清的摄影图片的站点，每天更新一张高质量的图片素材，全是生活中的景象作品，清新的生活气息图片可以作为桌面壁纸也可以应用于各种需要的环境。</p>
<p>看到这么优美的图片，我的第一反应就是想收藏一些，作为知乎文章的题图再好不过了。每张图片我都很喜欢，批量下载吧，不多爬，就下载50张好了。</p>
<p>###（2）实战进阶</p>
<p>我们已经知道了每个html标签都有各自的功能。<code>&lt;a&gt;</code>标签存放一下超链接，图片存放在哪个标签里呢？html规定，图片统统给我放到<code>&lt;img&gt;</code>标签中！既然这样，我们截取就Unsplash网站中的一个<code>&lt;img&gt;</code>标签，分析一下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img alt&#x3D;&quot;Snow-capped mountain slopes under blue sky&quot; src&#x3D;&quot;https:&#x2F;&#x2F;images.unsplash.com&#x2F;photo-1428509774491-cfac96e12253?dpr&#x3D;1&amp;auto&#x3D;compress,format&amp;fit&#x3D;crop&amp;w&#x3D;360&amp;h&#x3D;240&amp;q&#x3D;80&amp;cs&#x3D;tinysrgb&amp;crop&#x3D;&quot; class&#x3D;&quot;cV68d&quot; style&#x3D;&quot;width: 220px; height: 147px;&quot;&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>可以看到，<code>&lt;img&gt;</code>标签有很多属性，有alt、src、class、style属性，其中src属性存放的就是我们需要的图片保存地址，我们根据这个地址就可以进行图片的下载。</p>
<p>那么，让我们先捋一捋这个过程：</p>
<ul>
<li>使用requeusts获取整个网页的HTML信息；</li>
<li>使用Beautiful Soup解析HTML信息，找到所有<code>&lt;img&gt;</code>标签，提取src属性，获取图片存放地址；</li>
<li>根据图片存放地址，下载图片。</li>
</ul>
<p>我们信心满满地按照这个思路爬取Unsplash试一试，编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;https:&#x2F;&#x2F;unsplash.com&#x2F;&#39;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target)</span><br><span class="line">     print(req.text)</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<p>按照我们的设想，我们应该能找到很多<code>&lt;img&gt;</code>标签。但是我们发现，除了一些<code>&lt;script&gt;</code>标签和一些看不懂的代码之外，我们一无所获，一个<code>&lt;img&gt;</code>标签都没有！跟我们在网站审查元素的结果完全不一样，这是为什么？</p>
<p><img src="https://img-blog.csdn.net/20170928144659798?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p><strong>答案就是，这个网站的所有图片都是动态加载的！</strong>网站有静态网站和动态网站之分，上一个实战爬取的网站是静态网站，而这个网站是动态网站，动态加载有一部分的目的就是为了反爬虫。</p>
<p><strong>对于什么是动态加载，你可以这样理解：我们知道化妆术学的好，贼厉害，可以改变一个人的容貌。相应的，动态加载用的好，也贼厉害，可以改变一个网站的容貌。</strong></p>
<p>动态网站使用动态加载常用的手段就是通过调用JavaScript来实现的。怎么实现JavaScript动态加载，我们不必深究，我们只要知道，动态加载的JavaScript脚本，就像化妆术需要用的化妆品，五花八门。有粉底、口红、睫毛膏等等，它们都有各自的用途。动态加载的JavaScript脚本也一样，一个动态加载的网站可能使用很多JavaScript脚本，我们只要找到负责动态加载图片的JavaScript脚本，不就找到我们需要的链接了吗？</p>
<p>对于初学者，我们不必看懂JavaScript执行的内容是什么，做了哪些事情，因为我们有强大的抓包工具，它自然会帮我们分析。这个强大的抓包工具就是Fiddler：</p>
<p>URL：<a href="http://www.telerik.com/fiddler" target="_blank" rel="noopener">http://www.telerik.com/fiddler</a></p>
<p>PS：也可以使用浏览器自带的Networks，但是我更推荐这个软件，因为它操作起来更高效。</p>
<p>安装方法很简单，傻瓜式安装，一直下一步即可，对于经常使用电脑的人来说，应该没有任何难度。</p>
<p>这个软件的使用方法也很简单，打开软件，然后用浏览器打开我们的目标网站，以Unsplash为例，抓包结果如下：</p>
<p><img src="https://img-blog.csdn.net/20170928144807582?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我们可以看到，上图左侧红框处是我们的GET请求的地址，就是网站的URL，右下角是服务器返回的信息，我们可以看到，这些信息也是我们上一个程序获得的信息。这个不是我们需要的链接，我们继续往下看。</p>
<p><img src="https://img-blog.csdn.net/20170930125322590?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我们发现上图所示的就是一个JavaScript请求，看右下侧服务器返回的信息是一个json格式的数据。这里面，就有我们需要的内容。我们局部放大看一下：</p>
<p><img src="https://img-blog.csdn.net/20170930125356095?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>这是Fiddler右侧的信息，上面是请求的Headers信息，包括这个Javascript的请求地 址：<a href="http://unsplash.com/napi/feeds/home，其他信息我们先不管，我们看看下面的内容。里面有很多图片的信息，包括图片的id，图片的大小，图片的链接，还有下一页的地址。这个脚本以json格式存储传输的数据，json格式是一种轻量级的数据交换格式，起到封装数据的作用，易于人阅读和编写，同时也易于机器解析和生成。这么多链接，可以看到图片的链接有很多，根据哪个链接下载图片呢？先别急，让我们继续分析：" target="_blank" rel="noopener">http://unsplash.com/napi/feeds/home，其他信息我们先不管，我们看看下面的内容。里面有很多图片的信息，包括图片的id，图片的大小，图片的链接，还有下一页的地址。这个脚本以json格式存储传输的数据，json格式是一种轻量级的数据交换格式，起到封装数据的作用，易于人阅读和编写，同时也易于机器解析和生成。这么多链接，可以看到图片的链接有很多，根据哪个链接下载图片呢？先别急，让我们继续分析：</a></p>
<p><img src="https://img-blog.csdn.net/20170930125434279?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>在这个网站，我们可以按这个按钮进行图片下载。我们抓包分下下这个动作，看看发送了哪些请求。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;1PrQ2mHW-Fo&#x2F;download?force&#x3D;true</span><br><span class="line">https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;JX7nDtafBcU&#x2F;download?force&#x3D;true</span><br><span class="line">https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;HCVbP3zqX4k&#x2F;download?force&#x3D;true</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>通过Fiddler抓包，我们发现，点击不同图片的下载按钮，GET请求的地址都是不同的。但是它们很有规律，就是中间有一段代码是不一样的，其他地方都一样。中间那段代码是不是很熟悉？没错，它就是我们之前抓包分析得到json数据中的照片的id。我们只要解析出每个照片的id，就可以获得图片下载的请求地址，然后根据这个请求地址，我们就可以下载图片了。那么，现在的首要任务就是解析json数据了。</p>
<p>json格式的数据也是分层的。可以看到next_page里存放的是下一页的请求地址，很显然Unsplash下一页的内容，也是动态加载的。在photos下面的id里，存放着图片的id，这个就是我们需要获得的图片id号。</p>
<p>怎么编程提取这些json数据呢？我们也是分步完成：</p>
<ul>
<li>获取整个json数据</li>
<li>解析json数据</li>
</ul>
<p>编写代码，尝试获取json数据：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target) print(req.text)</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p>很遗憾，程序报错了，问题出在哪里？通过错误信息，我们可以看到SSL认证错误，SSL认证是指客户端到服务器端的认证。一个非常简单的解决这个认证错误的方法就是设置requests.get()方法的verify参数。这个参数默认设置为True，也就是执行认证。我们将其设置为False，绕过认证不就可以了？</p>
<p><img src="https://img-blog.csdn.net/20170930125540248?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>有想法就要尝试，编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target, verify&#x3D;False)</span><br><span class="line">     print(req.text)</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<p>认证问题解决了，又有新问题了：</p>
<p><img src="https://img-blog.csdn.net/20170930125626169?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>可以看到，我们GET请求又失败了，这是为什么？这个网站反爬虫的手段除了动态加载，还有一个反爬虫手段，那就是验证Request Headers。接下来，让我们分析下这个Requests Headers：</p>
<p><img src="https://img-blog.csdn.net/20170930125652596?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>我截取了Fiddler的抓包信息，可以看到Requests Headers里又很多参数，有Accept、Accept-Encoding、Accept-Language、DPR、User-Agent、Viewport-Width、accept-version、Referer、x-unsplash-client、authorization、Connection、Host。它们都是什么意思呢？</p>
<p>专业的解释能说的太多，我挑重点：</p>
<ul>
<li>User-Agent：这里面存放浏览器的信息。可以看到上图的参数值，它表示我是通过Windows的Chrome浏览器，访问的这个服务器。如果我们不设置这个参数，用Python程序直接发送GET请求，服务器接受到的User-Agent信息就会是一个包含python字样的User-Agent。如果后台设计者验证这个User-Agent参数是否合法，不让带Python字样的User-Agent访问，这样就起到了反爬虫的作用。这是一个最简单的，最常用的反爬虫手段。</li>
<li>Referer：这个参数也可以用于反爬虫，它表示这个请求是从哪发出的。可以看到我们通过浏览器访问网站，这个请求是从<a href="https://unsplash.com/，这个地址发出的。如果后台设计者，验证这个参数，对于不是从这个地址跳转过来的请求一律禁止访问，这样就也起到了反爬虫的作用。" target="_blank" rel="noopener">https://unsplash.com/，这个地址发出的。如果后台设计者，验证这个参数，对于不是从这个地址跳转过来的请求一律禁止访问，这样就也起到了反爬虫的作用。</a></li>
<li>authorization：这个参数是基于AAA模型中的身份验证信息允许访问一种资源的行为。在我们用浏览器访问的时候，服务器会为访问者分配这个用户ID。如果后台设计者，验证这个参数，对于没有用户ID的请求一律禁止访问，这样就又起到了反爬虫的作用。</li>
</ul>
<p>Unsplash是根据哪个参数反爬虫的呢？根据我的测试，是authorization。我们只要通过程序手动添加这个参数，然后再发送GET请求，就可以顺利访问了。怎么什么设置呢？还是requests.get()方法，我们只需要添加headers参数即可。编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     headers &#x3D; &#123;&#39;authorization&#39;:&#39;your Client-ID&#39;&#125;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target, headers&#x3D;headers, verify&#x3D;False)</span><br><span class="line">     print(req.text)</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<p>headers参数值是通过字典传入的。记得将上述代码中your Client-ID换成诸位自己抓包获得的信息。代码运行结果如下：</p>
<p><img src="https://img-blog.csdn.net/20170930125810442?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>皇天不负有心人，可以看到我们已经顺利获得json数据了，里面有next_page和照片的id。接下来就是解析json数据。根据我们之前分析可知，next_page放在了json数据的最外侧，照片的id放在了photos-&gt;id里。我们使用json.load()方法解析数据，编写代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests, json</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     headers &#x3D; &#123;&#39;authorization&#39;:&#39;your Client-ID&#39;&#125;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target, headers&#x3D;headers, verify&#x3D;False)</span><br><span class="line">     html &#x3D; json.loads(req.text)</span><br><span class="line">     next_page &#x3D; html[&#39;next_page&#39;]</span><br><span class="line">     print(&#39;下一页地址:&#39;,next_page)</span><br><span class="line">     for each in html[&#39;photos&#39;]:</span><br><span class="line">          print(&#39;图片ID:&#39;,each[&#39;id&#39;])</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p>解析json数据很简单，跟字典操作一样，就是字典套字典。json.load()里面的参数是原始的json格式的数据。程序运行结果如下：</p>
<p><img src="https://img-blog.csdn.net/20170930125850471?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>图片的ID已经获得了，再通过字符串处理一下，就生成了我们需要的图片下载请求地址。根据这个地址，我们就可以下载图片了。下载方式，使用直接写入文件的方法。</p>
<p>###（3）整合代码</p>
<p>每次获取链接加一个1s延时，因为人在浏览页面的时候，翻页的动作不可能太快。我们要让我们的爬虫尽量友好一些。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests, json, time, sys</span><br><span class="line">from contextlib import closing</span><br><span class="line"></span><br><span class="line">class get_photos(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.photos_id &#x3D; []</span><br><span class="line">        self.download_server &#x3D; &#39;https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;xxx&#x2F;download?force&#x3D;trues&#39;</span><br><span class="line">        self.target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">        self.headers &#x3D; &#123;&#39;authorization&#39;:&#39;Client-ID c94869b36aa272dd62dfaeefed769d4115fb3189a9d1ec88ed457207747be626&#39;&#125;</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:获取图片ID</span><br><span class="line">    Parameters:</span><br><span class="line">        无</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;   </span><br><span class="line">    def get_ids(self):</span><br><span class="line">        req &#x3D; requests.get(url&#x3D;self.target, headers&#x3D;self.headers, verify&#x3D;False)</span><br><span class="line">        html &#x3D; json.loads(req.text)</span><br><span class="line">        next_page &#x3D; html[&#39;next_page&#39;]</span><br><span class="line">        for each in html[&#39;photos&#39;]:</span><br><span class="line">            self.photos_id.append(each[&#39;id&#39;])</span><br><span class="line">        time.sleep(1)</span><br><span class="line">        for i in range(5):</span><br><span class="line">            req &#x3D; requests.get(url&#x3D;next_page, headers&#x3D;self.headers, verify&#x3D;False)</span><br><span class="line">            html &#x3D; json.loads(req.text)</span><br><span class="line">            next_page &#x3D; html[&#39;next_page&#39;]</span><br><span class="line">            for each in html[&#39;photos&#39;]:</span><br><span class="line">                self.photos_id.append(each[&#39;id&#39;])</span><br><span class="line">            time.sleep(1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:图片下载</span><br><span class="line">    Parameters:</span><br><span class="line">        无</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;   </span><br><span class="line">    def download(self, photo_id, filename):</span><br><span class="line">        headers &#x3D; &#123;&#39;User-Agent&#39;:&#39;Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;61.0.3163.79 Safari&#x2F;537.36&#39;&#125;</span><br><span class="line">        target &#x3D; self.download_server.replace(&#39;xxx&#39;, photo_id)</span><br><span class="line">        with closing(requests.get(url&#x3D;target, stream&#x3D;True, verify &#x3D; False, headers &#x3D; self.headers)) as r:</span><br><span class="line">            with open(&#39;%d.jpg&#39; % filename, &#39;ab+&#39;) as f:</span><br><span class="line">                for chunk in r.iter_content(chunk_size &#x3D; 1024):</span><br><span class="line">                    if chunk:</span><br><span class="line">                        f.write(chunk)</span><br><span class="line">                        f.flush()</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    gp &#x3D; get_photos()</span><br><span class="line">    print(&#39;获取图片连接中:&#39;)</span><br><span class="line">    gp.get_ids()</span><br><span class="line">    print(&#39;图片下载中:&#39;)</span><br><span class="line">    for i in range(len(gp.photos_id)):</span><br><span class="line">        print(&#39;  正在下载第%d张图片&#39; % (i+1))</span><br><span class="line">        gp.download(gp.photos_id[i], (i+1))</span><br><span class="line">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364</span><br></pre></td></tr></table></figure>

<p>下载速度还行，有的图片下载慢是因为图片太大。可以看到右侧也打印了一些警报信息，这是因为我们没有进行SSL验证。</p>
<p><img src="https://img-blog.csdn.net/20170930130019403?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<p>学会了爬取图片，简单的动态加载的网站也难不倒你了。赶快试试国内的一些图片网站吧！</p>
<h2 id="3-视频下载"><a href="#3-视频下载" class="headerlink" title="3 视频下载"></a>3 视频下载</h2><p>视频下载教程，请到这里查看：</p>
<p><a href="https://cuijiahua.com/blog/2017/10/spider_tutorial_1.html" target="_blank" rel="noopener">https://cuijiahua.com/blog/2017/10/spider_tutorial_1.html</a></p>
<h1 id="四-总结"><a href="#四-总结" class="headerlink" title="四 总结"></a>四 总结</h1><ul>
<li>本次Chat讲解的实战内容，均仅用于学习交流，请勿用于任何商业用途！</li>
<li>爬虫时效性低，同样的思路过了一个月，甚至一周可能无法使用，但是爬取思路都是如此，完全可以自行分析。</li>
<li>本次实战代码，均已上传我的Github，欢迎Follow、Star：<a href="https://github.com/Jack-Cherish/python-spider" target="_blank" rel="noopener">https://github.com/Jack-Cherish/python-spider</a></li>
<li>如有问题，请留言。如有错误，还望指正，谢谢！</li>
</ul>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 爬虫（一）</title>
    <url>/2020/06/13/Python-%E7%88%AC%E8%99%AB%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 这是一篇详细介绍 <a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 爬虫入门的教程，从实战出发，适合初学者。读者只需在阅读过程紧跟文章思路，理清相应的实现代码，30 分钟即可学会编写简单的 Python 爬虫。</p>
<p>这篇 Python 爬虫教程主要讲解以下 5 部分内容：</p>
<ol>
<li>了解网页；</li>
<li>使用 requests 库抓取网站数据；</li>
<li>使用 Beautiful Soup 解析网页；</li>
<li>清洗和组织数据；</li>
<li>爬虫攻防战；</li>
</ol>
<h2 id="了解网页"><a href="#了解网页" class="headerlink" title="了解网页"></a>了解网页</h2><p>以中国旅游网首页（<a href="http://www.cntour.cn/）为例，抓取中国旅游网首页首条信息（标题和链接），数据以明文的形式出面在源码中。在中国旅游网首页，按快捷键【Ctrl+U】打开源码页面，如图" target="_blank" rel="noopener">http://www.cntour.cn/）为例，抓取中国旅游网首页首条信息（标题和链接），数据以明文的形式出面在源码中。在中国旅游网首页，按快捷键【Ctrl+U】打开源码页面，如图</a> 1 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G63943S6.jpg" alt="img"><br>图 1 中国旅游网首页源码</p>
<h3 id="认识网页结构"><a href="#认识网页结构" class="headerlink" title="认识网页结构"></a>认识网页结构</h3><p>网页一般由三部分组成，分别是 HTML（超文本标记语言）、CSS（层叠样式表）和 JScript（活动脚本语言）。</p>
<h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><p>HTML 是整个网页的结构，相当于整个网站的框架。带“＜”、“＞”符号的都是属于 HTML 的标签，并且标签都是成对出现的。</p>
<p>常见的标签如下：</p>
<html>..</html> 表示标记中间的元素是网页<body>..</body> 表示用户可见的内容<div>..</div> 表示框架<p>..</p> 表示段落<li>..</li>表示列表<img>..</img>表示图片<h1>..</h1>表示标题<a href="">..</a>表示超链接

<h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><p>CSS 表示样式，图 1 中第 13 行＜style type=＂text/css＂＞表示下面引用一个 CSS，在 CSS 中定义了外观。</p>
<h4 id="JScript"><a href="#JScript" class="headerlink" title="JScript"></a>JScript</h4><p>JScript 表示功能。交互的内容和各种特效都在 JScript 中，JScript 描述了网站中的各种功能。</p>
<p>如果用人体来比喻，HTML 是人的骨架，并且定义了人的嘴巴、眼睛、耳朵等要长在哪里。CSS 是人的外观细节，如嘴巴长什么样子，眼睛是双眼皮还是单眼皮，是大眼睛还是小眼睛，皮肤是黑色的还是白色的等。JScript 表示人的技能，例如跳舞、唱歌或者演奏乐器等。</p>
<h3 id="写一个简单的-HTML"><a href="#写一个简单的-HTML" class="headerlink" title="写一个简单的 HTML"></a>写一个简单的 HTML</h3><p>通过编写和修改 HTML，可以更好地理解 HTML。首先打开一个记事本，然后输入下面的内容：</p>
<html><head>    <title> Python 3 爬虫与数据清洗入门与实战</title>
  <meta name="generator" content="hexo-theme-yilia-plus"><link rel="alternate" href="/atom.xml" title="广外编程社官网" type="application/atom+xml">
</head><body>    <div>        <p>Python 3爬虫与数据清洗入门与实战</p>    </div>    <div>        <ul>            <li><a href="http://c.biancheng.net" target="_blank" rel="noopener">爬虫</a></li>            <li>数据清洗</li>        </ul>    </div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

<p>输入代码后，保存记事本，然后修改文件名和后缀名为”HTML.html”；</p>
<p>运行该文件后的效果，如图 2 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64134V2.gif" alt="img"><br>图 2</p>
<p>这段代码只是用到了 HTML，读者可以自行修改代码中的中文，然后观察其变化。</p>
<h3 id="关于爬虫的合法性"><a href="#关于爬虫的合法性" class="headerlink" title="关于爬虫的合法性"></a>关于爬虫的合法性</h3><p>几乎每一个网站都有一个名为 robots.txt 的文档，当然也有部分网站没有设定 robots.txt。对于没有设定 robots.txt 的网站可以通过网络爬虫获取没有口令加密的数据，也就是该网站所有页面数据都可以爬取。如果网站有 robots.txt 文档，就要判断是否有禁止访客获取的数据。</p>
<p>以淘宝网为例，在浏览器中访问 <a href="https://www.taobao.com/robots.txt，如图" target="_blank" rel="noopener">https://www.taobao.com/robots.txt，如图</a> 3 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6422Ub.gif" alt="img"><br>图 3 淘宝网的robots.txt文件内容</p>
<p>淘宝网允许部分爬虫访问它的部分路径，而对于没有得到允许的用户，则全部禁止爬取，代码如下：</p>
<p>User-Agent:*<br>Disallow:/</p>
<p>这一句代码的意思是除前面指定的爬虫外，不允许其他爬虫爬取任何数据。</p>
<h2 id="使用-requests-库请求网站"><a href="#使用-requests-库请求网站" class="headerlink" title="使用 requests 库请求网站"></a>使用 requests 库请求网站</h2><h3 id="安装-requests-库"><a href="#安装-requests-库" class="headerlink" title="安装 requests 库"></a>安装 requests 库</h3><p>首先在 PyCharm 中安装 requests 库，为此打开 PyCharm，单击“File”（文件）菜单，选择“Setting for New Projects…”命令，如图 4 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64314Q6.jpg" alt="img"><br>图 4</p>
<p>选择“Project Interpreter”（项目编译器）命令，确认当前选择的编译器，然后单击右上角的加号，如图 5 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64341W4.jpg" alt="img"><br>图 5</p>
<p>在搜索框输入：requests（注意，一定要输入完整，不然容易出错），然后单击左下角的“Install Package”（安装库）按钮。如图 6 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64400193.jpg" alt="img"><br>图 6</p>
<p>安装完成后，会在 Install Package 上显示“Package‘requests’ installed successfully”（库的请求已成功安装），如图 7 所示；如果安装不成功将会显示提示信息。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G644192R.jpg" alt="img"><br>图 7 安装成功</p>
<h3 id="爬虫的基本原理"><a href="#爬虫的基本原理" class="headerlink" title="爬虫的基本原理"></a>爬虫的基本原理</h3><p>网页请求的过程分为两个环节：</p>
<ol>
<li>Request （请求）：每一个展示在用户面前的网页都必须经过这一步，也就是向服务器发送访问请求。</li>
<li>Response（响应）：服务器在接收到用户的请求后，会验证请求的有效性，然后向用户（客户端）发送响应的内容，客户端接收服务器响应的内容，将内容展示出来，就是我们所熟悉的网页请求，如图 8 所示。</li>
</ol>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6451I08.gif" alt="img"><br>图 8 Response相应</p>
<p>网页请求的方式也分为两种：</p>
<ol>
<li>GET：最常见的方式，一般用于获取或者查询资源信息，也是大多数网站使用的方式，响应速度快。</li>
<li>POST：相比 GET 方式，多了以表单形式上传参数的功能，因此除查询信息外，还可以修改信息。</li>
</ol>
<p>所以，在写爬虫前要先确定向谁发送请求，用什么方式发送。</p>
<h3 id="使用-GET-方式抓取数据"><a href="#使用-GET-方式抓取数据" class="headerlink" title="使用 GET 方式抓取数据"></a>使用 GET 方式抓取数据</h3><p>复制任意一条首页首条新闻的标题，在源码页面按【Ctrl+F】组合键调出搜索框，将标题粘贴在搜索框中，然后按【Enter】键。</p>
<p>如图 8 所示，标题可以在源码中搜索到，请求对象是<a href="http://www.cntour.cn，请求方式是GET（所有在源码中的数据请求方式都是GET），如图" target="_blank" rel="noopener">www.cntour.cn，请求方式是GET（所有在源码中的数据请求方式都是GET），如图</a> 9 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64620C9.jpg" alt="img"><br>图 9（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6464b94.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p>
<p>确定好请求对象和方式后，在 PyCharm 中输入以下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests        #导入requests包url &#x3D; &#39;http:&#x2F;&#x2F;www.cntour.cn&#x2F;&#39;strhtml &#x3D; requests.get(url)        #Get方式获取网页数据print(strhtml.text)</span><br></pre></td></tr></table></figure>

<p>运行结果如图 10 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64I4104.jpg" alt="img"><br>图 10 运行结果效果图（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64K5445.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p>
<p>加载库使用的语句是 import+库的名字。在上述过程中，加载 requests 库的语句是：import requests。</p>
<p>用 GET 方式获取数据需要调用 requests 库中的 get 方法，使用方法是在 requests 后输入英文点号，如下所示：</p>
<p>requests.get</p>
<p>将获取到的数据存到 strhtml 变量中，代码如下：</p>
<p>strhtml = request.get(url)</p>
<p>这个时候 strhtml 是一个 URL 对象，它代表整个网页，但此时只需要网页中的源码，下面的语句表示网页源码：</p>
<p>strhtml.text</p>
<h3 id="使用-POST-方式抓取数据"><a href="#使用-POST-方式抓取数据" class="headerlink" title="使用 POST 方式抓取数据"></a>使用 POST 方式抓取数据</h3><p>首先输入有道翻译的网址：<a href="http://fanyi.youdao.com/，进入有道翻译页面。" target="_blank" rel="noopener">http://fanyi.youdao.com/，进入有道翻译页面。</a></p>
<p>按快捷键 F12，进入开发者模式，单击 Network，此时内容为空，如图 11 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64ZU55.gif" alt="img"><br>图 11</p>
<p>在有道翻译中输入“我爱中国”，单击“翻译”按钮，如图 12 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6492K96.gif" alt="img"><br>图 12</p>
<p>在开发者模式中，依次单击“Network”按钮和“XHR”按钮，找到翻译数据，如图 13 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6494Y00.gif" alt="img"><br>图 13</p>
<p>单击 Headers，发现请求数据的方式为 POST。如图 14 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA00I57.gif" alt="img"><br>图 14</p>
<p>找到数据所在之处并且明确请求方式之后，接下来开始撰写爬虫。</p>
<p>首先，将 Headers 中的 URL 复制出来，并赋值给 url，代码如下：</p>
<p>url = ‘<a href="http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;" target="_blank" rel="noopener">http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;</a></p>
<p>POST 的请求获取数据的方式不同于 GET，POST 请求数据必须构建请求头才可以。</p>
<p>Form Data 中的请求参数如图 15 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA041451.gif" alt="img"><br>图 15</p>
<p>将其复制并构建一个新字典：</p>
<p>From_data={‘i’:’我愛中國’,’from’:’zh-CHS’,’to’:’en’,’smartresult’:’dict’,’client’:’fanyideskweb’,’salt’:’15477056211258’,’sign’:’b3589f32c38bc9e3876a570b8a992604’,’ts’:’1547705621125’,’bv’:’b33a2f3f9d09bde064c9275bcb33d94e’,’doctype’:’json’,’version’:’2.1’,’keyfrom’:’fanyi.web’,’action’:’FY_BY_REALTIME’,’typoResult’:’false’}</p>
<p>接下来使用 requests.post 方法请求表单数据，代码如下：</p>
<p>import requests    #导入requests包<br>response = requests.post(url,data=payload)</p>
<p>将字符串格式的数据转换成 JSON 格式数据，并根据<a href="http://c.biancheng.net/data_structure/" target="_blank" rel="noopener">数据结构</a>，提取数据，并将翻译结果打印出来，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import jsoncontent &#x3D; json.loads(response.text)print(content[&#39;translateResult&#39;][0][0][&#39;tgt&#39;])</span><br></pre></td></tr></table></figure>

<p>使用 requests.post 方法抓取有道翻译结果的完整代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests        #导入requests包import jsondef get_translate_date(word&#x3D;None):    url &#x3D; &#39;http:&#x2F;&#x2F;fanyi.youdao.com&#x2F;translate_o?smartresult&#x3D;dict&amp;smartresult&#x3D;rule&#39;    From_data&#x3D;&#123;&#39;i&#39;:word,&#39;from&#39;:&#39;zh-CHS&#39;,&#39;to&#39;:&#39;en&#39;,&#39;smartresult&#39;:&#39;dict&#39;,&#39;client&#39;:&#39;fanyideskweb&#39;,&#39;salt&#39;:&#39;15477056211258&#39;,&#39;sign&#39;:&#39;b3589f32c38bc9e3876a570b8a992604&#39;,&#39;ts&#39;:&#39;1547705621125&#39;,&#39;bv&#39;:&#39;b33a2f3f9d09bde064c9275bcb33d94e&#39;,&#39;doctype&#39;:&#39;json&#39;,&#39;version&#39;:&#39;2.1&#39;,&#39;keyfrom&#39;:&#39;fanyi.web&#39;,&#39;action&#39;:&#39;FY_BY_REALTIME&#39;,&#39;typoResult&#39;:&#39;false&#39;&#125;    #请求表单数据    response &#x3D; requests.post(url,data&#x3D;From_data)    #将Json格式字符串转字典    content &#x3D; json.loads(response.text)    print(content)    #打印翻译后的数据    #print(content[&#39;translateResult&#39;][0][0][&#39;tgt&#39;])if __name__&#x3D;&#x3D;&#39;__main__&#39;:    get_translate_date(&#39;我爱中国&#39;)</span><br></pre></td></tr></table></figure>

<h2 id="使用-Beautiful-Soup-解析网页"><a href="#使用-Beautiful-Soup-解析网页" class="headerlink" title="使用 Beautiful Soup 解析网页"></a>使用 Beautiful Soup 解析网页</h2><p>通过 requests 库已经可以抓到网页源码，接下来要从源码中找到并提取数据。Beautiful Soup 是 python 的一个库，其最主要的功能是从网页中抓取数据。Beautiful Soup 目前已经被移植到 bs4 库中，也就是说在导入 Beautiful Soup 时需要先安装 bs4 库。</p>
<p>安装 bs4 库的方式如图 16 所示:</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA15bD.gif" alt="img"><br>图 16</p>
<p>安装好 bs4 库以后，还需安装 lxml 库。如果我们不安装 lxml 库，就会使用 Python 默认的解析器。尽管 Beautiful Soup 既支持 Python 标准库中的 HTML 解析器又支持一些第三方解析器，但是 lxml 库具有功能更加强大、速度更快的特点，因此笔者推荐安装 lxml 库。</p>
<p>安装 Python 第三方库后，输入下面的代码，即可开启 Beautiful Soup 之旅：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests        #导入requests包from bs4 import    BeautifulSoupurl&#x3D;&#39;http:&#x2F;&#x2F;www.cntour.cn&#x2F;&#39;strhtml&#x3D;requests.get(url)soup&#x3D;BeautifulSoup(strhtml.text,&#39;lxml&#39;)data &#x3D; soup.select(&#39;#main&gt;div&gt;div.mtop.firstMod.clearfix&gt;div.centerBox&gt;ul.newsList&gt;li&gt;a&#39;)print(data)</span><br></pre></td></tr></table></figure>

<p>代码运行结果如图 17 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA244Q8.jpg" alt="img"><br>图 17（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA30cY.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p>
<p>Beautiful Soup 库能够轻松解析网页信息，它被集成在 bs4 库中，需要时可以从 bs4 库中调用。其表达语句如下：</p>
<p>from bs4 import BeautifulSoup</p>
<p>首先，HTML 文档将被转换成 Unicode 编码格式，然后 Beautiful Soup 选择最合适的解析器来解析这段文档，此处指定 lxml 解析器进行解析。解析后便将复杂的 HTML 文档转换成树形结构，并且每个节点都是 Python 对象。这里将解析后的文档存储到新建的变量 soup 中，代码如下：</p>
<p>soup=BeautifulSoup(strhtml.text,’lxml’)</p>
<p>接下来用 select（选择器）定位数据，定位数据时需要使用浏览器的开发者模式，将鼠标光标停留在对应的数据位置并右击，然后在快捷菜单中选择“检查”命令，如图 18 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA40T17.gif" alt="img"><br>图 18</p>
<p>随后在浏览器右侧会弹出开发者界面，右侧高亮的代码（参见图 19(b)）对应着左侧高亮的数据文本（参见图 19(a)）。右击右侧高亮数据，在弹出的快捷菜单中选择“Copy”➔“Copy Selector”命令，便可以自动复制路径。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA45JN.gif" alt="img"><br>图 19 复制路径</p>
<p>将路径粘贴在文档中，代码如下:</p>
<p>#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li:nth-child(1) &gt; a</p>
<p>由于这条路径是选中的第一条的路径，而我们需要获取所有的头条新闻，因此将 li：nth-child（1）中冒号（包含冒号）后面的部分删掉，代码如下：</p>
<p>#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li &gt; a</p>
<p>使用 soup.select 引用这个路径，代码如下：</p>
<p>data = soup.select(‘#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li &gt; a’)</p>
<h2 id="清洗和组织数据"><a href="#清洗和组织数据" class="headerlink" title="清洗和组织数据"></a>清洗和组织数据</h2><p>至此，获得了一段目标的 HTML 代码，但还没有把数据提取出来，接下来在 PyCharm 中输入以下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for item in data:    result&#x3D;&#123;        &#39;title&#39;:item.get_text(),        &#39;link&#39;:item.get(&#39;href&#39;)    &#125;print(result)</span><br></pre></td></tr></table></figure>

<p>代码运行结果如图 20 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA60R06.gif" alt="img"><br>图 20（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA629403.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p>
<p>首先明确要提取的数据是标题和链接，标题在＜a＞标签中，提取标签的正文用 get_text() 方法。链接在＜a＞标签的 href 属性中，提取标签中的 href 属性用 get() 方法，在括号中指定要提取的属性数据，即 get(＇href＇)。</p>
<p>从图 20 中可以发现，文章的链接中有一个数字 ID。下面用正则表达式提取这个 ID。需要使用的正则符号如下:</p>
<p>\d匹配数字<br>+匹配前一个字符1次或多次</p>
<p>在 Python 中调用正则表达式时使用 re 库，这个库不用安装，可以直接调用。在 PyCharm 中输入以下代码:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import refor item in data:    result&#x3D;&#123;        &quot;title&quot;:item.get_text(),        &quot;link&quot;:item.get(&#39;href&#39;),        &#39;ID&#39;:re.findall(&#39;\d+&#39;,item.get(&#39;href&#39;))    &#125;print(result)</span><br></pre></td></tr></table></figure>

<p>运行结果如图 21 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GAHKD.jpg" alt="img"><br>图 21</p>
<p>这里使用 re 库的 findall 方法，第一个参数表示正则表达式，第二个参数表示要提取的文本。</p>
<h2 id="爬虫攻防战"><a href="#爬虫攻防战" class="headerlink" title="爬虫攻防战"></a>爬虫攻防战</h2><p>爬虫是模拟人的浏览访问行为，进行数据的批量抓取。当抓取的数据量逐渐增大时，会给被访问的服务器造成很大的压力，甚至有可能崩溃。换句话就是说，服务器是不喜欢有人抓取自己的数据的。那么，网站方面就会针对这些爬虫者，采取一些反爬策略。</p>
<p>服务器第一种识别爬虫的方式就是通过检查连接的 useragent 来识别到底是浏览器访问，还是代码访问的。如果是代码访问的话，访问量增大时，服务器会直接封掉来访 IP。</p>
<p>那么应对这种初级的反爬机制，我们应该采取何种举措？</p>
<p>还是以前面创建好的爬虫为例。在进行访问时，我们在开发者环境下不仅可以找到 URL、Form Data，还可以在 Request headers 中构造浏览器的请求头，封装自己。服务器识别浏览器访问的方法就是判断 keyword 是否为 Request headers 下的 User-Agent，如图 22 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GAR3P1.jpg" alt="img"><br>图 22</p>
<p>因此，我们只需要构造这个请求头的参数。创建请求头部信息即可，代码如下：</p>
<p>headers={‘User-Agent’:’Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36’}<br>response = request.get(url,headers=headers)</p>
<p>写到这里，很多读者会认为修改 User-Agent 很太简单。确实很简单，但是正常人1秒看一个图，而个爬虫1秒可以抓取好多张图，比如 1 秒抓取上百张图，那么服务器的压力必然会增大。也就是说，如果在一个 IP 下批量访问下载图片，这个行为不符合正常人类的行为，肯定要被封 IP。</p>
<p>其原理也很简单，就是统计每个IP的访问频率，该频率超过阈值，就会返回一个验证码，如果真的是用户访问的话，用户就会填写，然后继续访问，如果是代码访问的话，就会被封 IP。</p>
<p>这个问题的解决方案有两个，第一个就是常用的增设延时，每 3 秒钟抓取一次，代码如下：</p>
<p>import time<br>time.sleep(3)</p>
<p>但是，我们写爬虫的目的是为了高效批量抓取数据，这里设置 3 秒钟抓取一次，效率未免太低。其实，还有一个更重要的解决办法，那就是从本质上解决问题。</p>
<p>不管如何访问，服务器的目的就是查出哪些为代码访问，然后封锁 IP。解决办法：为避免被封 IP，在数据采集时经常会使用代理。当然，requests 也有相应的 proxies 属性。</p>
<p>首先，构建自己的代理 IP 池，将其以字典的形式赋值给 proxies，然后传输给 requests，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">proxies&#x3D;&#123;    &quot;http&quot;:&quot;http:&#x2F;&#x2F;10.10.1.10:3128&quot;,    &quot;https&quot;:&quot;http:&#x2F;&#x2F;10.10.1.10:1080&quot;,&#125;response &#x3D; requests.get(url, proxies&#x3D;proxies)</span><br></pre></td></tr></table></figure>

<h2 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h2><p>本文仅对 Python 爬虫及实现过程做了简明扼要地介绍，仅能使初学者对 python 爬虫有一个浅显的认识，并不能让你完全掌握 Python 爬虫。</p>
<p>如果你想对 Python 爬虫有更深入的了解，我推荐你阅读：</p>
<ul>
<li><a href="https://www.cnblogs.com/Albert-Lee/p/6226699.html" target="_blank" rel="noopener">Python爬虫入门教程 </a></li>
<li><a href="https://blog.csdn.net/c406495762/article/details/78123502" target="_blank" rel="noopener">Python3网络爬虫入门教程</a></li>
<li><a href="http://www.imooc.com/learn/563" target="_blank" rel="noopener">Python爬虫教程——慕课网</a></li>
</ul>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python pip</title>
    <url>/2020/06/13/Python-pip/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> pip 是 Python 包管理工具，该工具提供了对Python 包的查找、下载、安装、卸载的功能。</p>
<p>目前如果你在 <a href="https://www.python.org/" target="_blank" rel="noopener">python.org</a> 下载最新版本的安装包，则是已经自带了该工具。</p>
<p>Python 2.7.9 + 或 Python 3.4+ 以上版本都自带 pip 工具。</p>
<p>pip 官网：<a href="https://pypi.org/project/pip/" target="_blank" rel="noopener">https://pypi.org/project/pip/</a></p>
<p>你可以通过以下命令来判断是否已安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip --version</span><br></pre></td></tr></table></figure>

<p>如果你还未安装，则可以使用以下方法来安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl https:&#x2F;&#x2F;bootstrap.pypa.io&#x2F;get-pip.py -o get-pip.py   # 下载安装脚本</span><br><span class="line">$ sudo python get-pip.py    # 运行安装脚本</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>用哪个版本的 Python 运行安装脚本，pip 就被关联到哪个版本，如果是 Python3 则执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo python3 get-pip.py    # 运行安装脚本。</span><br></pre></td></tr></table></figure>

<p>一般情况 pip 对应的是 Python 2.7，pip3 对应的是 Python 3.x。</p>
</blockquote>
<p>部分 Linux 发行版可直接用包管理器安装 pip，如 Debian 和 Ubuntu：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python-pip</span><br></pre></td></tr></table></figure>

<h3 id="pip-最常用命令"><a href="#pip-最常用命令" class="headerlink" title="pip 最常用命令"></a>pip 最常用命令</h3><p><strong>显示版本和路径</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip --version</span><br></pre></td></tr></table></figure>

<p><strong>获取帮助</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip --help</span><br></pre></td></tr></table></figure>

<p><strong>升级 pip</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install -U pip</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果这个升级命令出现问题 ，可以使用以下命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo easy_install --upgrade pip</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>安装包</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install SomePackage              # 最新版本</span><br><span class="line">pip install SomePackage&#x3D;&#x3D;1.0.4       # 指定版本</span><br><span class="line">pip install &#39;SomePackage&gt;&#x3D;1.0.4&#39;     # 最小版本</span><br></pre></td></tr></table></figure>

<p>比如我要安装 Django。用以下的一条命令就可以，方便快捷。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install Django&#x3D;&#x3D;1.7</span><br></pre></td></tr></table></figure>

<p><strong>升级包</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install --upgrade SomePackage</span><br></pre></td></tr></table></figure>

<p>升级指定的包，通过使用==, &gt;=, &lt;=, &gt;, &lt; 来指定一个版本号。</p>
<p><strong>卸载包</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip uninstall SomePackage</span><br></pre></td></tr></table></figure>

<p><strong>搜索包</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip search SomePackage</span><br></pre></td></tr></table></figure>

<p><strong>显示安装包信息</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip show</span><br></pre></td></tr></table></figure>

<p><strong>查看指定包的详细信息</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip show -f SomePackage</span><br></pre></td></tr></table></figure>

<p><strong>列出已安装的包</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip list</span><br></pre></td></tr></table></figure>

<p><strong>查看可升级的包</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip list -o</span><br></pre></td></tr></table></figure>

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>如果 Python2 和 Python3 同时有 pip，则使用方法如下：</p>
<p>Python2：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python2 -m pip install XXX</span><br></pre></td></tr></table></figure>

<p>Python3:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python3 -m pip install XXX</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python PyInstaller</title>
    <url>/2020/06/13/Python-PyInstaller/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 在创建了独立应用（自包含该应用的依赖包）之后，还可以使用 PyInstaller 将 <a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 程序生成可直接运行的程序，这个程序就可以被分发到对应的 Windows 或 Mac OS X 平台上运行。</p>
<h2 id="安装-PyInstalle"><a href="#安装-PyInstalle" class="headerlink" title="安装 PyInstalle"></a>安装 PyInstalle</h2><p>Python 默认并不包含 PyInstaller 模块，因此需要自行安装 PyInstaller 模块。</p>
<p>安装 PyInstaller 模块与安装其他 Python 模块一样，使用 pip 命令安装即可。在命令行输入如下命令：</p>
<p>pip install pyinstaller</p>
<p>强烈建议使用 pip 在线安装的方式来安装 PyInstaller 模块，不要使用离线包的方式来安装，因为 PyInstaller 模块还依赖其他模块，pip 在安装 PyInstaller 模块时会先安装它的依赖模块。</p>
<p>运行上面命令，应该看到如下输出结果：</p>
<p>Successfully installed pyinstaller-x.x.x</p>
<p>其中的 x.x.x 代表 PyInstaller 的版本。</p>
<p>在 PyInstaller 模块安装成功之后，在 Python 的安装目录下的 <code>Scripts(D:\Python\Python36\Scripts)</code> 目录下会增加一个 pyinstaller.exe 程序，接下来就可以使用该工具将 Python 程序生成 EXE 程序了。</p>
<h2 id="PyInstaller生成可执行程序"><a href="#PyInstaller生成可执行程序" class="headerlink" title="PyInstaller生成可执行程序"></a>PyInstaller生成可执行程序</h2><p>PyInstaller 工具的命令语法如下：</p>
<p>pyinstaller 选项 Python 源文件</p>
<p>不管这个 Python 应用是单文件的应用，还是多文件的应用，只要在使用 pyinstaller 命令时编译作为程序入口的 Python 程序即可。</p>
<p>PyInstaller工具是跨平台的，它既可以在 Windows平台上使用，也可以在 Mac OS X 平台上运行。在不同的平台上使用 PyInstaller 工具的方法是一样的，它们支持的选项也是一样的。</p>
<p>下面先创建一个 app 目录，在该目录下创建一个 app.py 文件，文件中包含如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from say_hello import *def main():    print(&#39;程序开始执行&#39;)    print(say_hello(&#39;孙悟空&#39;))# 增加调用main()函数if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()</span><br></pre></td></tr></table></figure>

<p>接下来使用命令行工具进入到此 app 目录下，执行如下命令：</p>
<p>pyinstaller -F app.py</p>
<p>执行上面命令，将看到详细的生成过程。当生成完成后，将会在此 app 目录下看到多了一个 dist 目录，并在该目录下看到有一个 app.exe 文件，这就是使用 PyInstaller 工具生成的 EXE 程序。</p>
<p>在命令行窗口中进入 dist 目录下，在该目录执行 app.exe ，将会看到该程序生成如下输出结果：</p>
<p>程序开始执行<br>孙悟空，您好！</p>
<p>由于该程序没有图形用户界面，因此如果读者试图通过双击来运行该程序，则只能看到程序窗口一闪就消失了，这样将无法看到该程序的输出结果。</p>
<p>在上面命令中使用了-F 选项，该选项指定生成单独的 EXE 文件，因此，在 dist 目录下生成了一个单独的大约为 6MB 的 app.exe 文件（在 Mac OS X 平台上生成的文件就叫 app，没有后缀）；与 -F 选项对应的是 -D 选项（默认选项），该选项指定生成一个目录（包含多个文件）来作为程序。</p>
<p>下面先将 PyInstaller 工具在 app 目录下生成的 build、dist 目录删除，并将 app.spec 文件也删除，然后使用如下命令来生成 EXE 文件。</p>
<p>pyinstaller -D app.py</p>
<p>执行上面命令，将看到详细的生成过程。当生成完成后，将会在 app 目录下看到多了一个 dist 目录，并在该目录下看到有一个 app 子目录，在该子目录下包含了大量 .dll 文件和 .pyz 文件，它们都是 app.exe 程序的支撑文件。在命令行窗口中运行该 app.exe 程序，同样可以看到与前一个 app.exe 程序相同的输出结果。</p>
<p>PyInstaller 不仅支持 -F、-D 选项，而且也支持如表 1 所示的常用选项。</p>
<table>
<thead>
<tr>
<th>-h，–help</th>
<th>查看该模块的帮助信息</th>
</tr>
</thead>
<tbody><tr>
<td>-F，-onefile</td>
<td>产生单个的可执行文件</td>
</tr>
<tr>
<td>-D，–onedir</td>
<td>产生一个目录（包含多个文件）作为可执行程序</td>
</tr>
<tr>
<td>-a，–ascii</td>
<td>不包含 Unicode 字符集支持</td>
</tr>
<tr>
<td>-d，–debug</td>
<td>产生 debug 版本的可执行文件</td>
</tr>
<tr>
<td>-w，–windowed，–noconsolc</td>
<td>指定程序运行时不显示命令行窗口（仅对 Windows 有效）</td>
</tr>
<tr>
<td>-c，–nowindowed，–console</td>
<td>指定使用命令行窗口运行程序（仅对 Windows 有效）</td>
</tr>
<tr>
<td>-o DIR，–out=DIR</td>
<td>指定 spec 文件的生成目录。如果没有指定，则默认使用当前目录来生成 spec 文件</td>
</tr>
<tr>
<td>-p DIR，–path=DIR</td>
<td>设置 Python 导入模块的路径（和设置 PYTHONPATH 环境变量的作用相似）。也可使用路径分隔符（Windows 使用分号，Linux 使用冒号）来分隔多个路径</td>
</tr>
<tr>
<td>-n NAME，–name=NAME</td>
<td>指定项目（产生的 spec）名字。如果省略该选项，那么第一个脚本的主文件名将作为 spec 的名字</td>
</tr>
</tbody></table>
<p>在表 1 中列出的只是 PyInstaller 模块所支持的常用选项，如果需要了解 PyInstaller 选项的详细信息，则可通过 pyinstaller -h 来查看。</p>
<p>下面再创建一个带图形用户界面，可以访问 <a href="http://c.biancheng.net/mysql/" target="_blank" rel="noopener">MySQL</a> 数据库的应用程序。</p>
<p>在 app 当前所在目录再创建一个 dbapp 目录，并在该目录下创建 Python 程序，其中 exec_select.py 程序负责查询数据，main.py 程序负责创建图形用户界面来显示查询结果。</p>
<p>exec_select.py 文件包含的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 导入访问MySQL的模块import mysql.connectordef query_db():    # ①、连接数据库    conn &#x3D; conn &#x3D; mysql.connector.connect(user&#x3D;&#39;root&#39;, password&#x3D;&#39;32147&#39;,        host&#x3D;&#39;localhost&#39;, port&#x3D;&#39;3306&#39;,        database&#x3D;&#39;python&#39;, use_unicode&#x3D;True)    # ②、获取游标    c &#x3D; conn.cursor()    # ③、调用执行select语句查询数据    c.execute(&#39;select * from user_tb where user_id &gt; %s&#39;, (2,))    # 通过游标的description属性获取列信息    description &#x3D; c.description    # 使用fetchall获取游标中的所有结果集    rows &#x3D; c.fetchall()    # ④、关闭游标    c.close()    # ⑤、关闭连接    conn.close()    return description, rows</span><br></pre></td></tr></table></figure>

<p>mian.py 文件包含的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from exec_select import *from tkinter import *def main():    description, rows &#x3D; query_db()    # 创建窗口    win &#x3D; Tk()    win.title(&#39;数据库查询&#39;)    # 通过description获取列信息    for i, col in enumerate(description):        lb &#x3D; Button(win, text&#x3D;col[0], padx&#x3D;50, pady&#x3D;6)        lb.grid(row&#x3D;0, column&#x3D;i)    # 直接使用for循环查询得到的结果集    for i, row in enumerate(rows):        for j in range(len(row)):            en &#x3D; Label(win, text&#x3D;row[j])            en.grid(row&#x3D;i+1, column&#x3D;j)    win.mainloop()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()</span><br></pre></td></tr></table></figure>

<p>通过命令行工具进入 dbapp 目录下，在该目录下执行如下命令：</p>
<p>Pyinstaller -F -w main.py</p>
<p>上面命令中的 -F 选项指定生成单个的可执行程序，-w 选项指定生成图形用户界面程序（不需要命令行界面）。运行上面命令，该工具同样在 dbapp 目录下生成了一个 dist 子目录，并在该子目录下生成了一个 main.exe 文件。</p>
<p>直接双击运行 main.exe 程序（该程序有图形用户界面，因此可以双击运行），读者可自行查看运行结果。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python爬虫爬取小姐姐图片</title>
    <url>/2020/06/13/python%E7%88%AC%E8%99%AB%E7%88%AC%E5%8F%96%E5%B0%8F%E5%A7%90%E5%A7%90%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 接触爬虫的第一天<br>第一步：现将python环境搭建好，工欲利其事必先利其器！<br>第二步：寻找目标网站，我选择的网站是<a href="http://www.win4000.com，里面有一个美女板块，里面有各种小姐姐的照片（你懂的）" target="_blank" rel="noopener">http://www.win4000.com，里面有一个美女板块，里面有各种小姐姐的照片（你懂的）</a><br><img src="https://img-blog.csdnimg.cn/20190328090620771.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0ODEwOTkx,size_16,color_FFFFFF,t_70" alt="网站部分截图"></p>
<p>第三步：分析目标网站的html源码及网页规则<br>通过分析我发现，该网页每个人物的每个图片都是<br><a href="http://www.win4000.com/meinv1_2.html" target="_blank" rel="noopener">http://www.win4000.com/meinv1_2.html</a><br><a href="http://www.win4000.com/meinv1_3.html" target="_blank" rel="noopener">http://www.win4000.com/meinv1_3.html</a><br><a href="http://www.win4000.com/meinv2_1.html" target="_blank" rel="noopener">http://www.win4000.com/meinv2_1.html</a><br><a href="http://www.win4000.com/meinv2_2.html" target="_blank" rel="noopener">http://www.win4000.com/meinv2_2.html</a><br>并且所有图片地址都存放在一个<img src="" alt="img">中<br><img src="https://img-blog.csdnimg.cn/201903280950561.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0ODEwOTkx,size_16,color_FFFFFF,t_70" alt="网页分析"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup   <span class="comment">#引用BeautifulSoup库</span></span><br><span class="line"><span class="keyword">import</span> requests                 <span class="comment">#引用requests</span></span><br><span class="line"><span class="keyword">import</span> os                       <span class="comment">#os</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">os.system (<span class="string">"title Py爬取小姐姐，李天行版权所有"</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"爬取的图片都在D:/img文件夹下"</span>)</span><br><span class="line">root = <span class="string">'D://img//'</span>              <span class="comment">#配置存储路径，我配置的是自己电脑中的D:/img文件夹</span></span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">1000</span>):      <span class="comment">#配置爬取页码，我这边配置的是1000个人的图片</span></span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">20</span>):       <span class="comment">#配置爬取每个人多少张的参数，我这边配置的是每个人20张</span></span><br><span class="line">        url = <span class="string">'http://www.win4000.com/meinv'</span>+str(page)+<span class="string">'_'</span>+str(p)+<span class="string">'.html'</span></span><br><span class="line">        r = requests.get(url)                       <span class="comment">#使用requests中的get方法获取整个网页</span></span><br><span class="line">        r.encoding=<span class="string">'utf-8'</span>                          <span class="comment">#设定网页所使用的编码方式，错误的编码方式会导致乱码</span></span><br><span class="line">        <span class="keyword">if</span> r.status_code!=<span class="number">404</span>:                      <span class="comment">#判断生成后的链接是不是能访问，只有能访问才能爬取下载</span></span><br><span class="line">            demo = r.text                           <span class="comment">#将爬取后的对象通过text方法提取出所有的html</span></span><br><span class="line">            soup = BeautifulSoup(demo, <span class="string">"html.parser"</span>)<span class="comment">#使用BeautifulSoup库进行整合，第二个参数使用lxml一样的，lxml兼容性好较好，速度较快</span></span><br><span class="line">            text = soup.find_all(<span class="string">'img'</span>,class_ = <span class="string">'pic-large'</span>)<span class="comment">#选取整合后我们需要的部分内容，选取后的数据为list数组</span></span><br><span class="line">            <span class="keyword">for</span> img <span class="keyword">in</span> text:</span><br><span class="line">                imagr_url = img.get(<span class="string">'data-original'</span>)        <span class="comment">#取出img标签中data-original中的值</span></span><br><span class="line">                file_name = root + imagr_url.split(<span class="string">'/'</span>)[<span class="number">-1</span>] <span class="comment">#取出图片地址中文件及文件扩展名与本地存储路径进行拼接</span></span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(root):            <span class="comment">#判断文件夹是否存在，不存在则创建文件夹</span></span><br><span class="line">                        os.mkdir(root)</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(file_name):       <span class="comment">#判断图片文件是否存在，存在则进行提示</span></span><br><span class="line">                        s = requests.get(imagr_url)         <span class="comment">#通过requests.get方式获取文件</span></span><br><span class="line">                        <span class="comment"># 使用with语句可以不用自己手动关闭已经打开的文件流</span></span><br><span class="line">                        <span class="keyword">with</span> open(file_name, <span class="string">"wb"</span>) <span class="keyword">as</span> f:  <span class="comment"># 开始写文件，wb代表写二进制文件</span></span><br><span class="line">                            f.write(s.content)</span><br><span class="line">                        print(<span class="string">"爬取完成"</span>)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">"文件已存在"</span>)</span><br><span class="line">                <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                    print(<span class="string">"爬取失败:"</span> + str(e))</span><br></pre></td></tr></table></figure>

<p>哈哈哈哈大功告成，以下是成果展示<br><img src="https://img-blog.csdnimg.cn/20190328101902716.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0ODEwOTkx,size_16,color_FFFFFF,t_70" alt="成果"></p>
<p>总结：<br>1、该方式爬取为单进程爬取，只能一张一张爬取<br>2、进行图片请求时一定要注意不要使用之前使用过的变量<br>3、细心、认真、不浮躁</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python爬取你想要的小姐姐</title>
    <url>/2020/06/13/Python%E7%88%AC%E5%8F%96%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84%E5%B0%8F%E5%A7%90%E5%A7%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 一、准备</p>
<p>\1. 原地址</p>
<p><img src="https://img2018.cnblogs.com/blog/1165798/201907/1165798-20190729104958421-1351663805.png" alt="img"></p>
<p>\2. 检查html发现，网页是有规则的分页, 最大图片的class为pic-large</p>
<p>二、代码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> 1 import requests</span><br><span class="line"> 2 import os</span><br><span class="line"> 3 from bs4 import BeautifulSoup</span><br><span class="line"> 4 </span><br><span class="line"> 5 url &#x3D; &#39;http:&#x2F;&#x2F;www.win4000.com&#x2F;wallpaper_detail_157712.html&#39;</span><br><span class="line"> 6 imgmkdir &#x3D; &#39;D:&#x2F;&#x2F;Download&#x2F;&#x2F;ghost_1&#x2F;&#x2F;&#39;</span><br><span class="line"> 7 </span><br><span class="line"> 8 </span><br><span class="line"> 9 # 获取网页url</span><br><span class="line">10 def getUrlList():</span><br><span class="line">11     imgUrlList &#x3D; []</span><br><span class="line">12     for i in range(0, 10):</span><br><span class="line">13         imgUrl &#x3D; &#39;&#39;</span><br><span class="line">14         url_split &#x3D; url.split(&#39;.html&#39;)</span><br><span class="line">15         if not i &#x3D;&#x3D; 0:</span><br><span class="line">16             imgUrl +&#x3D; url_split[0] + &#39;_&#39; + str(i) + &#39;.html&#39;</span><br><span class="line">17             # print(imgUrl)</span><br><span class="line">18             imgUrlList.append(imgUrl)</span><br><span class="line">19 </span><br><span class="line">20     return imgUrlList</span><br><span class="line">21 </span><br><span class="line">22 </span><br><span class="line">23 # 下载图片</span><br><span class="line">24 def downImg(imgUrl):</span><br><span class="line">25     try:</span><br><span class="line">26         if not os.path.exists(imgmkdir):</span><br><span class="line">27             os.mkdir(imgmkdir)</span><br><span class="line">28         if not os.path.exists(imgUrl):</span><br><span class="line">29             r &#x3D; requests.get(imgUrl)</span><br><span class="line">30             r.raise_for_status()</span><br><span class="line">31             # 使用with语句可以不用自己手动关闭已经打开的文件流</span><br><span class="line">32             imgpath &#x3D; imgmkdir + imgUrl.split(&#39;&#x2F;&#39;)[-1]</span><br><span class="line">33             # 开始写文件, wb表示写二进制文件</span><br><span class="line">34             with open(imgpath, &#39;wb&#39;) as f:</span><br><span class="line">35                 f.write(r.content)</span><br><span class="line">36             print(imgUrl + &#39;【爬取完成】&#39;)</span><br><span class="line">37         else:</span><br><span class="line">38             print(imgUrl.split(&#39;&#x2F;&#39;)[-1] + &#39;【文件已存在】&#39;)</span><br><span class="line">39     except Exception as e:</span><br><span class="line">40         print(&quot;爬取失败&quot; + str(e))</span><br><span class="line">41 </span><br><span class="line">42 </span><br><span class="line">43 # 获取imgHtml标签</span><br><span class="line">44 def getcontent(soup):</span><br><span class="line">45     for i in soup.find_all(&#39;img&#39;, class_&#x3D;&#39;pic-large&#39;):</span><br><span class="line">46         imgsrc &#x3D; i[&#39;src&#39;]</span><br><span class="line">47         if imgsrc.find(&#39;http&#39;) &gt;&#x3D; 0 or imgsrc.find(&#39;https&#39;) &gt;&#x3D; 0:</span><br><span class="line">48             # 下载图片</span><br><span class="line">49             downImg(imgsrc)</span><br><span class="line">50 </span><br><span class="line">51 </span><br><span class="line">52 # 根据url获取html源码</span><br><span class="line">53 def getHtmlByUrl(htmlUrl):</span><br><span class="line">54     htmlText &#x3D; requests.get(htmlUrl).content</span><br><span class="line">55     # 使用beautifulSoup解析html</span><br><span class="line">56     soup &#x3D; BeautifulSoup(htmlText, &#39;lxml&#39;)</span><br><span class="line">57 </span><br><span class="line">58     return soup</span><br><span class="line">59 </span><br><span class="line">60 </span><br><span class="line">61 def main():</span><br><span class="line">62     htmlUrlList &#x3D; getUrlList()</span><br><span class="line">63     for url in htmlUrlList:</span><br><span class="line">64         htmltext &#x3D; getHtmlByUrl(url)</span><br><span class="line">65         getcontent(htmltext)</span><br><span class="line">66 </span><br><span class="line">67 </span><br><span class="line">68 if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">69     main()</span><br></pre></td></tr></table></figure>



<p>三、结果</p>
<p><img src="https://img2018.cnblogs.com/blog/1165798/201907/1165798-20190729105255294-118786208.png" alt="img"></p>
<p>四、总结</p>
<p>　　代码用比较笨的方法来获取，先试水</p>
<p>五、本人（副社长）升级的代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*-coding:utf-8-*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_157712.html'</span></span><br><span class="line">a=<span class="number">0</span></span><br><span class="line">imgmkdir = <span class="string">'D://迅雷下载//'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取网页url</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getUrlList</span><span class="params">()</span>:</span></span><br><span class="line">    imgUrlList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">        imgUrl = <span class="string">''</span></span><br><span class="line">        url_split = url.split(<span class="string">'.html'</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> i == <span class="number">0</span>:</span><br><span class="line">            imgUrl += url_split[<span class="number">0</span>] + <span class="string">'_'</span> + str(i) + <span class="string">'.html'</span></span><br><span class="line">            <span class="comment"># print(imgUrl)</span></span><br><span class="line">            imgUrlList.append(imgUrl)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> imgUrlList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载图片</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downImg</span><span class="params">(imgUrl)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(imgmkdir):</span><br><span class="line">            os.mkdir(imgmkdir)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(imgUrl):</span><br><span class="line">            r = requests.get(imgUrl)</span><br><span class="line">            r.raise_for_status()</span><br><span class="line">            <span class="comment"># 使用with语句可以不用自己手动关闭已经打开的文件流</span></span><br><span class="line">            imgpath = imgmkdir + imgUrl.split(<span class="string">'/'</span>)[<span class="number">-1</span>]</span><br><span class="line">            <span class="comment"># 开始写文件, wb表示写二进制文件</span></span><br><span class="line">            <span class="keyword">with</span> open(imgpath, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(r.content)</span><br><span class="line">            print(imgUrl + <span class="string">'【爬取完成】'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(imgUrl.split(<span class="string">'/'</span>)[<span class="number">-1</span>] + <span class="string">'【文件已存在】'</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"爬取失败"</span> + str(e))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取imgHtml标签</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getcontent</span><span class="params">(soup)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> soup.find_all(<span class="string">'img'</span>, class_=<span class="string">'pic-large'</span>):</span><br><span class="line">        imgsrc = i[<span class="string">'src'</span>]</span><br><span class="line">        <span class="keyword">if</span> imgsrc.find(<span class="string">'http'</span>) &gt;= <span class="number">0</span> <span class="keyword">or</span> imgsrc.find(<span class="string">'https'</span>) &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># 下载图片</span></span><br><span class="line">            downImg(imgsrc)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据url获取html源码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHtmlByUrl</span><span class="params">(htmlUrl)</span>:</span></span><br><span class="line">    htmlText = requests.get(htmlUrl).content</span><br><span class="line">    <span class="comment"># 使用beautifulSoup解析html</span></span><br><span class="line">    soup = BeautifulSoup(htmlText, <span class="string">'lxml'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> soup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    htmlUrlList = getUrlList()</span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> htmlUrlList:</span><br><span class="line">        htmltext = getHtmlByUrl(url)</span><br><span class="line">        getcontent(htmltext)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">	<span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">		main()</span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">0</span>:</span><br><span class="line">			a=<span class="number">0</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">1</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169808.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">2</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169594.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">3</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169553.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">4</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169629.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">5</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169317.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">6</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169116.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">7</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_169163.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">8</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_168984.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">9</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_168684.html'</span></span><br><span class="line">		<span class="keyword">if</span> a==<span class="number">10</span>:</span><br><span class="line">			url = <span class="string">'http://www.win4000.com/wallpaper_detail_168524.html'</span></span><br><span class="line">		a=a+<span class="number">1</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python如何脱单（四）</title>
    <url>/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E5%9B%9B%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 哄女朋友最高的境界是什么？</p>
<p>除了用心之外，每天不重复的甜言蜜语必然是少不了的。虽然语文老师上学的时候也教了一些东西，但是日子长了必然“江郎才尽”。</p>
<p>大家都是混科技圈的，借助自动化的手段能不能一次性的解决问题呢？</p>
<p>嗯，显然是可以的。Github作为全球最大的同性交友网站，小伙伴们不仅可以在上面交流编程技巧，还能学到如何开发一个自动哄女友神器。</p>
<p><img src="https://img1.tuicool.com/2mQvmmR.png!web" alt="img"></p>
<p>先附上Github地址：</p>
<p><a href="https://github.com/sfyc23/EverydayWechat" target="_blank" rel="noopener">https://github.com/sfyc23/EverydayWechat</a></p>
<p>这个自动给女友发送微信暖心话的项目，已经连续霸榜Github趋势榜好几天了。作者用Python3和Itchat微信接口开发了一款小工具，可以定时给朋友发送每日天气、提醒、每日一句。通过调用图灵机器人，也可以智能自动回复信息。</p>
<p>操作简单且容易上手，即使是小白，只要配置好了Python环境，安装好必要的Python库，代码下载之后，只要CMD一下即可实现。</p>
<p>在手把手教大家操作之前，文摘菌先带大家看下效果~</p>
<p><img src="https://img2.tuicool.com/niMfArM.jpg!web" alt="img"></p>
<p>首先，我定的时间是22:20，一到时间文摘菌的账号就收到了发送的信息，包括英文和中文情话。北京的天气以及在一起的多少天。</p>
<p>调用图灵机器人之后，两个账号便可以对话，图灵机器人还算强大，当我发送：这是个测试之后，图灵机器人回复：你不放心我吗？☹☹☹☹</p>
<p>注：这个小工具的项目中的天气信息来自SOJSON API接口，暖心情话来自金山词霸上面的每日一句，带英文的哟~图灵机器人使用需要申请密钥，每天免费数量只有100条。如果使用超了。可使用青云客智能聊天机器人，这个不限制次数。</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>手把手教学实现哄女友神器</p>
<p>来吧，先视频演示一下使用教程~</p>
<p>首先，把Python安装好，并配置好环境，个人建议新手安装anaconda，具体安装教程，可自行谷歌搜索~</p>
<p>然后安装必要的Python库，环境配置好的同学可以直接用pip install +库名 进行安装。必须安装的库为：requests、beautifulsoup4、itchat、apscheduler、pyyaml、lxml、simplejson。记住了，小伙伴，一个库都不能少哟~</p>
<p>然后进入Github地址下载项目的全部文件（就是这么简单粗暴），解压过后，找到 _config.yaml 用Python IDE打开。然后进行一系列的配置~</p>
<p><img src="https://img1.tuicool.com/UZzUFzN.jpg!web" alt="img"></p>
<p>就是这个文件</p>
<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><p>一、配置自动回复机器人。</p>
<p>1.开启自动回复：</p>
<p><img src="https://img2.tuicool.com/IrYzAvq.png!web" alt="img"></p>
<p>将 is_auto_relay 设置为：True。</p>
<p>2.配置图灵机器人:</p>
<p><img src="https://img2.tuicool.com/3IBFNri.png!web" alt="img"></p>
<p>打开图灵机器人官网：<a href="http://www.turingapi.com" target="_blank" rel="noopener">http://www.turingapi.com</a> 进行注册。</p>
<p>创建机器人，得到 apikey，userid。</p>
<p>将 apikey，userid 填入到 _config.yaml 文件中的：</p>
<p>turing_conf:</p>
<p>apiKey: ‘你所获取apiKey’</p>
<p>userId: ‘你所获取的userId’</p>
<p>\3. 指定自动回复的好友名单:</p>
<p><img src="https://img1.tuicool.com/aeqqAzZ.png!web" alt="img"></p>
<p># 指定自动回复的好友名单。</p>
<p>auto_reply_names:</p>
<p>- ‘好友1’</p>
<p>- ‘好友2’</p>
<p>注意：</p>
<ol>
<li>只能自动回复文字类消息；</li>
<li>群消息自动回复还未现实。（待完成）；</li>
<li>如果消息发送太频繁，微信会限制登录网页端登录。放心，并不会封号；</li>
<li>并不是对所有人自动回复，只是回复auto_reply_names中的人。</li>
<li>当没有图灵机器人 apikey 与 UserId，或者数量超出时。会使用备用的青云客智能聊天机器人获取数据。</li>
</ol>
<h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><p>二、配置定时提醒</p>
<p>1.开启并设置提醒时间：</p>
<p><img src="https://img2.tuicool.com/NNbeUb3.png!web" alt="img"></p>
<p>如：</p>
<p>alarm_info:</p>
<p>is_alarm: True</p>
<p>#定时发送时间</p>
<p>alarm_timed: ‘9:30’</p>
<p>2.填写需要发送的好友。.</p>
<p><img src="https://img0.tuicool.com/Mni6R3Y.jpg!web" alt="img"></p>
<p>如：</p>
<p>girlfriend_infos:</p>
<p>- #女友微信昵称或者备注名，不能输入微信号。</p>
<p>wechat_name: ‘文摘菌’</p>
<p>#女友所在城市，用于发送天气。（可空）</p>
<p>city_name: ‘北京’</p>
<p># 从那天开始勾搭的（可空）(最终效果为：宝贝这是我们在一起的第 111 天)</p>
<p>start_date: ‘2019-06-13’</p>
<p># 后缀（可空）</p>
<p>sweet_words: ‘来自最爱你的我。’</p>
<p>#如果你有多个人需要发送，则参照这个样式，复制即可</p>
<p>#如不需要，则删除或注解下面所有的数据</p>
<p>- wechat_name: ‘happy’</p>
<p>city_name: ‘朝阳区’</p>
<p>start_date: ‘2018-11-11’</p>
<p>sweet_words: ‘来自你俊美的老公。’</p>
<p>然后，直接将run.py文件直接拖到命令窗口界面（视频中有演示），会出现二维码，扫描之后，实现网页登录。如下☟</p>
<p><img src="https://img1.tuicool.com/QZBV7fF.png!web" alt="img"></p>
<p>发送成功如下☟</p>
<p><img src="https://img1.tuicool.com/MRbIBny.png!web" alt="img"></p>
<p>自动回复成功如下☟</p>
<p><img src="https://img0.tuicool.com/3YNjUry.png!web" alt="img"></p>
<p>注意事项：</p>
<ul>
<li>检查是否是最新的代码，检查是否是 Python3.5+，检查依赖有没有安装完整。</li>
<li>先检查微信是否可登录 微信网页版，如网页端不能用，此项目也不能用。</li>
<li>请更新你的 itchat 为最新版本。</li>
<li>与微信相关的可以先去 itchat issues 是否有相似问题。</li>
<li>微信名只能是昵称或者备注名，不能输入微信号。</li>
</ul>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python如何脱单（三）</title>
    <url>/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 用 Python 制作的给父母天气预报提醒的小工具<a href="https://mp.weixin.qq.com/s/GrWQN6-gK49L8l0u37Tr7g" target="_blank" rel="noopener">天气变冷了，给父母制作一个天气提醒小助手</a>，这篇文章我同步到博客上之后，有读者在评论区留言，对于部分微信没有网页版接口，导致无法实现这个功能，这位读者建议，建议用发短信的方式，这样，就不会受限于微信的限制。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092934144-479241373.png" alt="img"></p>
<p>这是一个好方法，今天的教程就是教大家怎么发送免费短信给女朋友。</p>
<p>发送短信接口，我知道的常见的有两个平台，一个是 twilio，可以免费发短信 500 条，可发任意信息，一个是腾讯云，可以免费发短信 100 条，需要申请短信发送内容模板。</p>
<p>鉴于 twilio 免费次数多一些，所以，这次我们就 twilio来发送当天的天气信息给爸妈了。</p>
<h2 id="twilio注册"><a href="#twilio注册" class="headerlink" title="twilio注册"></a>twilio注册</h2><p>要发送短信，我们需要现在 twilio 官网注册一个账号。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.twilio.com&#x2F;</span><br></pre></td></tr></table></figure>

<p>点击 Sign Up 注册一个账号。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092934627-158366549.png" alt="img"></p>
<p>填写邮箱和密码等资料，提交后会有一个判断是否为机器人的验证，点击左右箭头使图案显示为正图就可以了。</p>
<p>再到刚才填写的邮箱中去验证下，需要填入手机号验证。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092934900-495766124.png" alt="img"></p>
<p>刚开始用了移动号发了两次都没有收到验证码，不知道什么原因，之后换了电信后就收到了验证码。</p>
<p>验证成功后会提示选择是否通过代码调用。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092935164-1675521922.png" alt="img"></p>
<p>选择 yes 后再选择对应的语言，我们当然是选择 Python 了。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092935397-521182981.png" alt="img"></p>
<h2 id="获取试用号"><a href="#获取试用号" class="headerlink" title="获取试用号"></a>获取试用号</h2><p>选择使用用途后，可以就可以获取一个试用的号码了，点击 Get a Trial Number 按钮。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092936849-343851043.jpg" alt="img"></p>
<p>我们可以看到系统给我提供的这个号码。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092938940-2049808357.png" alt="img"></p>
<p>点击确定后就会出现成功的页面，显示 Twilio 提供的号码，这个号码就是用来发送短信的。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092940255-380574474.png" alt="img"></p>
<p>获取号码成功后自动跳回到主页，下方有 Python 调用短信接口的示例。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092941497-621131960.png" alt="img"></p>
<p>进入接口调用说明后，我们看到右边直接由 Python 调用接口发短信的示例。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092943670-1408192322.png" alt="img"></p>
<p>我们直接拿来用即可，把代码中 account_sid 和 auth_token 替换成自己的，这个两个值在刚才显示号码那个页面。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092944969-887141862.png" alt="img"></p>
<p>再把 message 中的 body 换成你自己的文本，把发送信息的号码换成刚官方提供的号码。</p>
<h2 id="接收号验证"><a href="#接收号验证" class="headerlink" title="接收号验证"></a>接收号验证</h2><p>接收号码在使用前，需要在 Twilio 上验证下，点击右侧的 verified numbers 进入，添加号码。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092945492-369628442.png" alt="img"></p>
<p>因为这是免费版，所以只支持一个号码，如果之前有验证号码的话，我们需要点击右侧的 X 把这个号码号码删除才能添加新的号码。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092946052-463940193.png" alt="img"></p>
<p>点击验证号码的按钮后，在弹出的页面选择左下方的 text you instead，也就是用短信验证码来验证新添加的号码，你要发给女朋友，当然，这个接收的号码都填女朋友的了。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092947015-693148001.png" alt="img"></p>
<p>填入号码后，点击验证，等待验证码。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092947533-22826922.png" alt="img"></p>
<p>我分别试了移动号、联通号、电信号，发现电信号和联通卡能正常收到验证码通过验证，移动号发了几次都收不到验证码，卡里是有余额的，可能是移动卡不支持这个接口，大家可以试试。</p>
<h2 id="代码调试"><a href="#代码调试" class="headerlink" title="代码调试"></a>代码调试</h2><p>运行代码前，不要忘了把 twilio 库用 pip 命令安装下。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install twilio</span><br></pre></td></tr></table></figure>

<p>然后把代码中的几个值替换成自己的。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092949694-647622674.png" alt="img"></p>
<p>把刚才验证成功的号添加到代码中，运行代码，成功后就会收到发送的短信。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092951954-397835924.png" alt="img"></p>
<p>然后我们把之前的天气信息用短信发出去，当然你可以发送其他信息。这里我用之前的天气信息。</p>
<p>之前的代码中把微信相关的去掉，天气接口部分保留。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092952874-582747103.png" alt="img"></p>
<p>把其中的 key 换成自己的，具体操作详见这篇文章<a href="https://mp.weixin.qq.com/s/GrWQN6-gK49L8l0u37Tr7g" target="_blank" rel="noopener">天气变冷了，给父母制作一个天气提醒小助手</a>。</p>
<p>把刚才发送短信的内容替换成天气接口返回的信息 msg，定时操作的代码和之前一样。</p>
<p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092956985-1819179876.png" alt="img"></p>
<p>运行代码后的效果如下：<br><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104093000037-2038518608.png" alt="img"></p>
<p>同样，我还是把程序放在服务器上，第二天同一时间会继续发送当天的天气信息，我设置的是相隔 24 小时，当然，你可以改变相隔时间。</p>
<p>没有服务器的小伙伴可以看看腾讯云的双十一活动价了，88元一年，平时用来放放小工具，做个人网站是非常划算的。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python如何脱单（二）</title>
    <url>/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 七夕就要到了，在这个有情人终成眷属的好日子里，小安在这里给大家带来Python的小福利，在七夕利用Python制造两个人之间的甜蜜。二人世界里少不了属于两个人之间的甜言蜜语，而这些悄悄话也是记录了两个人从相识到相知再到在一起的甜蜜。</p>
<p>如果我们把这些甜言蜜语都收集起来，做成一个心爱的甜心，在七夕节的当天送给自己的另一半。这样既用心，而且还很甜蜜的操作，是不是很酷！说干就干，接下来，小安就带领大家，从数据的收集，再到数据的预处理，最终形成一个爱心展示，为大家制作一个七夕节的小惊喜。</p>
<p><strong><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafafJYoFH7OAhmUdTjo35vvJTvLpCGfzzK1PyqhibaFBFxKyrzAicHWibLWAuNXTESdJ0PKghyml9PqXjQ/640?wx_fmt=png" alt="640?wx_fmt=png">***</strong>*数据的准备****</p>
<p>首先，小安由于平时玩QQ比较多，所以决定以QQ来为大家做展示。这里小安怕会泄露个人的隐私，索性就以平时交流比较多的群聊天记录作为数据材料，大家只需要按照步骤来操作即可。</p>
<p>数据的获取，大家直接按照上图所示，找到自己的“目标”，然后右键，点击保存聊天记录即可，小安这里呢，将数据保存为txt文件，方便后续的操作。(因为小安是单身，没有mm跟我聊天，每天都是数据分析、机器学习研究和数据挖掘，所以只有技术的聊天）</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQJ1ghUqNwlpPeRJ0h3US8AvK28gbic3DwSPPVROVicibMhFnSIUHia16ypA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p>保存的数据如下图所示：</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQgs1EyDS9edbgqeibZg1Um4ke4o9JbSFEkWQmxFppjNicFk6BIfgxOEVA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p><strong><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafafJYoFH7OAhmUdTjo35vvJT7KxibNiadbBJJYibrjeic9Us7ZEficc1xuic28F0nnicicEoqQcB6k5CsMpU7w/640?wx_fmt=png" alt="640?wx_fmt=png"></strong></p>
<p><strong><em>\</em>数据的处理**</strong></p>
<p>数据获取完毕之后，接下来就是数据的预处理了，上面大家可以发现，数据中充斥着大量的数字、标点符号、字母等干扰因素，而我们平时都是以中文交流，所以在进行数据处理的时候，直接选择匹配中文是一个非常高效而且明智的选择。数据处理的代码如下图所示：</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQW00icHTuTkJdIfY1BV2qV1niaA3dlK1b11eHEcSf272Z8remrt75lRXg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p>我们将处理好的数据放到新的文件夹里，以方便后续操作。接下来，就是定制特定爱心的时间了，我们利用的是jieba分词和WordCloud的词云制作，代码如下图所示:</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQ7YdTeiaPgortNSpsOlmzWotGRQtmltOicMhobarxRuxWea8N37GyNP1Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p>产生的效果如下图所示：</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQiaFQTic7z8ibUvnTqOIEKoKDAzpvibUuRgS5mTEfUmLN7QTQsyFsEQm1ibg/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
<p>到了这里，就结束了吗？No,No,No怎么可能，七夕节的礼物就要付出更多的精力！</p>
<p><strong><em>\</em>在线词云做爱心**</strong></p>
<p>下面小安为大家安利一个在线的词云制作，定制出更加完美的词云。在线词云制作的链接为：<a href="http://yciyun.com/，界面如下图所示：" target="_blank" rel="noopener">http://yciyun.com/，界面如下图所示：</a></p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQP7k3DdLP3BDgeRl5Ez61xMsqL5umU4JqM4icrANQicvYDpfjvHQ5KaOg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p>在模板模块里，大家可以选择是心形还是其他形状。在配置里大家可以选择更改背景的颜色。最重要的是数据模块，大家需要注册，然后才能在自定义编辑里更改数值，而且由于其字体限制为3号到9号。</p>
<p>可能大家会想，这个多的数值要更改到什么时候为止呢，别担心，小安已经帮大家写好程序了，大家只需要运行程序中的online_wordcloud函数即可。</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQTCtba16MlNTq1N5b3wn5FQmM6pPgSfDzX2bUFtnRibUGNjFvbicnX3Lg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p>最后，为大家展示的经过在线词云制作的爱心图片：</p>
<p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQXmgrKTgRPgFfnawoqfvzibls2m5KqcrfZn4sXWDxZuTZokTibBk6EfmA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
<p>大家如果想让背景透明的话，需要开通会员，大家喜欢的话，可以直接开通。将上面的爱心图制作成大幅图画，在周围点缀上两人的甜蜜照片，做成画框，这样的一副作品简直是七夕节最美的礼物了，大家赶快动手做起来吧。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python—如何脱单（一）</title>
    <url>/2020/06/13/Python%E2%80%94%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>学习一门语言最好的方式就是有项目驱动，或者说你得有目的的去学，这样你才能学的更快。作为一个小白，我的出发点就是利用Python哄女朋友开心啦。今天给大家介绍两个Python人专属的撩妹技巧。</p>
<h3 id="1-用Python画玫瑰花"><a href="#1-用Python画玫瑰花" class="headerlink" title="1.用Python画玫瑰花"></a>1.用Python画玫瑰花</h3><h4 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h4><hr>
<p>#!/usr/bin/env python</p>
<p># -<em>- coding:utf-8 -</em>-</p>
<p>‘’’</p>
<p>Created on sep 20, 2018</p>
<p>@author: stormwen</p>
<p>‘’’</p>
<p>import turtle</p>
<p># 设置初始位置</p>
<p>turtle.penup()</p>
<p>turtle.left(90)</p>
<p>turtle.fd(200)</p>
<p>turtle.pendown()</p>
<p>turtle.right(90)</p>
<p># 花蕊</p>
<p>turtle.fillcolor(“red”)</p>
<p>turtle.begin_fill()</p>
<p>turtle.circle(10, 180)</p>
<p>turtle.circle(25, 110)</p>
<p>turtle.left(50)</p>
<p>turtle.circle(60, 45)</p>
<p>turtle.circle(20, 170)</p>
<p>turtle.right(24)</p>
<p>turtle.fd(30)</p>
<p>turtle.left(10)</p>
<p>turtle.circle(30, 110)</p>
<p>turtle.fd(20)</p>
<p>turtle.left(40)</p>
<p>turtle.circle(90, 70)</p>
<p>turtle.circle(30, 150)</p>
<p>turtle.right(30)</p>
<p>turtle.fd(15)</p>
<p>turtle.circle(80, 90)</p>
<p>turtle.left(15)</p>
<p>turtle.fd(45)</p>
<p>turtle.right(165)</p>
<p>turtle.fd(20)</p>
<p>turtle.left(155)</p>
<p>turtle.circle(150, 80)</p>
<p>turtle.left(50)</p>
<p>turtle.circle(150, 90)</p>
<p>turtle.end_fill()</p>
<p># 花瓣1</p>
<p>turtle.left(150)</p>
<p>turtle.circle(-90, 70)</p>
<p>turtle.left(20)</p>
<p>turtle.circle(75, 105)</p>
<p>turtle.setheading(60)</p>
<p>turtle.circle(80, 98)</p>
<p>turtle.circle(-90, 40)</p>
<p># 花瓣2</p>
<p>turtle.left(180)</p>
<p>turtle.circle(90, 40)</p>
<p>turtle.circle(-80, 98)</p>
<p>turtle.setheading(-83)</p>
<p># 叶子1</p>
<p>turtle.fd(30)</p>
<p>turtle.left(90)</p>
<p>turtle.fd(25)</p>
<p>turtle.left(45)</p>
<p>turtle.fillcolor(“green”)</p>
<p>turtle.begin_fill()</p>
<p>turtle.circle(-80, 90)</p>
<p>turtle.right(90)</p>
<p>turtle.circle(-80, 90)</p>
<p>turtle.end_fill()</p>
<p>turtle.right(135)</p>
<p>turtle.fd(60)</p>
<p>turtle.left(180)</p>
<p>turtle.fd(85)</p>
<p>turtle.left(90)</p>
<p>turtle.fd(80)</p>
<p># 叶子2</p>
<p>turtle.right(90)</p>
<p>turtle.right(45)</p>
<p>turtle.fillcolor(“green”)</p>
<p>turtle.begin_fill()</p>
<p>turtle.circle(80, 90)</p>
<p>turtle.left(90)</p>
<p>turtle.circle(80, 90)</p>
<p>turtle.end_fill()</p>
<p>turtle.left(135)</p>
<p>turtle.fd(60)</p>
<p>turtle.left(180)</p>
<p>turtle.fd(60)</p>
<p>turtle.right(90)</p>
<p>turtle.circle(200, 60)</p>
<p>turtle.done()</p>
<hr>
<h4 id="可以根据女朋友喜欢的颜色，进行调试哦。"><a href="#可以根据女朋友喜欢的颜色，进行调试哦。" class="headerlink" title="可以根据女朋友喜欢的颜色，进行调试哦。"></a>可以根据女朋友喜欢的颜色，进行调试哦。</h4><h4 id="效果展示："><a href="#效果展示：" class="headerlink" title="效果展示："></a>效果展示：</h4><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-e4e3b7d035def1bc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/13914403-a495544a4f4e7d78.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/13914403-6704d3dff612c3d9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/13914403-42fad2faf4c5dc0a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<h2 id="2-一行代码画心："><a href="#2-一行代码画心：" class="headerlink" title="2.一行代码画心："></a>2.一行代码画心：</h2><h4 id="代码：-1"><a href="#代码：-1" class="headerlink" title="代码："></a>代码：</h4><hr>
<p>#!/usr/bin/env python</p>
<p># -<em>- coding:utf-8 -</em>-</p>
<p>#@Time :2018/9/20 1:00pm</p>
<p>#@Author:stormwen</p>
<p>#Software:Pycharm</p>
<p>print(‘\n’.join([‘’.join([(‘Miss u’[(x-y)% len(‘Miss u’)]if ((x<em>0.05)<strong>2+(y*0.1)</strong>2-1)<strong>3-(x*0.05)</strong>2</em>(y<em>0.1)*</em>3 &lt;= 0 else ‘ ‘)for xin range(-30, 30)])for yin range(30, -30, -1)]))</p>
<hr>
<h4 id="结果展示："><a href="#结果展示：" class="headerlink" title="结果展示："></a>结果展示：</h4><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-d8e1122a118fafc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<hr>
<p>好啦，今天的Python就学到这啦，如果你有更好的图形，欢迎交流呀。</p>
<p>作者：叫我小包总<br>链接：<a href="https://www.jianshu.com/p/7d7966ad4d4a" target="_blank" rel="noopener">https://www.jianshu.com/p/7d7966ad4d4a</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python语法大全</title>
    <url>/2020/06/13/Python%E8%AF%AD%E6%B3%95%E5%A4%A7%E7%BA%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
  </entry>
  <entry>
    <title>Python语法大纲(部分)</title>
    <url>/2020/06/13/Python%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  <strong><em>本文章包含了Python一系列基本知识，其中包括：基本数据类型（整数，浮点数，复数，字符串）；分支语句；异常处理；函数；局部变量与全局变量；递归；组合数据类型（集合，元组，列表，字典）；文件基本操作</em></strong></p>
<ul>
<li><strong><em>\</em>基本数据类型**</strong></li>
</ul>
<p>一，数字类型及操作</p>
<p>​    （1）整数类型</p>
<p> 可正可负，无取值范围限制</p>
<ol>
<li><p>pow（x，y）：计算x^y</p>
<p>（2）浮点数类型</p>
</li>
<li><p>存在不确定尾数</p>
</li>
<li><p>round(x,d)：对x四舍五入，d为小数截取位数</p>
</li>
<li><p><a>e/E<b>：a*10^b</p>
<p>（3）复数类型</p>
</li>
<li><p>z=a+bj</p>
</li>
<li><p>z.real=a   z.imag=b</p>
</li>
</ol>
<p>二，数值运算操作符</p>
<p>eg：x//y :整数除 10//3=3 x%y :求模  10%3=1 x**y=x^y</p>
<p>三,数值运算函数</p>
<ol>
<li>abs(x) :绝对值  abs(-10)=10</li>
<li>divmod(x,y) :商余  divmod(10,3)=(3,1)</li>
<li>pow(x,y,z) :幂余，（x**y）%z</li>
<li>max(x1,x2,…xn) :求最大值 min(x1,x2,…xn) :求最小值</li>
<li>int(x) ：将x变成整数 float(x) :将x变成浮点数</li>
<li>comlex(x) :将x变成浮点数</li>
</ol>
<p>四，字符串类型的表示（由一对单引号或双引号表示的字符有序序列）</p>
<ol>
<li>&lt;字符串&gt;[M:N:K], 根据步长K对字符串进行切片</li>
<li>特殊字符：”\b”:回退  “\n”:换行（光标移到下行首） “\r”:回车（光标移到本行首</li>
</ol>
<p>​           </p>
<p>五，字符串处理函数</p>
<ol>
<li>len(x) :长度 str(x) :任意类型x所对应的字符串形式</li>
<li>chr(x) :x为Unicode编码，返回其对应的字符 ord（x）：相反</li>
</ol>
<p>六，字符串处理方法</p>
<ol>
<li>str.lower/upper() :返回全部字符的小/大写      “ABc”.lower()=”abc”</li>
<li>str.split(sep) :返回一个列表，由str根据sep被分割的部分组成       “A,B,C”.split(“,”)=[‘A’,’B’,’C’]</li>
<li>str.count(sub) :返回子串sub在str出现的次数       “a apple a day”.count(a)=4</li>
<li>str.replace(old,new) :将所有的old子串被替换为new       python”.replace(“n”,”.i”)=”pytho.i”</li>
<li>str.center(width,char) :字符串根据宽度width居中       “python”.center(8,”=”)= ’=python=’ </li>
<li>str.strip(chars) :从str中去掉其左侧和右侧chars列出的字符      “python”.strip(“pn”)=”ytho”</li>
<li>str.join(iter) :在iter变量除最后元素外每个元素加一个str        “,”.join(“12345”)=”1,2,3,4,5”</li>
</ol>
<p>七，字符串类型的格式化</p>
<p><img src="https://img-blog.csdn.net/20180803102657205?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">      <img src="https://img-blog.csdn.net/20180803102728945?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<hr>
<hr>
<hr>
<ul>
<li><strong>程序的控制结构</strong></li>
</ul>
<p>一，程序的分支结构</p>
<p>​    （1）单分支结构：</p>
<p>​       if（条件）：</p>
<p>​          &lt;语句块&gt;</p>
<p>​    （2）二分支结构：</p>
<p>​          if（条件）：       紧凑形式：</p>
<p>​            &lt;语句块1&gt;       &lt;表达式1&gt; if &lt;条件&gt; else &lt;表达式2&gt;</p>
<p>​         else:</p>
<p>​            &lt;语句块2&gt;</p>
<p>​    （3）多分支结构：</p>
<p>​      if（条件1）：</p>
<p>​        &lt;语句块1&gt;</p>
<p>​     elif（条件2）：</p>
<p>​       &lt;语句块2&gt;</p>
<p>​    ……</p>
<p>​     else:</p>
<p>​       &lt;语句块N&gt;</p>
<p>二,程序的异常处理</p>
<p>（1）异常处理的基本使用：</p>
<p>   try：            </p>
<p>&lt;语句块1&gt;</p>
<p>   except:</p>
<p> &lt;语句块2&gt;</p>
<p>（2）异常处理的高级使用：</p>
<p>   try:</p>
<p>​    &lt;语句块1&gt;</p>
<p>   except:</p>
<p>​    &lt;语句块2&gt;</p>
<p>   else:</p>
<p>​    &lt;语句块3&gt;     #在不发生异常时执行</p>
<p>   finally:</p>
<p>.   &lt;语句块4&gt;     #一定执行</p>
<p>三，程序的循环结构</p>
<p>  （1）遍历循环：</p>
<p>​    for &lt;循环变量&gt; in &lt;遍历结构&gt;:</p>
<p>​      &lt;语句块&gt;</p>
<p>（2）无限循环：</p>
<p>​    while&lt;条件&gt;:</p>
<p>​      &lt;语句块&gt;</p>
<p>（3）循环控制保留字</p>
<p>​    break：跳出并结束当前整个循环</p>
<p>​    continue：结束当次循环</p>
<hr>
<hr>
<hr>
<ul>
<li><strong>函数和代码复用</strong></li>
</ul>
<p>一，函数的定义和使用</p>
<p>（1）函数的定义：</p>
<p>​    a， 一般函数</p>
<p>​     def&lt;函数名&gt;(参数（0个或多个）):</p>
<p>​        &lt;函数体&gt;</p>
<p>​        return &lt;返回值&gt;</p>
<p>   b， lambda函数</p>
<p>​    &lt;函数名&gt;=lambda&lt;参数&gt;:&lt;表达式&gt;</p>
<p>（2）函数的返回值</p>
<p>​    函数可以返回0个或多个结果</p>
<p>（3）局部变量和全局变量</p>
<p>   #1：局部变量和全局变量是不同变量。可重名；函数运算结束后，局部变量被释放；可通过global保留字在函数内使用全局变量</p>
<p>  #2：局部变量为组合数据类型且未被创建，等于全局变量</p>
<p>二，代码复用和函数递归</p>
<p>（1）递归的定义：（数学归纳法的编程体现）</p>
<p>​    链条：计算过程存在递归链条</p>
<p>   基例：存在一个或多个不需要再次递归的基例</p>
<p>（2）递归的实现</p>
<p>   函数+分支语句</p>
<hr>
<hr>
<hr>
<ul>
<li><strong>组合数据类型</strong></li>
</ul>
<p>一，集合类型及操作</p>
<p>（1）集合类型的定义（多个 元素[唯一，不可更改] 的无序组合）</p>
<p>​    集合用{}表示，元素间用，分隔</p>
<p>​    建立集合类型用{}或set（）</p>
<p>（2）集合操作符</p>
<p><img src="https://img-blog.csdn.net/20180803111727885?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>（3）集合处理方法</p>
<p><img src="https://img-blog.csdn.net/20180803111937554?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">     <img src="https://img-blog.csdn.net/20180803112008637?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>二，序列类型及操作</p>
<p>（1）元组类型：</p>
<p>  #1   元组是一种序列类型，一旦创建就不能修改</p>
<p>  #2  使用（）或tuple（）创建，元素间用，分隔。可以使用或不使用()</p>
<p>  #3  元组继承了序列的全部操作，因为不难修改，所以没有特殊操作</p>
<p><img src="https://img-blog.csdn.net/20180803112940676?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"> <img src="https://img-blog.csdn.net/2018080311295768?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>（2）列表类型</p>
<p>#1  列表是一种序列类型，创建后可以被修改</p>
<p>#2  使用[ ]或list（）创建，元素间用，分隔。各元素类型可以不同</p>
<p>#3  列表操作：</p>
<p><img src="https://img-blog.csdn.net/20180803113609247?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><img src="https://img-blog.csdn.net/20180803113627845?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>（3）字典类型（映射的体现）</p>
<p> #1  键值对的集合，键值对之间无序</p>
<p> #2  采用{}和dict（）创建，键值对用：表示</p>
<p> #3  字典操作：</p>
<p><img src="https://img-blog.csdn.net/20180803211259243?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">    <img src="https://img-blog.csdn.net/20180803211313739?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<hr>
<hr>
<hr>
<ul>
<li><strong>文件处理</strong></li>
</ul>
<p>一，文件的使用</p>
<p>（1）文件的打开和关闭</p>
<p><img src="https://img-blog.csdn.net/20180803114238106?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">      <img src="https://img-blog.csdn.net/20180803114322350?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><img src="https://img-blog.csdn.net/20180803114414415?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">      <img src="https://img-blog.csdn.net/20180803114507512?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>（2）文件内容的读取</p>
<p><img src="https://img-blog.csdn.net/20180803115043494?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">   <img src="https://img-blog.csdn.net/20180803115059241?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>（3）数据文件的写入</p>
<p><img src="https://img-blog.csdn.net/2018080311535729?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">   <img src="https://img-blog.csdn.net/20180803115418582?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzM1NjMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 练习100例</title>
    <url>/2020/06/13/Python-%E7%BB%83%E4%B9%A0100%E4%BE%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  以下实例在Python2.7下测试通过：</p>
<ul>
<li><a href="https://www.runoob.com/python/python-exercise-example1.html" target="_blank" rel="noopener">Python 练习实例1</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example2.html" target="_blank" rel="noopener">Python 练习实例2</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example3.html" target="_blank" rel="noopener">Python 练习实例3</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example4.html" target="_blank" rel="noopener">Python 练习实例4</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example5.html" target="_blank" rel="noopener">Python 练习实例5</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example6.html" target="_blank" rel="noopener">Python 练习实例6</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example7.html" target="_blank" rel="noopener">Python 练习实例7</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example8.html" target="_blank" rel="noopener">Python 练习实例8</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example9.html" target="_blank" rel="noopener">Python 练习实例9</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example10.html" target="_blank" rel="noopener">Python 练习实例10</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example11.html" target="_blank" rel="noopener">Python 练习实例11</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example12.html" target="_blank" rel="noopener">Python 练习实例12</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example13.html" target="_blank" rel="noopener">Python 练习实例13</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example14.html" target="_blank" rel="noopener">Python 练习实例14</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example15.html" target="_blank" rel="noopener">Python 练习实例15</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example16.html" target="_blank" rel="noopener">Python 练习实例16</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example17.html" target="_blank" rel="noopener">Python 练习实例17</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example18.html" target="_blank" rel="noopener">Python 练习实例18</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example19.html" target="_blank" rel="noopener">Python 练习实例19</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example20.html" target="_blank" rel="noopener">Python 练习实例20</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example21.html" target="_blank" rel="noopener">Python 练习实例21</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example22.html" target="_blank" rel="noopener">Python 练习实例22</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example23.html" target="_blank" rel="noopener">Python 练习实例23</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example24.html" target="_blank" rel="noopener">Python 练习实例24</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example25.html" target="_blank" rel="noopener">Python 练习实例25</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example26.html" target="_blank" rel="noopener">Python 练习实例26</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example27.html" target="_blank" rel="noopener">Python 练习实例27</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example28.html" target="_blank" rel="noopener">Python 练习实例28</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example29.html" target="_blank" rel="noopener">Python 练习实例29</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example30.html" target="_blank" rel="noopener">Python 练习实例30</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example31.html" target="_blank" rel="noopener">Python 练习实例31</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example32.html" target="_blank" rel="noopener">Python 练习实例32</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example33.html" target="_blank" rel="noopener">Python 练习实例33</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example34.html" target="_blank" rel="noopener">Python 练习实例34</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example35.html" target="_blank" rel="noopener">Python 练习实例35</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example36.html" target="_blank" rel="noopener">Python 练习实例36</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example37.html" target="_blank" rel="noopener">Python 练习实例37</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example38.html" target="_blank" rel="noopener">Python 练习实例38</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example39.html" target="_blank" rel="noopener">Python 练习实例39</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example40.html" target="_blank" rel="noopener">Python 练习实例40</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example41.html" target="_blank" rel="noopener">Python 练习实例41</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example42.html" target="_blank" rel="noopener">Python 练习实例42</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example43.html" target="_blank" rel="noopener">Python 练习实例43</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example44.html" target="_blank" rel="noopener">Python 练习实例44</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example45.html" target="_blank" rel="noopener">Python 练习实例45</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example46.html" target="_blank" rel="noopener">Python 练习实例46</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example47.html" target="_blank" rel="noopener">Python 练习实例47</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example48.html" target="_blank" rel="noopener">Python 练习实例48</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example49.html" target="_blank" rel="noopener">Python 练习实例49</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example50.html" target="_blank" rel="noopener">Python 练习实例50</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example51.html" target="_blank" rel="noopener">Python 练习实例51</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example52.html" target="_blank" rel="noopener">Python 练习实例52</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example53.html" target="_blank" rel="noopener">Python 练习实例53</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example54.html" target="_blank" rel="noopener">Python 练习实例54</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example55.html" target="_blank" rel="noopener">Python 练习实例55</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example56.html" target="_blank" rel="noopener">Python 练习实例56</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example57.html" target="_blank" rel="noopener">Python 练习实例57</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example58.html" target="_blank" rel="noopener">Python 练习实例58</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example59.html" target="_blank" rel="noopener">Python 练习实例59</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example60.html" target="_blank" rel="noopener">Python 练习实例60</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example61.html" target="_blank" rel="noopener">Python 练习实例61</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example62.html" target="_blank" rel="noopener">Python 练习实例62</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example63.html" target="_blank" rel="noopener">Python 练习实例63</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example64.html" target="_blank" rel="noopener">Python 练习实例64</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example65.html" target="_blank" rel="noopener">Python 练习实例65</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example66.html" target="_blank" rel="noopener">Python 练习实例66</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example67.html" target="_blank" rel="noopener">Python 练习实例67</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example68.html" target="_blank" rel="noopener">Python 练习实例68</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example69.html" target="_blank" rel="noopener">Python 练习实例69</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example70.html" target="_blank" rel="noopener">Python 练习实例70</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example71.html" target="_blank" rel="noopener">Python 练习实例71</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example72.html" target="_blank" rel="noopener">Python 练习实例72</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example73.html" target="_blank" rel="noopener">Python 练习实例73</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example74.html" target="_blank" rel="noopener">Python 练习实例74</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example75.html" target="_blank" rel="noopener">Python 练习实例75</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example76.html" target="_blank" rel="noopener">Python 练习实例76</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example77.html" target="_blank" rel="noopener">Python 练习实例77</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example78.html" target="_blank" rel="noopener">Python 练习实例78</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example79.html" target="_blank" rel="noopener">Python 练习实例79</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example80.html" target="_blank" rel="noopener">Python 练习实例80</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example81.html" target="_blank" rel="noopener">Python 练习实例81</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example82.html" target="_blank" rel="noopener">Python 练习实例82</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example83.html" target="_blank" rel="noopener">Python 练习实例83</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example84.html" target="_blank" rel="noopener">Python 练习实例84</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example85.html" target="_blank" rel="noopener">Python 练习实例85</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example86.html" target="_blank" rel="noopener">Python 练习实例86</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example87.html" target="_blank" rel="noopener">Python 练习实例87</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example88.html" target="_blank" rel="noopener">Python 练习实例88</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example89.html" target="_blank" rel="noopener">Python 练习实例89</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example90.html" target="_blank" rel="noopener">Python 练习实例90</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example91.html" target="_blank" rel="noopener">Python 练习实例91</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example92.html" target="_blank" rel="noopener">Python 练习实例92</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example93.html" target="_blank" rel="noopener">Python 练习实例93</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example94.html" target="_blank" rel="noopener">Python 练习实例94</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example95.html" target="_blank" rel="noopener">Python 练习实例95</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example96.html" target="_blank" rel="noopener">Python 练习实例96</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example97.html" target="_blank" rel="noopener">Python 练习实例97</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example98.html" target="_blank" rel="noopener">Python 练习实例98</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example99.html" target="_blank" rel="noopener">Python 练习实例99</a></li>
<li><a href="https://www.runoob.com/python/python-exercise-example100.html" target="_blank" rel="noopener">Python 练习实例100</a></li>
</ul>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python SMTP发送邮件</title>
    <url>/2020/06/13/Python-SMTP%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  SMTP（Simple Mail Transfer Protocol）即简单邮件传输协议,它是一组用于由源地址到目的地址传送邮件的规则，由它来控制信件的中转方式。</p>
<p>python的smtplib提供了一种很方便的途径发送电子邮件。它对smtp协议进行了简单的封装。</p>
<p>Python创建 SMTP 对象语法如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import smtplib</span><br><span class="line"></span><br><span class="line">smtpObj &#x3D; smtplib.SMTP( [host [, port [, local_hostname]]] )</span><br></pre></td></tr></table></figure>

<p>参数说明：</p>
<ul>
<li>host: SMTP 服务器主机。 你可以指定主机的ip地址或者域名如: runoob.com，这个是可选参数。</li>
<li>port: 如果你提供了 host 参数, 你需要指定 SMTP 服务使用的端口号，一般情况下 SMTP 端口号为25。</li>
<li>local_hostname: 如果 SMTP 在你的本机上，你只需要指定服务器地址为 localhost 即可。</li>
</ul>
<p>Python SMTP 对象使用 sendmail 方法发送邮件，语法如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SMTP.sendmail(from_addr, to_addrs, msg[, mail_options, rcpt_options])</span><br></pre></td></tr></table></figure>

<p>参数说明：</p>
<ul>
<li>from_addr: 邮件发送者地址。</li>
<li>to_addrs: 字符串列表，邮件发送地址。</li>
<li>msg: 发送消息</li>
</ul>
<p>这里要注意一下第三个参数，msg 是字符串，表示邮件。我们知道邮件一般由标题，发信人，收件人，邮件内容，附件等构成，发送邮件的时候，要注意 msg 的格式。这个格式就是 smtp 协议中定义的格式。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>以下执行实例需要你本机已安装了支持 SMTP 的服务，如：sendmail。</p>
<p>以下是一个使用 Python 发送邮件简单的实例：</p>
<h2 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import smtplib from email.mime.text import MIMEText from email.header import Header  sender = ‘from@runoob.com’ receivers = [‘429240967@qq.com’]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱  # 三个参数：第一个为文本内容，第二个 plain 设置文本格式，第三个 utf-8 设置编码 message = MIMEText(‘Python 邮件发送测试…’, ‘plain’, ‘utf-8’) message[‘From’] = Header(“菜鸟教程”, ‘utf-8’)   # 发送者 message[‘To’] =  Header(“测试”, ‘utf-8’)        # 接收者  subject = ‘Python SMTP 邮件测试’ message[‘Subject’] = Header(subject, ‘utf-8’)   try:    smtpObj = smtplib.SMTP(‘localhost’)    smtpObj.sendmail(sender, receivers, message.as_string())    print “邮件发送成功” except smtplib.SMTPException:    print “Error: 无法发送邮件”</p>
<p>我们使用三个引号来设置邮件信息，标准邮件需要三个头部信息： <strong>From</strong>, <strong>To</strong>, 和 <strong>Subject</strong> ，每个信息直接使用空行分割。</p>
<p>我们通过实例化 smtplib 模块的 SMTP 对象 <em>smtpObj</em> 来连接到 SMTP 访问，并使用 <em>sendmail</em> 方法来发送信息。</p>
<p>执行以上程序，如果你本机安装 <strong>sendmail（邮件传输代理程序）</strong>，就会输出：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">邮件发送成功</span><br></pre></td></tr></table></figure>

<p>查看我们的收件箱(一般在垃圾箱)，就可以查看到邮件信息：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/04/smtp1.jpg" alt="img"></p>
<p>如果我们本机没有 sendmail 访问，也可以使用其他邮件服务商的 SMTP 访问（QQ、网易、Google等）。</p>
<h2 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import smtplib from email.mime.text import MIMEText from email.header import Header  # 第三方 SMTP 服务 mail_host=”smtp.XXX.com”  #设置服务器 mail_user=”XXXX”    #用户名 mail_pass=”XXXXXX”   #口令    sender = ‘from@runoob.com’ receivers = [‘429240967@qq.com’]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱  message = MIMEText(‘Python 邮件发送测试…’, ‘plain’, ‘utf-8’) message[‘From’] = Header(“菜鸟教程”, ‘utf-8’) message[‘To’] =  Header(“测试”, ‘utf-8’)  subject = ‘Python SMTP 邮件测试’ message[‘Subject’] = Header(subject, ‘utf-8’)   try:    smtpObj = smtplib.SMTP()     smtpObj.connect(mail_host, 25)    # 25 为 SMTP 端口号    smtpObj.login(mail_user,mail_pass)      smtpObj.sendmail(sender, receivers, message.as_string())    print “邮件发送成功” except smtplib.SMTPException:    print “Error: 无法发送邮件”</p>
<hr>
<h2 id="使用Python发送HTML格式的邮件"><a href="#使用Python发送HTML格式的邮件" class="headerlink" title="使用Python发送HTML格式的邮件"></a>使用Python发送HTML格式的邮件</h2><p>Python发送HTML格式的邮件与发送纯文本消息的邮件不同之处就是将MIMEText中_subtype设置为html。具体代码如下：</p>
<h2 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import smtplib from email.mime.text import MIMEText from email.header import Header  sender = ‘from@runoob.com’ receivers = [‘429240967@qq.com’]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱  mail_msg = “”” <p>Python 邮件发送测试…</p> <p><a href="http://www.runoob.com" target="_blank" rel="noopener">这是一个链接</a></p> “”” message = MIMEText(mail_msg, ‘html’, ‘utf-8’) message[‘From’] = Header(“菜鸟教程”, ‘utf-8’) message[‘To’] =  Header(“测试”, ‘utf-8’)  subject = ‘Python SMTP 邮件测试’ message[‘Subject’] = Header(subject, ‘utf-8’)   try:    smtpObj = smtplib.SMTP(‘localhost’)    smtpObj.sendmail(sender, receivers, message.as_string())    print “邮件发送成功” except smtplib.SMTPException:    print “Error: 无法发送邮件”</p>
<p>执行以上程序，如果你本机安装sendmail，就会输出：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">邮件发送成功</span><br></pre></td></tr></table></figure>

<p>查看我们的收件箱(一般在垃圾箱)，就可以查看到邮件信息：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/04/smtp2.jpg" alt="img"></p>
<hr>
<h2 id="Python-发送带附件的邮件"><a href="#Python-发送带附件的邮件" class="headerlink" title="Python 发送带附件的邮件"></a>Python 发送带附件的邮件</h2><p>发送带附件的邮件，首先要创建MIMEMultipart()实例，然后构造附件，如果有多个附件，可依次构造，最后利用smtplib.smtp发送。</p>
<h2 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import smtplib from email.mime.text import MIMEText from email.mime.multipart import MIMEMultipart from email.header import Header  sender = ‘from@runoob.com’ receivers = [‘429240967@qq.com’]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱  #创建一个带附件的实例 message = MIMEMultipart() message[‘From’] = Header(“菜鸟教程”, ‘utf-8’) message[‘To’] =  Header(“测试”, ‘utf-8’) subject = ‘Python SMTP 邮件测试’ message[‘Subject’] = Header(subject, ‘utf-8’)  #邮件正文内容 message.attach(MIMEText(‘这是菜鸟教程Python 邮件发送测试……’, ‘plain’, ‘utf-8’))  # 构造附件1，传送当前目录下的 test.txt 文件 att1 = MIMEText(open(‘test.txt’, ‘rb’).read(), ‘base64’, ‘utf-8’) att1[“Content-Type”] = ‘application/octet-stream’ # 这里的filename可以任意写，写什么名字，邮件中显示什么名字 att1[“Content-Disposition”] = ‘attachment; filename=”test.txt”‘ message.attach(att1)  # 构造附件2，传送当前目录下的 runoob.txt 文件 att2 = MIMEText(open(‘runoob.txt’, ‘rb’).read(), ‘base64’, ‘utf-8’) att2[“Content-Type”] = ‘application/octet-stream’ att2[“Content-Disposition”] = ‘attachment; filename=”runoob.txt”‘ message.attach(att2)  try:    smtpObj = smtplib.SMTP(‘localhost’)    smtpObj.sendmail(sender, receivers, message.as_string())    print “邮件发送成功” except smtplib.SMTPException:    print “Error: 无法发送邮件”</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">邮件发送成功</span><br></pre></td></tr></table></figure>

<p>查看我们的收件箱(一般在垃圾箱)，就可以查看到邮件信息：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/smtp3.jpg" alt="img"></p>
<hr>
<h2 id="在-HTML-文本中添加图片"><a href="#在-HTML-文本中添加图片" class="headerlink" title="在 HTML 文本中添加图片"></a>在 HTML 文本中添加图片</h2><p>邮件的 HTML 文本中一般邮件服务商添加外链是无效的，正确添加图片的实例如下所示：</p>
<h2 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import smtplib from email.mime.image import MIMEImage from email.mime.multipart import MIMEMultipart from email.mime.text import MIMEText from email.header import Header  sender = ‘from@runoob.com’ receivers = [‘429240967@qq.com’]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱  msgRoot = MIMEMultipart(‘related’) msgRoot[‘From’] = Header(“菜鸟教程”, ‘utf-8’) msgRoot[‘To’] =  Header(“测试”, ‘utf-8’) subject = ‘Python SMTP 邮件测试’ msgRoot[‘Subject’] = Header(subject, ‘utf-8’)  msgAlternative = MIMEMultipart(‘alternative’) msgRoot.attach(msgAlternative)   mail_msg = “”” <p>Python 邮件发送测试…</p> <p><a href="http://www.runoob.com" target="_blank" rel="noopener">菜鸟教程链接</a></p> <p>图片演示：</p> <p><img src="cid:image1"></p> “”” msgAlternative.attach(MIMEText(mail_msg, ‘html’, ‘utf-8’))  # 指定图片为当前目录 fp = open(‘test.png’, ‘rb’) msgImage = MIMEImage(fp.read()) fp.close()  # 定义图片 ID，在 HTML 文本中引用 msgImage.add_header(‘Content-ID’, ‘<image1>‘) msgRoot.attach(msgImage)  try:    smtpObj = smtplib.SMTP(‘localhost’)    smtpObj.sendmail(sender, receivers, msgRoot.as_string())    print “邮件发送成功” except smtplib.SMTPException:    print “Error: 无法发送邮件”</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">邮件发送成功</span><br></pre></td></tr></table></figure>

<p>查看我们的收件箱(如果在垃圾箱可能需要移动到收件箱才可正常显示)，就可以查看到邮件信息：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/04/smtp4.jpg" alt="img"></p>
<hr>
<h2 id="使用第三方-SMTP-服务发送"><a href="#使用第三方-SMTP-服务发送" class="headerlink" title="使用第三方 SMTP 服务发送"></a>使用第三方 SMTP 服务发送</h2><p>这里使用了 QQ 邮箱(你也可以使用 163，Gmail等)的 SMTP 服务，需要做以下配置：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/01/qqmail-set2.jpg" alt="img"></p>
<p>QQ 邮箱通过生成授权码来设置密码：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/01/qqmail-set.jpg" alt="img"></p>
<p>QQ 邮箱 SMTP 服务器地址：smtp.qq.com，ssl 端口：465。</p>
<p>以下实例你需要修改：发件人邮箱（你的QQ邮箱），密码，收件人邮箱（可发给自己）。</p>
<h2 id="QQ-SMTP"><a href="#QQ-SMTP" class="headerlink" title="QQ SMTP"></a>QQ SMTP</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import smtplib from email.mime.text import MIMEText from email.utils import formataddr  my_sender=’429240967@qq.com’    # 发件人邮箱账号 my_pass = ‘xxxxxxxxxx’              # 发件人邮箱密码 my_user=’429240967@qq.com’      # 收件人邮箱账号，我这边发送给自己 def mail():    ret=True    try:        msg=MIMEText(‘填写邮件内容’,’plain’,’utf-8’)        msg[‘From’]=formataddr([“FromRunoob”,my_sender])  # 括号里的对应发件人邮箱昵称、发件人邮箱账号        msg[‘To’]=formataddr([“FK”,my_user])              # 括号里的对应收件人邮箱昵称、收件人邮箱账号        msg[‘Subject’]=”菜鸟教程发送邮件测试”                # 邮件的主题，也可以说是标题         server=smtplib.SMTP_SSL(“smtp.qq.com”, 465)  # 发件人邮箱中的SMTP服务器，端口是25        server.login(my_sender, my_pass)  # 括号中对应的是发件人邮箱账号、邮箱密码        server.sendmail(my_sender,[my_user,],msg.as_string())  # 括号中对应的是发件人邮箱账号、收件人邮箱账号、发送邮件        server.quit()  # 关闭连接    except Exception:  # 如果 try 中的语句没有执行，则会执行下面的 ret=False        ret=False    return ret  ret=mail() if ret:    print(“邮件发送成功”) else:    print(“邮件发送失败”)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python test.py </span><br><span class="line">邮件发送成功</span><br></pre></td></tr></table></figure>

<p>发送成功后，登陆收件人邮箱即可查看：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/423C9FDF-EBC5-4115-8D16-0046B5E05DBC.jpg" alt="img"></p>
<p>更多内容请参阅：<a href="https://docs.python.org/2/library/email-examples.html。" target="_blank" rel="noopener">https://docs.python.org/2/library/email-examples.html。</a></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 网络编程</title>
    <url>/2020/06/13/Python-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  Python 提供了两个级别访问的网络服务。：</p>
<ul>
<li>低级别的网络服务支持基本的 Socket，它提供了标准的 BSD Sockets API，可以访问底层操作系统Socket接口的全部方法。</li>
<li>高级别的网络服务模块 SocketServer， 它提供了服务器中心类，可以简化网络服务器的开发。</li>
</ul>
<hr>
<h2 id="什么是-Socket"><a href="#什么是-Socket" class="headerlink" title="什么是 Socket?"></a>什么是 Socket?</h2><p>Socket又称”套接字”，应用程序通常通过”套接字”向网络发出请求或者应答网络请求，使主机间或者一台计算机上的进程间可以通讯。</p>
<hr>
<h2 id="socket-函数"><a href="#socket-函数" class="headerlink" title="socket()函数"></a>socket()函数</h2><p>Python 中，我们用 socket（）函数来创建套接字，语法格式如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">socket.socket([family[, type[, proto]]])</span><br></pre></td></tr></table></figure>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li>family: 套接字家族可以使AF_UNIX或者AF_INET</li>
<li>type: 套接字类型可以根据是面向连接的还是非连接分为<code>SOCK_STREAM</code>或<code>SOCK_DGRAM</code></li>
<li>protocol: 一般不填默认为0.</li>
</ul>
<h3 id="Socket-对象-内建-方法"><a href="#Socket-对象-内建-方法" class="headerlink" title="Socket 对象(内建)方法"></a>Socket 对象(内建)方法</h3><table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">服务器端套接字</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">s.bind()</td>
<td align="left">绑定地址（host,port）到套接字， 在AF_INET下,以元组（host,port）的形式表示地址。</td>
</tr>
<tr>
<td align="left">s.listen()</td>
<td align="left">开始TCP监听。backlog指定在拒绝连接之前，操作系统可以挂起的最大连接数量。该值至少为1，大部分应用程序设为5就可以了。</td>
</tr>
<tr>
<td align="left">s.accept()</td>
<td align="left">被动接受TCP客户端连接,(阻塞式)等待连接的到来</td>
</tr>
<tr>
<td align="left">客户端套接字</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">s.connect()</td>
<td align="left">主动初始化TCP服务器连接，。一般address的格式为元组（hostname,port），如果连接出错，返回socket.error错误。</td>
</tr>
<tr>
<td align="left">s.connect_ex()</td>
<td align="left">connect()函数的扩展版本,出错时返回出错码,而不是抛出异常</td>
</tr>
<tr>
<td align="left">公共用途的套接字函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">s.recv()</td>
<td align="left">接收TCP数据，数据以字符串形式返回，bufsize指定要接收的最大数据量。flag提供有关消息的其他信息，通常可以忽略。</td>
</tr>
<tr>
<td align="left">s.send()</td>
<td align="left">发送TCP数据，将string中的数据发送到连接的套接字。返回值是要发送的字节数量，该数量可能小于string的字节大小。</td>
</tr>
<tr>
<td align="left">s.sendall()</td>
<td align="left">完整发送TCP数据，完整发送TCP数据。将string中的数据发送到连接的套接字，但在返回之前会尝试发送所有数据。成功返回None，失败则抛出异常。</td>
</tr>
<tr>
<td align="left">s.recvfrom()</td>
<td align="left">接收UDP数据，与recv()类似，但返回值是（data,address）。其中data是包含接收数据的字符串，address是发送数据的套接字地址。</td>
</tr>
<tr>
<td align="left">s.sendto()</td>
<td align="left">发送UDP数据，将数据发送到套接字，address是形式为（ipaddr，port）的元组，指定远程地址。返回值是发送的字节数。</td>
</tr>
<tr>
<td align="left">s.close()</td>
<td align="left">关闭套接字</td>
</tr>
<tr>
<td align="left">s.getpeername()</td>
<td align="left">返回连接套接字的远程地址。返回值通常是元组（ipaddr,port）。</td>
</tr>
<tr>
<td align="left">s.getsockname()</td>
<td align="left">返回套接字自己的地址。通常是一个元组(ipaddr,port)</td>
</tr>
<tr>
<td align="left">s.setsockopt(level,optname,value)</td>
<td align="left">设置给定套接字选项的值。</td>
</tr>
<tr>
<td align="left">s.getsockopt(level,optname[.buflen])</td>
<td align="left">返回套接字选项的值。</td>
</tr>
<tr>
<td align="left">s.settimeout(timeout)</td>
<td align="left">设置套接字操作的超时期，timeout是一个浮点数，单位是秒。值为None表示没有超时期。一般，超时期应该在刚创建套接字时设置，因为它们可能用于连接的操作（如connect()）</td>
</tr>
<tr>
<td align="left">s.gettimeout()</td>
<td align="left">返回当前超时期的值，单位是秒，如果没有设置超时期，则返回None。</td>
</tr>
<tr>
<td align="left">s.fileno()</td>
<td align="left">返回套接字的文件描述符。</td>
</tr>
<tr>
<td align="left">s.setblocking(flag)</td>
<td align="left">如果flag为0，则将套接字设为非阻塞模式，否则将套接字设为阻塞模式（默认值）。非阻塞模式下，如果调用recv()没有发现任何数据，或send()调用无法立即发送数据，那么将引起socket.error异常。</td>
</tr>
<tr>
<td align="left">s.makefile()</td>
<td align="left">创建一个与该套接字相关连的文件</td>
</tr>
</tbody></table>
<hr>
<h2 id="简单实例"><a href="#简单实例" class="headerlink" title="简单实例"></a>简单实例</h2><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><p>我们使用 socket 模块的 <strong>socket</strong> 函数来创建一个 socket 对象。socket 对象可以通过调用其他函数来设置一个 socket 服务。</p>
<p>现在我们可以通过调用 <strong>bind(hostname, port)</strong> 函数来指定服务的 <em>port(端口)</em>。</p>
<p>接着，我们调用 socket 对象的 <em>accept</em> 方法。该方法等待客户端的连接，并返回 <em>connection</em> 对象，表示已连接到客户端。</p>
<p>完整代码如下：</p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>- # 文件名：server.py  import socket               # 导入 socket 模块  s = socket.socket()         # 创建 socket 对象 host = socket.gethostname() # 获取本地主机名 port = 12345                # 设置端口 s.bind((host, port))        # 绑定端口  s.listen(5)                 # 等待客户端连接 while True:    c,addr = s.accept()     # 建立客户端连接    print ‘连接地址：’, addr    c.send(‘欢迎访问菜鸟教程！’)    c.close()                # 关闭连接</p>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><p>接下来我们写一个简单的客户端实例连接到以上创建的服务。端口号为 12345。</p>
<p><strong>socket.connect(hosname, port )</strong> 方法打开一个 TCP 连接到主机为 <em>hostname</em> 端口为 <em>port</em> 的服务商。连接后我们就可以从服务端获取数据，记住，操作完成后需要关闭连接。</p>
<p>完整代码如下：</p>
<h2 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>- # 文件名：client.py  import socket               # 导入 socket 模块  s = socket.socket()         # 创建 socket 对象 host = socket.gethostname() # 获取本地主机名 port = 12345                # 设置端口号  s.connect((host, port)) print s.recv(1024) s.close()</p>
<p>现在我们打开两个终端，第一个终端执行 server.py 文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python server.py</span><br></pre></td></tr></table></figure>

<p>第二个终端执行 client.py 文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ python client.py </span><br><span class="line">欢迎访问菜鸟教程！</span><br></pre></td></tr></table></figure>

<p>这时我们再打开第一个终端，就会看到有以下信息输出：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">连接地址： (&#39;192.168.0.118&#39;, 62461)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Python-Internet-模块"><a href="#Python-Internet-模块" class="headerlink" title="Python Internet 模块"></a>Python Internet 模块</h2><p>以下列出了 Python 网络编程的一些重要模块：</p>
<table>
<thead>
<tr>
<th align="left">协议</th>
<th align="left">功能用处</th>
<th align="left">端口号</th>
<th align="left">Python 模块</th>
</tr>
</thead>
<tbody><tr>
<td align="left">HTTP</td>
<td align="left">网页访问</td>
<td align="left">80</td>
<td align="left">httplib, urllib, xmlrpclib</td>
</tr>
<tr>
<td align="left">NNTP</td>
<td align="left">阅读和张贴新闻文章，俗称为”帖子”</td>
<td align="left">119</td>
<td align="left">nntplib</td>
</tr>
<tr>
<td align="left">FTP</td>
<td align="left">文件传输</td>
<td align="left">20</td>
<td align="left">ftplib, urllib</td>
</tr>
<tr>
<td align="left">SMTP</td>
<td align="left">发送邮件</td>
<td align="left">25</td>
<td align="left">smtplib</td>
</tr>
<tr>
<td align="left">POP3</td>
<td align="left">接收邮件</td>
<td align="left">110</td>
<td align="left">poplib</td>
</tr>
<tr>
<td align="left">IMAP4</td>
<td align="left">获取邮件</td>
<td align="left">143</td>
<td align="left">imaplib</td>
</tr>
<tr>
<td align="left">Telnet</td>
<td align="left">命令行</td>
<td align="left">23</td>
<td align="left">telnetlib</td>
</tr>
<tr>
<td align="left">Gopher</td>
<td align="left">信息查找</td>
<td align="left">70</td>
<td align="left">gopherlib, urllib</td>
</tr>
</tbody></table>
<p>更多内容可以参阅官网的 <a href="https://docs.python.org/2/library/socket.html" target="_blank" rel="noopener">Python Socket Library and Modules</a>。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 操作 MySQL 数据库</title>
    <url>/2020/06/13/Python-%E6%93%8D%E4%BD%9C-MySQL-%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  Python 标准数据库接口为 Python DB-API，Python DB-API为开发人员提供了数据库应用编程接口。</p>
<p>Python 数据库接口支持非常多的数据库，你可以选择适合你项目的数据库：</p>
<ul>
<li>GadFly</li>
<li>mSQL</li>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>Microsoft SQL Server 2000</li>
<li>Informix</li>
<li>Interbase</li>
<li>Oracle</li>
<li>Sybase</li>
</ul>
<p>你可以访问<a href="https://wiki.python.org/moin/DatabaseInterfaces" target="_blank" rel="noopener">Python数据库接口及API</a>查看详细的支持数据库列表。</p>
<p>不同的数据库你需要下载不同的DB API模块，例如你需要访问Oracle数据库和Mysql数据，你需要下载Oracle和MySQL数据库模块。</p>
<p>DB-API 是一个规范. 它定义了一系列必须的对象和数据库存取方式, 以便为各种各样的底层数据库系统和多种多样的数据库接口程序提供一致的访问接口 。</p>
<p>Python的DB-API，为大多数的数据库实现了接口，使用它连接各数据库后，就可以用相同的方式操作各数据库。</p>
<p>Python DB-API使用流程：</p>
<ul>
<li>引入 API 模块。</li>
<li>获取与数据库的连接。</li>
<li>执行SQL语句和存储过程。</li>
<li>关闭数据库连接。</li>
</ul>
<hr>
<h2 id="什么是MySQLdb"><a href="#什么是MySQLdb" class="headerlink" title="什么是MySQLdb?"></a>什么是MySQLdb?</h2><p>MySQLdb 是用于Python链接Mysql数据库的接口，它实现了 Python 数据库 API 规范 V2.0，基于 MySQL C API 上建立的。</p>
<hr>
<h2 id="如何安装MySQLdb"><a href="#如何安装MySQLdb" class="headerlink" title="如何安装MySQLdb?"></a>如何安装MySQLdb?</h2><p>为了用DB-API编写MySQL脚本，必须确保已经安装了MySQL。复制以下代码，并执行：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br></pre></td></tr></table></figure>

<p>如果执行后的输出结果如下所示，意味着你没有安装 MySQLdb 模块：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;test.py&quot;, line 3, in &lt;module&gt;</span><br><span class="line">    import MySQLdb</span><br><span class="line">ImportError: No module named MySQLdb</span><br></pre></td></tr></table></figure>

<p>安装MySQLdb，请访问 <a href="http://sourceforge.net/projects/mysql-python" target="_blank" rel="noopener">http://sourceforge.net/projects/mysql-python</a> ，(Linux平台可以访问：<a href="https://pypi.python.org/pypi/MySQL-python)从这里可选择适合您的平台的安装包，分为预编译的二进制文件和源代码安装包。" target="_blank" rel="noopener">https://pypi.python.org/pypi/MySQL-python)从这里可选择适合您的平台的安装包，分为预编译的二进制文件和源代码安装包。</a></p>
<p>如果您选择二进制文件发行版本的话，安装过程基本安装提示即可完成。如果从源代码进行安装的话，则需要切换到MySQLdb发行版本的顶级目录，并键入下列命令:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ gunzip MySQL-python-1.2.2.tar.gz</span><br><span class="line">$ tar -xvf MySQL-python-1.2.2.tar</span><br><span class="line">$ cd MySQL-python-1.2.2</span><br><span class="line">$ python setup.py build</span><br><span class="line">$ python setup.py install</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>请确保您有root权限来安装上述模块。</p>
<hr>
<h2 id="数据库连接"><a href="#数据库连接" class="headerlink" title="数据库连接"></a>数据库连接</h2><p>连接数据库前，请先确认以下事项：</p>
<ul>
<li>您已经创建了数据库 TESTDB.</li>
<li>在TESTDB数据库中您已经创建了表 EMPLOYEE</li>
<li>EMPLOYEE表字段为 FIRST_NAME, LAST_NAME, AGE, SEX 和 INCOME。</li>
<li>连接数据库TESTDB使用的用户名为 “testuser” ，密码为 “test123”,你可以可以自己设定或者直接使用root用户名及其密码，Mysql数据库用户授权请使用Grant命令。</li>
<li>在你的机子上已经安装了 Python MySQLdb 模块。</li>
<li>如果您对sql语句不熟悉，可以访问我们的 <a href="https://www.runoob.com/sql/sql-tutorial.html" target="_blank" rel="noopener">SQL基础教程</a></li>
</ul>
<h3 id="实例："><a href="#实例：" class="headerlink" title="实例："></a>实例：</h3><p>以下实例链接Mysql的TESTDB数据库：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db &#x3D; MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset&#x3D;&#39;utf8&#39; )</span><br><span class="line"></span><br><span class="line"># 使用cursor()方法获取操作游标 </span><br><span class="line">cursor &#x3D; db.cursor()</span><br><span class="line"></span><br><span class="line"># 使用execute方法执行SQL语句</span><br><span class="line">cursor.execute(&quot;SELECT VERSION()&quot;)</span><br><span class="line"></span><br><span class="line"># 使用 fetchone() 方法获取一条数据</span><br><span class="line">data &#x3D; cursor.fetchone()</span><br><span class="line"></span><br><span class="line">print &quot;Database version : %s &quot; % data</span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<p>执行以上脚本输出结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Database version : 5.0.45</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h2><p>如果数据库连接存在我们可以使用execute()方法来为数据库创建表，如下所示创建表EMPLOYEE：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db &#x3D; MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset&#x3D;&#39;utf8&#39; )</span><br><span class="line"></span><br><span class="line"># 使用cursor()方法获取操作游标 </span><br><span class="line">cursor &#x3D; db.cursor()</span><br><span class="line"></span><br><span class="line"># 如果数据表已经存在使用 execute() 方法删除表。</span><br><span class="line">cursor.execute(&quot;DROP TABLE IF EXISTS EMPLOYEE&quot;)</span><br><span class="line"></span><br><span class="line"># 创建数据表SQL语句</span><br><span class="line">sql &#x3D; &quot;&quot;&quot;CREATE TABLE EMPLOYEE (</span><br><span class="line">         FIRST_NAME  CHAR(20) NOT NULL,</span><br><span class="line">         LAST_NAME  CHAR(20),</span><br><span class="line">         AGE INT,  </span><br><span class="line">         SEX CHAR(1),</span><br><span class="line">         INCOME FLOAT )&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="数据库插入操作"><a href="#数据库插入操作" class="headerlink" title="数据库插入操作"></a>数据库插入操作</h2><p>以下实例使用执行 SQL INSERT 语句向表 EMPLOYEE 插入记录：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db &#x3D; MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset&#x3D;&#39;utf8&#39; )</span><br><span class="line"></span><br><span class="line"># 使用cursor()方法获取操作游标 </span><br><span class="line">cursor &#x3D; db.cursor()</span><br><span class="line"></span><br><span class="line"># SQL 插入语句</span><br><span class="line">sql &#x3D; &quot;&quot;&quot;INSERT INTO EMPLOYEE(FIRST_NAME,</span><br><span class="line">         LAST_NAME, AGE, SEX, INCOME)</span><br><span class="line">         VALUES (&#39;Mac&#39;, &#39;Mohan&#39;, 20, &#39;M&#39;, 2000)&quot;&quot;&quot;</span><br><span class="line">try:</span><br><span class="line">   # 执行sql语句</span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   # 提交到数据库执行</span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   # Rollback in case there is any error</span><br><span class="line">   db.rollback()</span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<p>以上例子也可以写成如下形式：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db &#x3D; MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset&#x3D;&#39;utf8&#39; )</span><br><span class="line"></span><br><span class="line"># 使用cursor()方法获取操作游标 </span><br><span class="line">cursor &#x3D; db.cursor()</span><br><span class="line"></span><br><span class="line"># SQL 插入语句</span><br><span class="line">sql &#x3D; &quot;INSERT INTO EMPLOYEE(FIRST_NAME, \</span><br><span class="line">       LAST_NAME, AGE, SEX, INCOME) \</span><br><span class="line">       VALUES (%s, %s, %s, %s, %s )&quot; % \</span><br><span class="line">       (&#39;Mac&#39;, &#39;Mohan&#39;, 20, &#39;M&#39;, 2000)</span><br><span class="line">try:</span><br><span class="line">   # 执行sql语句</span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   # 提交到数据库执行</span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   # 发生错误时回滚</span><br><span class="line">   db.rollback()</span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<h3 id="实例：-1"><a href="#实例：-1" class="headerlink" title="实例："></a>实例：</h3><p>以下代码使用变量向SQL语句中传递参数:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">..................................</span><br><span class="line">user_id &#x3D; &quot;test123&quot;</span><br><span class="line">password &#x3D; &quot;password&quot;</span><br><span class="line"></span><br><span class="line">con.execute(&#39;insert into Login values(%s, %s)&#39; % \</span><br><span class="line">             (user_id, password))</span><br><span class="line">..................................</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="数据库查询操作"><a href="#数据库查询操作" class="headerlink" title="数据库查询操作"></a>数据库查询操作</h2><p>Python查询Mysql使用 fetchone() 方法获取单条数据, 使用fetchall() 方法获取多条数据。</p>
<ul>
<li><strong>fetchone():</strong> 该方法获取下一个查询结果集。结果集是一个对象</li>
<li><strong>fetchall():</strong>接收全部的返回结果行.</li>
<li><strong>rowcount:</strong> 这是一个只读属性，并返回执行execute()方法后影响的行数。</li>
</ul>
<h3 id="实例：-2"><a href="#实例：-2" class="headerlink" title="实例："></a>实例：</h3><p>查询EMPLOYEE表中salary（工资）字段大于1000的所有数据：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db &#x3D; MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset&#x3D;&#39;utf8&#39; )</span><br><span class="line"></span><br><span class="line"># 使用cursor()方法获取操作游标 </span><br><span class="line">cursor &#x3D; db.cursor()</span><br><span class="line"></span><br><span class="line"># SQL 查询语句</span><br><span class="line">sql &#x3D; &quot;SELECT * FROM EMPLOYEE \</span><br><span class="line">       WHERE INCOME &gt; %s&quot; % (1000)</span><br><span class="line">try:</span><br><span class="line">   # 执行SQL语句</span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   # 获取所有记录列表</span><br><span class="line">   results &#x3D; cursor.fetchall()</span><br><span class="line">   for row in results:</span><br><span class="line">      fname &#x3D; row[0]</span><br><span class="line">      lname &#x3D; row[1]</span><br><span class="line">      age &#x3D; row[2]</span><br><span class="line">      sex &#x3D; row[3]</span><br><span class="line">      income &#x3D; row[4]</span><br><span class="line">      # 打印结果</span><br><span class="line">      print &quot;fname&#x3D;%s,lname&#x3D;%s,age&#x3D;%s,sex&#x3D;%s,income&#x3D;%s&quot; % \</span><br><span class="line">             (fname, lname, age, sex, income )</span><br><span class="line">except:</span><br><span class="line">   print &quot;Error: unable to fecth data&quot;</span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<p>以上脚本执行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fname&#x3D;Mac, lname&#x3D;Mohan, age&#x3D;20, sex&#x3D;M, income&#x3D;2000</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="数据库更新操作"><a href="#数据库更新操作" class="headerlink" title="数据库更新操作"></a>数据库更新操作</h2><p>更新操作用于更新数据表的的数据，以下实例将 EMPLOYEE 表中的 SEX 字段为 ‘M’ 的 AGE 字段递增 1：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db &#x3D; MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset&#x3D;&#39;utf8&#39; )</span><br><span class="line"></span><br><span class="line"># 使用cursor()方法获取操作游标 </span><br><span class="line">cursor &#x3D; db.cursor()</span><br><span class="line"></span><br><span class="line"># SQL 更新语句</span><br><span class="line">sql &#x3D; &quot;UPDATE EMPLOYEE SET AGE &#x3D; AGE + 1 WHERE SEX &#x3D; &#39;%c&#39;&quot; % (&#39;M&#39;)</span><br><span class="line">try:</span><br><span class="line">   # 执行SQL语句</span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   # 提交到数据库执行</span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   # 发生错误时回滚</span><br><span class="line">   db.rollback()</span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h2><h2 id="删除操作用于删除数据表中的数据，以下实例演示了删除数据表-EMPLOYEE-中-AGE-大于-20-的所有数据：-usr-bin-python-coding-UTF-8-import-MySQLdb-打开数据库连接-db-MySQLdb-connect-quot-localhost-quot-quot-testuser-quot-quot-test123-quot-quot-TESTDB-quot-charset-39-utf8-39-使用cursor-方法获取操作游标-cursor-db-cursor-SQL-删除语句-sql-quot-DELETE-FROM-EMPLOYEE-WHERE-AGE-gt-s-quot-20-try-执行SQL语句-cursor-execute-sql-提交修改-db-commit-except-发生错误时回滚-db-rollback-关闭连接-db-close"><a href="#删除操作用于删除数据表中的数据，以下实例演示了删除数据表-EMPLOYEE-中-AGE-大于-20-的所有数据：-usr-bin-python-coding-UTF-8-import-MySQLdb-打开数据库连接-db-MySQLdb-connect-quot-localhost-quot-quot-testuser-quot-quot-test123-quot-quot-TESTDB-quot-charset-39-utf8-39-使用cursor-方法获取操作游标-cursor-db-cursor-SQL-删除语句-sql-quot-DELETE-FROM-EMPLOYEE-WHERE-AGE-gt-s-quot-20-try-执行SQL语句-cursor-execute-sql-提交修改-db-commit-except-发生错误时回滚-db-rollback-关闭连接-db-close" class="headerlink" title="删除操作用于删除数据表中的数据，以下实例演示了删除数据表 EMPLOYEE 中 AGE 大于 20 的所有数据：#!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # 打开数据库连接 db = MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset=&#39;utf8&#39; ) # 使用cursor()方法获取操作游标  cursor = db.cursor() # SQL 删除语句 sql = &quot;DELETE FROM EMPLOYEE WHERE AGE &gt; %s&quot; % (20) try:   # 执行SQL语句   cursor.execute(sql)   # 提交修改   db.commit() except:   # 发生错误时回滚   db.rollback() # 关闭连接 db.close()"></a>删除操作用于删除数据表中的数据，以下实例演示了删除数据表 EMPLOYEE 中 AGE 大于 20 的所有数据：<code>#!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # 打开数据库连接 db = MySQLdb.connect(&quot;localhost&quot;, &quot;testuser&quot;, &quot;test123&quot;, &quot;TESTDB&quot;, charset=&#39;utf8&#39; ) # 使用cursor()方法获取操作游标  cursor = db.cursor() # SQL 删除语句 sql = &quot;DELETE FROM EMPLOYEE WHERE AGE &gt; %s&quot; % (20) try:   # 执行SQL语句   cursor.execute(sql)   # 提交修改   db.commit() except:   # 发生错误时回滚   db.rollback() # 关闭连接 db.close()</code></h2><h2 id="执行事务"><a href="#执行事务" class="headerlink" title="执行事务"></a>执行事务</h2><p>事务机制可以确保数据一致性。</p>
<p>事务应该具有4个属性：原子性、一致性、隔离性、持久性。这四个属性通常称为ACID特性。</p>
<ul>
<li>原子性（atomicity）。一个事务是一个不可分割的工作单位，事务中包括的诸操作要么都做，要么都不做。</li>
<li>一致性（consistency）。事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。</li>
<li>隔离性（isolation）。一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。</li>
<li>持久性（durability）。持续性也称永久性（permanence），指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其有任何影响。</li>
</ul>
<p>Python DB API 2.0 的事务提供了两个方法 commit 或 rollback。</p>
<h3 id="实例：-3"><a href="#实例：-3" class="headerlink" title="实例："></a>实例：</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># SQL删除记录语句</span><br><span class="line">sql &#x3D; &quot;DELETE FROM EMPLOYEE WHERE AGE &gt; %s&quot; % (20)</span><br><span class="line">try:</span><br><span class="line">   # 执行SQL语句</span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   # 向数据库提交</span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   # 发生错误时回滚</span><br><span class="line">   db.rollback()</span><br></pre></td></tr></table></figure>

<p>对于支持事务的数据库， 在Python数据库编程中，当游标建立之时，就自动开始了一个隐形的数据库事务。</p>
<p>commit()方法游标的所有更新操作，rollback（）方法回滚当前游标的所有操作。每一个方法都开始了一个新的事务。</p>
<hr>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><p>DB API中定义了一些数据库操作的错误及异常，下表列出了这些错误和异常:</p>
<table>
<thead>
<tr>
<th align="left">异常</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Warning</td>
<td align="left">当有严重警告时触发，例如插入数据是被截断等等。必须是 StandardError 的子类。</td>
</tr>
<tr>
<td align="left">Error</td>
<td align="left">警告以外所有其他错误类。必须是 StandardError 的子类。</td>
</tr>
<tr>
<td align="left">InterfaceError</td>
<td align="left">当有数据库接口模块本身的错误（而不是数据库的错误）发生时触发。 必须是Error的子类。</td>
</tr>
<tr>
<td align="left">DatabaseError</td>
<td align="left">和数据库有关的错误发生时触发。 必须是Error的子类。</td>
</tr>
<tr>
<td align="left">DataError</td>
<td align="left">当有数据处理时的错误发生时触发，例如：除零错误，数据超范围等等。 必须是DatabaseError的子类。</td>
</tr>
<tr>
<td align="left">OperationalError</td>
<td align="left">指非用户控制的，而是操作数据库时发生的错误。例如：连接意外断开、 数据库名未找到、事务处理失败、内存分配错误等等操作数据库是发生的错误。 必须是DatabaseError的子类。</td>
</tr>
<tr>
<td align="left">IntegrityError</td>
<td align="left">完整性相关的错误，例如外键检查失败等。必须是DatabaseError子类。</td>
</tr>
<tr>
<td align="left">InternalError</td>
<td align="left">数据库的内部错误，例如游标（cursor）失效了、事务同步失败等等。 必须是DatabaseError子类。</td>
</tr>
<tr>
<td align="left">ProgrammingError</td>
<td align="left">程序错误，例如数据表（table）没找到或已存在、SQL语句语法错误、 参数数量错误等等。必须是DatabaseError的子类。</td>
</tr>
<tr>
<td align="left">NotSupportedError</td>
<td align="left">不支持错误，指使用了数据库不支持的函数或API等。例如在连接对象上 使用.rollback()函数，然而数据库并不支持事务或者事务已关闭。 必须是DatabaseError的子类。</td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python CGI编程</title>
    <url>/2020/06/13/Python-CGI%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 什么是 CGI</p>
<p>CGI 目前由 NCSA 维护，NCSA 定义 CGI 如下：</p>
<p>CGI(Common Gateway Interface)，通用网关接口，它是一段程序，运行在服务器上如：HTTP 服务器，提供同客户端 HTML 页面的接口。</p>
<hr>
<h2 id="网页浏览"><a href="#网页浏览" class="headerlink" title="网页浏览"></a>网页浏览</h2><p>为了更好的了解 CGI 是如何工作的，我们可以从在网页上点击一个链接或 URL 的流程：</p>
<ul>
<li>1、使用你的浏览器访问 URL 并连接到 HTTP web 服务器。</li>
<li>2、Web 服务器接收到请求信息后会解析 URL，并查找访问的文件在服务器上是否存在，如果存在返回文件的内容，否则返回错误信息。</li>
<li>3、浏览器从服务器上接收信息，并显示接收的文件或者错误信息。</li>
</ul>
<p>CGI 程序可以是 Python 脚本，PERL 脚本，SHELL 脚本，C 或者 C++ 程序等。</p>
<hr>
<h2 id="CGI架构图"><a href="#CGI架构图" class="headerlink" title="CGI架构图"></a>CGI架构图</h2><p><img src="https://www.runoob.com/wp-content/uploads/2013/11/Cgi01.png" alt="cgiarch"></p>
<hr>
<h2 id="Web-服务器支持及配置"><a href="#Web-服务器支持及配置" class="headerlink" title="Web 服务器支持及配置"></a>Web 服务器支持及配置</h2><p>在你进行 CGI 编程前，确保您的 Web 服务器支持 CGI 及已经配置了 CGI 的处理程序。</p>
<p>Apache 支持 CGI 配置：</p>
<p>设置好CGI目录：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ScriptAlias &#x2F;cgi-bin&#x2F; &#x2F;var&#x2F;www&#x2F;cgi-bin&#x2F;</span><br></pre></td></tr></table></figure>

<p>所有的HTTP服务器执行 CGI 程序都保存在一个预先配置的目录。这个目录被称为 CGI 目录，并按照惯例，它被命名为 /var/www/cgi-bin 目录。</p>
<p>CGI 文件的扩展名为 <strong>.cgi</strong>，python 也可以使用 <strong>.py</strong> 扩展名。</p>
<p>默认情况下，Linux 服务器配置运行的 cgi-bin 目录中为 /var/www。</p>
<p>如果你想指定其他运行 CGI 脚本的目录，可以修改 httpd.conf 配置文件，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Directory &quot;&#x2F;var&#x2F;www&#x2F;cgi-bin&quot;&gt;</span><br><span class="line">   AllowOverride None</span><br><span class="line">   Options +ExecCGI</span><br><span class="line">   Order allow,deny</span><br><span class="line">   Allow from all</span><br><span class="line">&lt;&#x2F;Directory&gt;</span><br></pre></td></tr></table></figure>

<p>在 AddHandler 中添加 .py 后缀，这样我们就可以访问 .py 结尾的 python 脚本文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AddHandler cgi-script .cgi .pl .py</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="第一个CGI程序"><a href="#第一个CGI程序" class="headerlink" title="第一个CGI程序"></a>第一个CGI程序</h2><p>我们使用 Python 创建第一个 CGI 程序，文件名为 hello.py，文件位于 /var/www/cgi-bin 目录中，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print                               # 空行，告诉服务器结束头部</span><br><span class="line">print &#39;&lt;html&gt;&#39;</span><br><span class="line">print &#39;&lt;head&gt;&#39;</span><br><span class="line">print &#39;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&#39;</span><br><span class="line">print &#39;&lt;title&gt;Hello World - 我的第一个 CGI 程序！&lt;&#x2F;title&gt;&#39;</span><br><span class="line">print &#39;&lt;&#x2F;head&gt;&#39;</span><br><span class="line">print &#39;&lt;body&gt;&#39;</span><br><span class="line">print &#39;&lt;h2&gt;Hello World! 我是来自菜鸟教程的第一CGI程序&lt;&#x2F;h2&gt;&#39;</span><br><span class="line">print &#39;&lt;&#x2F;body&gt;&#39;</span><br><span class="line">print &#39;&lt;&#x2F;html&gt;&#39;</span><br></pre></td></tr></table></figure>

<p>文件保存后修改 hello.py，修改文件权限为 755：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 hello.py</span><br></pre></td></tr></table></figure>

<p>以上程序在浏览器访问 <strong><a href="http://localhost/cgi-bin/hello.py" target="_blank" rel="noopener">http://localhost/cgi-bin/hello.py</a></strong> 显示结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hello World! 我是来自菜鸟教程的第一CGI程序</span><br></pre></td></tr></table></figure>

<p>这个的hello.py脚本是一个简单的Python脚本，脚本第一行的输出内容”Content-type:text/html”发送到浏览器并告知浏览器显示的内容类型为”text/html”。</p>
<p>用 print 输出一个空行用于告诉服务器结束头部信息。</p>
<hr>
<h2 id="HTTP头部"><a href="#HTTP头部" class="headerlink" title="HTTP头部"></a>HTTP头部</h2><p>hello.py文件内容中的” Content-type:text/html”即为HTTP头部的一部分，它会发送给浏览器告诉浏览器文件的内容类型。</p>
<p>HTTP头部的格式如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP 字段名: 字段内容</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Content-type: text&#x2F;html</span><br></pre></td></tr></table></figure>

<p>以下表格介绍了CGI程序中HTTP头部经常使用的信息：</p>
<table>
<thead>
<tr>
<th align="left">头</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Content-type:</td>
<td align="left">请求的与实体对应的MIME信息。例如: Content-type:text/html</td>
</tr>
<tr>
<td align="left">Expires: Date</td>
<td align="left">响应过期的日期和时间</td>
</tr>
<tr>
<td align="left">Location: URL</td>
<td align="left">用来重定向接收方到非请求URL的位置来完成请求或标识新的资源</td>
</tr>
<tr>
<td align="left">Last-modified: Date</td>
<td align="left">请求资源的最后修改时间</td>
</tr>
<tr>
<td align="left">Content-length: N</td>
<td align="left">请求的内容长度</td>
</tr>
<tr>
<td align="left">Set-Cookie: String</td>
<td align="left">设置Http Cookie</td>
</tr>
</tbody></table>
<hr>
<h2 id="CGI环境变量"><a href="#CGI环境变量" class="headerlink" title="CGI环境变量"></a>CGI环境变量</h2><p>所有的CGI程序都接收以下的环境变量，这些变量在CGI程序中发挥了重要的作用：</p>
<table>
<thead>
<tr>
<th align="left">变量名</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">CONTENT_TYPE</td>
<td align="left">这个环境变量的值指示所传递来的信息的MIME类型。目前，环境变量CONTENT_TYPE一般都是：application/x-www-form-urlencoded,他表示数据来自于HTML表单。</td>
</tr>
<tr>
<td align="left">CONTENT_LENGTH</td>
<td align="left">如果服务器与CGI程序信息的传递方式是POST，这个环境变量即使从标准输入STDIN中可以读到的有效数据的字节数。这个环境变量在读取所输入的数据时必须使用。</td>
</tr>
<tr>
<td align="left">HTTP_COOKIE</td>
<td align="left">客户机内的 COOKIE 内容。</td>
</tr>
<tr>
<td align="left">HTTP_USER_AGENT</td>
<td align="left">提供包含了版本数或其他专有数据的客户浏览器信息。</td>
</tr>
<tr>
<td align="left">PATH_INFO</td>
<td align="left">这个环境变量的值表示紧接在CGI程序名之后的其他路径信息。它常常作为CGI程序的参数出现。</td>
</tr>
<tr>
<td align="left">QUERY_STRING</td>
<td align="left">如果服务器与CGI程序信息的传递方式是GET，这个环境变量的值即使所传递的信息。这个信息经跟在CGI程序名的后面，两者中间用一个问号’?’分隔。</td>
</tr>
<tr>
<td align="left">REMOTE_ADDR</td>
<td align="left">这个环境变量的值是发送请求的客户机的IP地址，例如上面的192.168.1.67。这个值总是存在的。而且它是Web客户机需要提供给Web服务器的唯一标识，可以在CGI程序中用它来区分不同的Web客户机。</td>
</tr>
<tr>
<td align="left">REMOTE_HOST</td>
<td align="left">这个环境变量的值包含发送CGI请求的客户机的主机名。如果不支持你想查询，则无需定义此环境变量。</td>
</tr>
<tr>
<td align="left">REQUEST_METHOD</td>
<td align="left">提供脚本被调用的方法。对于使用 HTTP/1.0 协议的脚本，仅 GET 和 POST 有意义。</td>
</tr>
<tr>
<td align="left">SCRIPT_FILENAME</td>
<td align="left">CGI脚本的完整路径</td>
</tr>
<tr>
<td align="left">SCRIPT_NAME</td>
<td align="left">CGI脚本的的名称</td>
</tr>
<tr>
<td align="left">SERVER_NAME</td>
<td align="left">这是你的 WEB 服务器的主机名、别名或IP地址。</td>
</tr>
<tr>
<td align="left">SERVER_SOFTWARE</td>
<td align="left">这个环境变量的值包含了调用CGI程序的HTTP服务器的名称和版本号。例如，上面的值为Apache/2.2.14(Unix)</td>
</tr>
</tbody></table>
<p>以下是一个简单的CGI脚本输出CGI的环境变量：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"># filename:test.py</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">print &quot;Content-type: text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;b&gt;环境变量&lt;&#x2F;b&gt;&lt;br&gt;&quot;;</span><br><span class="line">print &quot;&lt;ul&gt;&quot;</span><br><span class="line">for key in os.environ.keys():</span><br><span class="line">    print &quot;&lt;li&gt;&lt;span style&#x3D;&#39;color:green&#39;&gt;%30s &lt;&#x2F;span&gt; : %s &lt;&#x2F;li&gt;&quot; % (key,os.environ[key])</span><br><span class="line">print &quot;&lt;&#x2F;ul&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>将以上点保存为 test.py ,并修改文件权限为 755，执行结果如下：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/0B7EB575-8393-43A0-949A-E46DCFB840FE.jpg" alt="img"></p>
<hr>
<h2 id="GET和POST方法"><a href="#GET和POST方法" class="headerlink" title="GET和POST方法"></a>GET和POST方法</h2><p>浏览器客户端通过两种方法向服务器传递信息，这两种方法就是 GET 方法和 POST 方法。</p>
<h3 id="使用GET方法传输数据"><a href="#使用GET方法传输数据" class="headerlink" title="使用GET方法传输数据"></a>使用GET方法传输数据</h3><p>GET方法发送编码后的用户信息到服务端，数据信息包含在请求页面的URL上，以”?”号分割, 如下所示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.test.com&#x2F;cgi-bin&#x2F;hello.py?key1&#x3D;value1&amp;key2&#x3D;value2</span><br></pre></td></tr></table></figure>

<p>有关 GET 请求的其他一些注释：</p>
<ul>
<li>GET 请求可被缓存</li>
<li>GET 请求保留在浏览器历史记录中</li>
<li>GET 请求可被收藏为书签</li>
<li>GET 请求不应在处理敏感数据时使用</li>
<li>GET 请求有长度限制</li>
<li>GET 请求只应当用于取回数据</li>
</ul>
<h3 id="简单的url实例：GET方法"><a href="#简单的url实例：GET方法" class="headerlink" title="简单的url实例：GET方法"></a>简单的url实例：GET方法</h3><p>以下是一个简单的URL，使用GET方法向hello_get.py程序发送两个参数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;cgi-bin&#x2F;test.py?name&#x3D;菜鸟教程&amp;url&#x3D;http:&#x2F;&#x2F;www.runoob.com</span><br></pre></td></tr></table></figure>

<p>以下为hello_get.py文件的代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># filename：test.py</span><br><span class="line"></span><br><span class="line"># CGI处理模块</span><br><span class="line">import cgi, cgitb </span><br><span class="line"></span><br><span class="line"># 创建 FieldStorage 的实例化</span><br><span class="line">form &#x3D; cgi.FieldStorage() </span><br><span class="line"></span><br><span class="line"># 获取数据</span><br><span class="line">site_name &#x3D; form.getvalue(&#39;name&#39;)</span><br><span class="line">site_url  &#x3D; form.getvalue(&#39;url&#39;)</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;html&gt;&quot;</span><br><span class="line">print &quot;&lt;head&gt;&quot;</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;title&gt;菜鸟教程 CGI 测试实例&lt;&#x2F;title&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;head&gt;&quot;</span><br><span class="line">print &quot;&lt;body&gt;&quot;</span><br><span class="line">print &quot;&lt;h2&gt;%s官网：%s&lt;&#x2F;h2&gt;&quot; % (site_name, site_url)</span><br><span class="line">print &quot;&lt;&#x2F;body&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;html&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>文件保存后修改 hello_get.py，修改文件权限为 755：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 hello_get.py</span><br></pre></td></tr></table></figure>

<p>浏览器请求输出结果：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/4C034008-B0B0-452F-AC97-C2BE37B9C7AF.jpg" alt="img"></p>
<h3 id="简单的表单实例：GET方法"><a href="#简单的表单实例：GET方法" class="headerlink" title="简单的表单实例：GET方法"></a>简单的表单实例：GET方法</h3><p>以下是一个通过HTML的表单使用GET方法向服务器发送两个数据，提交的服务器脚本同样是hello_get.py文件，hello_get.html 代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action&#x3D;&quot;&#x2F;cgi-bin&#x2F;hello_get.py&quot; method&#x3D;&quot;get&quot;&gt;</span><br><span class="line">站点名称: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&gt;  &lt;br &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">站点 URL: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;url&quot; &#x2F;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>默认情况下 cgi-bin 目录只能存放脚本文件，我们将 hello_get.html 存储在 test 目录下，修改文件权限为 755：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 hello_get.html</span><br></pre></td></tr></table></figure>

<p>Gif 演示如下所示：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/hello_get.gif" alt="img"></p>
<h3 id="使用POST方法传递数据"><a href="#使用POST方法传递数据" class="headerlink" title="使用POST方法传递数据"></a>使用POST方法传递数据</h3><p>使用POST方法向服务器传递数据是更安全可靠的，像一些敏感信息如用户密码等需要使用POST传输数据。</p>
<p>以下同样是hello_get.py ，它也可以处理浏览器提交的POST表单数据:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># CGI处理模块</span><br><span class="line">import cgi, cgitb </span><br><span class="line"></span><br><span class="line"># 创建 FieldStorage 的实例化</span><br><span class="line">form &#x3D; cgi.FieldStorage() </span><br><span class="line"></span><br><span class="line"># 获取数据</span><br><span class="line">site_name &#x3D; form.getvalue(&#39;name&#39;)</span><br><span class="line">site_url  &#x3D; form.getvalue(&#39;url&#39;)</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;html&gt;&quot;</span><br><span class="line">print &quot;&lt;head&gt;&quot;</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;title&gt;菜鸟教程 CGI 测试实例&lt;&#x2F;title&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;head&gt;&quot;</span><br><span class="line">print &quot;&lt;body&gt;&quot;</span><br><span class="line">print &quot;&lt;h2&gt;%s官网：%s&lt;&#x2F;h2&gt;&quot; % (site_name, site_url)</span><br><span class="line">print &quot;&lt;&#x2F;body&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;html&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>以下为表单通过POST方法（<strong>method=”post”</strong>）向服务器脚本 hello_get.py 提交数据:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action&#x3D;&quot;&#x2F;cgi-bin&#x2F;hello_get.py&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">站点名称: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&gt;  &lt;br &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">站点 URL: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;url&quot; &#x2F;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>Gif 演示如下所示：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/hello_post.gif" alt="img"></p>
<h3 id="通过CGI程序传递checkbox数据"><a href="#通过CGI程序传递checkbox数据" class="headerlink" title="通过CGI程序传递checkbox数据"></a>通过CGI程序传递checkbox数据</h3><p>checkbox用于提交一个或者多个选项数据，HTML代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action&#x3D;&quot;&#x2F;cgi-bin&#x2F;checkbox.py&quot; method&#x3D;&quot;POST&quot; target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;runoob&quot; value&#x3D;&quot;on&quot; &#x2F;&gt; 菜鸟教程</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;google&quot; value&#x3D;&quot;on&quot; &#x2F;&gt; Google</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;选择站点&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>以下为 checkbox.py 文件的代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># 引入 CGI 处理模块 </span><br><span class="line">import cgi, cgitb </span><br><span class="line"></span><br><span class="line"># 创建 FieldStorage的实例 </span><br><span class="line">form &#x3D; cgi.FieldStorage() </span><br><span class="line"></span><br><span class="line"># 接收字段数据</span><br><span class="line">if form.getvalue(&#39;google&#39;):</span><br><span class="line">   google_flag &#x3D; &quot;是&quot;</span><br><span class="line">else:</span><br><span class="line">   google_flag &#x3D; &quot;否&quot;</span><br><span class="line"></span><br><span class="line">if form.getvalue(&#39;runoob&#39;):</span><br><span class="line">   runoob_flag &#x3D; &quot;是&quot;</span><br><span class="line">else:</span><br><span class="line">   runoob_flag &#x3D; &quot;否&quot;</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;html&gt;&quot;</span><br><span class="line">print &quot;&lt;head&gt;&quot;</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;title&gt;菜鸟教程 CGI 测试实例&lt;&#x2F;title&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;head&gt;&quot;</span><br><span class="line">print &quot;&lt;body&gt;&quot;</span><br><span class="line">print &quot;&lt;h2&gt; 菜鸟教程是否选择了 : %s&lt;&#x2F;h2&gt;&quot; % runoob_flag</span><br><span class="line">print &quot;&lt;h2&gt; Google 是否选择了 : %s&lt;&#x2F;h2&gt;&quot; % google_flag</span><br><span class="line">print &quot;&lt;&#x2F;body&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;html&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>修改 checkbox.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 checkbox.py</span><br></pre></td></tr></table></figure>

<p>浏览器访问 Gif 演示图：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/checkbox.gif" alt="img"></p>
<h3 id="通过CGI程序传递Radio数据"><a href="#通过CGI程序传递Radio数据" class="headerlink" title="通过CGI程序传递Radio数据"></a>通过CGI程序传递Radio数据</h3><p>Radio 只向服务器传递一个数据，HTML代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action&#x3D;&quot;&#x2F;cgi-bin&#x2F;radiobutton.py&quot; method&#x3D;&quot;post&quot; target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;site&quot; value&#x3D;&quot;runoob&quot; &#x2F;&gt; 菜鸟教程</span><br><span class="line">&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;site&quot; value&#x3D;&quot;google&quot; &#x2F;&gt; Google</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>radiobutton.py 脚本代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># 引入 CGI 处理模块 </span><br><span class="line">import cgi, cgitb </span><br><span class="line"></span><br><span class="line"># 创建 FieldStorage的实例 </span><br><span class="line">form &#x3D; cgi.FieldStorage() </span><br><span class="line"></span><br><span class="line"># 接收字段数据</span><br><span class="line">if form.getvalue(&#39;site&#39;):</span><br><span class="line">   site &#x3D; form.getvalue(&#39;site&#39;)</span><br><span class="line">else:</span><br><span class="line">   site &#x3D; &quot;提交数据为空&quot;</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;html&gt;&quot;</span><br><span class="line">print &quot;&lt;head&gt;&quot;</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;title&gt;菜鸟教程 CGI 测试实例&lt;&#x2F;title&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;head&gt;&quot;</span><br><span class="line">print &quot;&lt;body&gt;&quot;</span><br><span class="line">print &quot;&lt;h2&gt; 选中的网站是 %s&lt;&#x2F;h2&gt;&quot; % site</span><br><span class="line">print &quot;&lt;&#x2F;body&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;html&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>修改 radiobutton.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 radiobutton.py</span><br></pre></td></tr></table></figure>

<p>浏览器访问 Gif 演示图：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/radiobutton.gif" alt="img"></p>
<h3 id="通过CGI程序传递-Textarea-数据"><a href="#通过CGI程序传递-Textarea-数据" class="headerlink" title="通过CGI程序传递 Textarea 数据"></a>通过CGI程序传递 Textarea 数据</h3><p>Textarea 向服务器传递多行数据，HTML代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action&#x3D;&quot;&#x2F;cgi-bin&#x2F;textarea.py&quot; method&#x3D;&quot;post&quot; target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">&lt;textarea name&#x3D;&quot;textcontent&quot; cols&#x3D;&quot;40&quot; rows&#x3D;&quot;4&quot;&gt;</span><br><span class="line">在这里输入内容...</span><br><span class="line">&lt;&#x2F;textarea&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>textarea.py 脚本代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># 引入 CGI 处理模块 </span><br><span class="line">import cgi, cgitb </span><br><span class="line"></span><br><span class="line"># 创建 FieldStorage的实例 </span><br><span class="line">form &#x3D; cgi.FieldStorage() </span><br><span class="line"></span><br><span class="line"># 接收字段数据</span><br><span class="line">if form.getvalue(&#39;textcontent&#39;):</span><br><span class="line">   text_content &#x3D; form.getvalue(&#39;textcontent&#39;)</span><br><span class="line">else:</span><br><span class="line">   text_content &#x3D; &quot;没有内容&quot;</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;html&gt;&quot;</span><br><span class="line">print &quot;&lt;head&gt;&quot;;</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;title&gt;菜鸟教程 CGI 测试实例&lt;&#x2F;title&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;head&gt;&quot;</span><br><span class="line">print &quot;&lt;body&gt;&quot;</span><br><span class="line">print &quot;&lt;h2&gt; 输入的内容是：%s&lt;&#x2F;h2&gt;&quot; % text_content</span><br><span class="line">print &quot;&lt;&#x2F;body&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;html&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>修改 textarea.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 textarea.py</span><br></pre></td></tr></table></figure>

<p>浏览器访问 Gif 演示图：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/textarea.gif" alt="img"></p>
<h3 id="通过CGI程序传递下拉数据。"><a href="#通过CGI程序传递下拉数据。" class="headerlink" title="通过CGI程序传递下拉数据。"></a>通过CGI程序传递下拉数据。</h3><p>HTML 下拉框代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action&#x3D;&quot;&#x2F;cgi-bin&#x2F;dropdown.py&quot; method&#x3D;&quot;post&quot; target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">&lt;select name&#x3D;&quot;dropdown&quot;&gt;</span><br><span class="line">&lt;option value&#x3D;&quot;runoob&quot; selected&gt;菜鸟教程&lt;&#x2F;option&gt;</span><br><span class="line">&lt;option value&#x3D;&quot;google&quot;&gt;Google&lt;&#x2F;option&gt;</span><br><span class="line">&lt;&#x2F;select&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>dropdown.py 脚本代码如下所示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># 引入 CGI 处理模块 </span><br><span class="line">import cgi, cgitb </span><br><span class="line"></span><br><span class="line"># 创建 FieldStorage的实例 </span><br><span class="line">form &#x3D; cgi.FieldStorage() </span><br><span class="line"></span><br><span class="line"># 接收字段数据</span><br><span class="line">if form.getvalue(&#39;dropdown&#39;):</span><br><span class="line">   dropdown_value &#x3D; form.getvalue(&#39;dropdown&#39;)</span><br><span class="line">else:</span><br><span class="line">   dropdown_value &#x3D; &quot;没有内容&quot;</span><br><span class="line"></span><br><span class="line">print &quot;Content-type:text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line">print &quot;&lt;html&gt;&quot;</span><br><span class="line">print &quot;&lt;head&gt;&quot;</span><br><span class="line">print &quot;&lt;meta charset&#x3D;\&quot;utf-8\&quot;&gt;&quot;</span><br><span class="line">print &quot;&lt;title&gt;菜鸟教程 CGI 测试实例&lt;&#x2F;title&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;head&gt;&quot;</span><br><span class="line">print &quot;&lt;body&gt;&quot;</span><br><span class="line">print &quot;&lt;h2&gt; 选中的选项是：%s&lt;&#x2F;h2&gt;&quot; % dropdown_value</span><br><span class="line">print &quot;&lt;&#x2F;body&gt;&quot;</span><br><span class="line">print &quot;&lt;&#x2F;html&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>修改 dropdown.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 dropdown.py</span><br></pre></td></tr></table></figure>

<p>浏览器访问 Gif 演示图：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/dropdown.gif" alt="img"></p>
<hr>
<h2 id="CGI中使用Cookie"><a href="#CGI中使用Cookie" class="headerlink" title="CGI中使用Cookie"></a>CGI中使用Cookie</h2><p>在 http 协议一个很大的缺点就是不对用户身份的进行判断，这样给编程人员带来很大的不便， 而 cookie 功能的出现弥补了这个不足。</p>
<p>cookie 就是在客户访问脚本的同时，通过客户的浏览器，在客户硬盘上写入纪录数据 ，当下次客户访问脚本时取回数据信息，从而达到身份判别的功能，cookie 常用在身份校验中。</p>
<p>　</p>
<h3 id="cookie的语法"><a href="#cookie的语法" class="headerlink" title="cookie的语法"></a>cookie的语法</h3><p>http cookie的发送是通过http头部来实现的，他早于文件的传递，头部set-cookie的语法如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Set-cookie:name&#x3D;name;expires&#x3D;date;path&#x3D;path;domain&#x3D;domain;secure</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>name=name:</strong> 需要设置cookie的值(name不能使用”<strong>;</strong>“和”<strong>,</strong>“号),有多个name值时用 “<strong>;</strong>“ 分隔，例如：<strong>name1=name1;name2=name2;name3=name3</strong>。</li>
<li><strong>expires=date:</strong> cookie的有效期限,格式： expires=”Wdy,DD-Mon-YYYY HH:MM:SS”</li>
<li></li>
<li><strong>path=path:</strong> 设置cookie支持的路径,如果path是一个路径，则cookie对这个目录下的所有文件及子目录生效，例如： path=”/cgi-bin/“，如果path是一个文件，则cookie指对这个文件生效，例如：path=”/cgi-bin/cookie.cgi”。</li>
<li><strong>domain=domain:</strong> 对cookie生效的域名，例如：domain=”<a href="http://www.runoob.com&quot;" target="_blank" rel="noopener">www.runoob.com&quot;</a></li>
<li><strong>secure:</strong> 如果给出此标志，表示cookie只能通过SSL协议的https服务器来传递。</li>
<li>cookie的接收是通过设置环境变量HTTP_COOKIE来实现的，CGI程序可以通过检索该变量获取cookie信息。</li>
</ul>
<hr>
<h2 id="Cookie设置"><a href="#Cookie设置" class="headerlink" title="Cookie设置"></a>Cookie设置</h2><p>Cookie的设置非常简单，cookie会在http头部单独发送。以下实例在cookie中设置了name 和 expires：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"># </span><br><span class="line">print &#39;Content-Type: text&#x2F;html&#39;</span><br><span class="line">print &#39;Set-Cookie: name&#x3D;&quot;菜鸟教程&quot;;expires&#x3D;Wed, 28 Aug 2016 18:30:00 GMT&#39;</span><br><span class="line">print</span><br><span class="line">print &quot;&quot;&quot;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;Cookie set OK!&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>将以上代码保存到 cookie_set.py，并修改 cookie_set.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 cookie_set.py</span><br></pre></td></tr></table></figure>

<p>以上实例使用了 Set-Cookie 头信息来设置Cookie信息，可选项中设置了Cookie的其他属性，如过期时间Expires，域名Domain，路径Path。这些信息设置在 “Content-type:text/html”之前。</p>
<hr>
<h2 id="检索Cookie信息"><a href="#检索Cookie信息" class="headerlink" title="检索Cookie信息"></a>检索Cookie信息</h2><p>Cookie信息检索页非常简单，Cookie信息存储在CGI的环境变量HTTP_COOKIE中，存储格式如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">key1&#x3D;value1;key2&#x3D;value2;key3&#x3D;value3....</span><br></pre></td></tr></table></figure>

<p>以下是一个简单的CGI检索cookie信息的程序：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># 导入模块</span><br><span class="line">import os</span><br><span class="line">import Cookie</span><br><span class="line"></span><br><span class="line">print &quot;Content-type: text&#x2F;html&quot;</span><br><span class="line">print</span><br><span class="line"></span><br><span class="line">print &quot;&quot;&quot;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;读取cookie信息&lt;&#x2F;h1&gt;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">if &#39;HTTP_COOKIE&#39; in os.environ:</span><br><span class="line">    cookie_string&#x3D;os.environ.get(&#39;HTTP_COOKIE&#39;)</span><br><span class="line">    c&#x3D;Cookie.SimpleCookie()</span><br><span class="line">    c.load(cookie_string)</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        data&#x3D;c[&#39;name&#39;].value</span><br><span class="line">        print &quot;cookie data: &quot;+data+&quot;&lt;br&gt;&quot;</span><br><span class="line">    except KeyError:</span><br><span class="line">        print &quot;cookie 没有设置或者已过期&lt;br&gt;&quot;</span><br><span class="line">print &quot;&quot;&quot;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>将以上代码保存到 cookie_get.py，并修改 cookie_get.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 cookie_get.py</span><br></pre></td></tr></table></figure>

<p>以上 cookie 设置颜色 Gif 如下所示：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/cookie.gif" alt="img"></p>
<h3 id="文件上传实例"><a href="#文件上传实例" class="headerlink" title="文件上传实例"></a>文件上传实例</h3><p>HTML设置上传文件的表单需要设置 <strong>enctype</strong> 属性为 <strong>multipart/form-data</strong>，代码如下所示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;form enctype&#x3D;&quot;multipart&#x2F;form-data&quot; </span><br><span class="line">                     action&#x3D;&quot;&#x2F;cgi-bin&#x2F;save_file.py&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">   &lt;p&gt;选中文件: &lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;filename&quot; &#x2F;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">   &lt;p&gt;&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;上传&quot; &#x2F;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">   &lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>save_file.py脚本文件代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">import cgi, os</span><br><span class="line">import cgitb; cgitb.enable()</span><br><span class="line"></span><br><span class="line">form &#x3D; cgi.FieldStorage()</span><br><span class="line"></span><br><span class="line"># 获取文件名</span><br><span class="line">fileitem &#x3D; form[&#39;filename&#39;]</span><br><span class="line"></span><br><span class="line"># 检测文件是否上传</span><br><span class="line">if fileitem.filename:</span><br><span class="line">   # 设置文件路径 </span><br><span class="line">   fn &#x3D; os.path.basename(fileitem.filename)</span><br><span class="line">   open(&#39;&#x2F;tmp&#x2F;&#39; + fn, &#39;wb&#39;).write(fileitem.file.read())</span><br><span class="line"></span><br><span class="line">   message &#x3D; &#39;文件 &quot;&#39; + fn + &#39;&quot; 上传成功&#39;</span><br><span class="line">   </span><br><span class="line">else:</span><br><span class="line">   message &#x3D; &#39;文件没有上传&#39;</span><br><span class="line">   </span><br><span class="line">print &quot;&quot;&quot;\</span><br><span class="line">Content-Type: text&#x2F;html\n</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;p&gt;%s&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">&quot;&quot;&quot; % (message,)</span><br></pre></td></tr></table></figure>

<p>将以上代码保存到 save_file.py，并修改 save_file.py 权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 755 save_file.py</span><br></pre></td></tr></table></figure>

<p>以上 cookie 设置颜色 Gif 如下所示：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2013/11/savefile.gif" alt="img"></p>
<p>如果你使用的系统是Unix/Linux，你必须替换文件分隔符，在window下只需要使用open()语句即可：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fn &#x3D; os.path.basename(fileitem.filename.replace(&quot;\\&quot;, &quot;&#x2F;&quot; ))</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="文件下载对话框"><a href="#文件下载对话框" class="headerlink" title="文件下载对话框"></a>文件下载对话框</h2><p>我们先在当前目录下创建 foo.txt 文件，用于程序的下载。</p>
<p>文件下载通过设置HTTP头信息来实现，功能代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line"># HTTP 头部</span><br><span class="line">print &quot;Content-Disposition: attachment; filename&#x3D;\&quot;foo.txt\&quot;&quot;;</span><br><span class="line">print</span><br><span class="line"># 打开文件</span><br><span class="line">fo &#x3D; open(&quot;foo.txt&quot;, &quot;rb&quot;)</span><br><span class="line"></span><br><span class="line">str &#x3D; fo.read();</span><br><span class="line">print str</span><br><span class="line"></span><br><span class="line"># 关闭文件</span><br><span class="line">fo.close()</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 正则表达式</title>
    <url>/2020/06/13/Python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 正则表达式是一个特殊的字符序列，它能帮助你方便的检查一个字符串是否与某种模式匹配。</p>
<p>Python 自1.5版本起增加了re 模块，它提供 Perl 风格的正则表达式模式。</p>
<p>re 模块使 Python 语言拥有全部的正则表达式功能。</p>
<p>compile 函数根据一个模式字符串和可选的标志参数生成一个正则表达式对象。该对象拥有一系列方法用于正则表达式匹配和替换。</p>
<p>re 模块也提供了与这些方法功能完全一致的函数，这些函数使用一个模式字符串做为它们的第一个参数。</p>
<p>本章节主要介绍Python中常用的正则表达式处理函数。</p>
<hr>
<h2 id="re-match函数"><a href="#re-match函数" class="headerlink" title="re.match函数"></a>re.match函数</h2><p>re.match 尝试从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话，match()就返回none。</p>
<p><strong>函数语法</strong>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">re.match(pattern, string, flags&#x3D;0)</span><br></pre></td></tr></table></figure>

<p>函数参数说明：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pattern</td>
<td align="left">匹配的正则表达式</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">要匹配的字符串。</td>
</tr>
<tr>
<td align="left">flags</td>
<td align="left">标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等等。参见：<a href="https://www.runoob.com/python/python-reg-expressions.html#flags" target="_blank" rel="noopener">正则表达式修饰符 - 可选标志</a></td>
</tr>
</tbody></table>
<p>匹配成功re.match方法返回一个匹配的对象，否则返回None。</p>
<p>我们可以使用group(num) 或 groups() 匹配对象函数来获取匹配表达式。</p>
<table>
<thead>
<tr>
<th align="left">匹配对象方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">group(num=0)</td>
<td align="left">匹配的整个表达式的字符串，group() 可以一次输入多个组号，在这种情况下它将返回一个包含那些组所对应值的元组。</td>
</tr>
<tr>
<td align="left">groups()</td>
<td align="left">返回一个包含所有小组字符串的元组，从 1 到 所含的小组号。</td>
</tr>
</tbody></table>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-   import re print(re.match(‘www’, ‘<a href="http://www.runoob.com&#39;).span()" target="_blank" rel="noopener">www.runoob.com&#39;).span()</a>)  # 在起始位置匹配 print(re.match(‘com’, ‘<a href="http://www.runoob.com&#39;" target="_blank" rel="noopener">www.runoob.com&#39;</a>))         # 不在起始位置匹配</p>
<p>以上实例运行输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(0, 3)</span><br><span class="line">None</span><br></pre></td></tr></table></figure>

<h2 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python import re  line = “Cats are smarter than dogs”  matchObj = re.match( r’(.<em>) are (.</em>?) .*’, line, re.M|re.I)  if matchObj:   print “matchObj.group() : “, matchObj.group()   print “matchObj.group(1) : “, matchObj.group(1)   print “matchObj.group(2) : “, matchObj.group(2) else:   print “No match!!”</p>
<p>以上实例执行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">matchObj.group() :  Cats are smarter than dogs</span><br><span class="line">matchObj.group(1) :  Cats</span><br><span class="line">matchObj.group(2) :  smarter</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="re-search方法"><a href="#re-search方法" class="headerlink" title="re.search方法"></a>re.search方法</h2><p>re.search 扫描整个字符串并返回第一个成功的匹配。</p>
<p>函数语法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">re.search(pattern, string, flags&#x3D;0)</span><br></pre></td></tr></table></figure>

<p>函数参数说明：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pattern</td>
<td align="left">匹配的正则表达式</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">要匹配的字符串。</td>
</tr>
<tr>
<td align="left">flags</td>
<td align="left">标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等等。</td>
</tr>
</tbody></table>
<p>匹配成功re.search方法返回一个匹配的对象，否则返回None。</p>
<p>我们可以使用group(num) 或 groups() 匹配对象函数来获取匹配表达式。</p>
<table>
<thead>
<tr>
<th align="left">匹配对象方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">group(num=0)</td>
<td align="left">匹配的整个表达式的字符串，group() 可以一次输入多个组号，在这种情况下它将返回一个包含那些组所对应值的元组。</td>
</tr>
<tr>
<td align="left">groups()</td>
<td align="left">返回一个包含所有小组字符串的元组，从 1 到 所含的小组号。</td>
</tr>
</tbody></table>
<h2 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-   import re print(re.search(‘www’, ‘<a href="http://www.runoob.com&#39;).span()" target="_blank" rel="noopener">www.runoob.com&#39;).span()</a>)  # 在起始位置匹配 print(re.search(‘com’, ‘<a href="http://www.runoob.com&#39;).span()" target="_blank" rel="noopener">www.runoob.com&#39;).span()</a>)         # 不在起始位置匹配</p>
<p>以上实例运行输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(0, 3)</span><br><span class="line">(11, 14)</span><br></pre></td></tr></table></figure>

<h2 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python import re  line = “Cats are smarter than dogs”;  searchObj = re.search( r’(.<em>) are (.</em>?) .*’, line, re.M|re.I)  if searchObj:   print “searchObj.group() : “, searchObj.group()   print “searchObj.group(1) : “, searchObj.group(1)   print “searchObj.group(2) : “, searchObj.group(2) else:   print “Nothing found!!”</p>
<p>以上实例执行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">searchObj.group() :  Cats are smarter than dogs</span><br><span class="line">searchObj.group(1) :  Cats</span><br><span class="line">searchObj.group(2) :  smarter</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="re-match与re-search的区别"><a href="#re-match与re-search的区别" class="headerlink" title="re.match与re.search的区别"></a>re.match与re.search的区别</h2><p>re.match只匹配字符串的开始，如果字符串开始不符合正则表达式，则匹配失败，函数返回None；而re.search匹配整个字符串，直到找到一个匹配。</p>
<h2 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python import re  line = “Cats are smarter than dogs”;  matchObj = re.match( r’dogs’, line, re.M|re.I) if matchObj:   print “match –&gt; matchObj.group() : “, matchObj.group() else:   print “No match!!”  matchObj = re.search( r’dogs’, line, re.M|re.I) if matchObj:   print “search –&gt; searchObj.group() : “, matchObj.group() else:   print “No match!!”</p>
<p>以上实例运行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">No match!!</span><br><span class="line">search --&gt; searchObj.group() :  dogs</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="检索和替换"><a href="#检索和替换" class="headerlink" title="检索和替换"></a>检索和替换</h2><p>Python 的 re 模块提供了re.sub用于替换字符串中的匹配项。</p>
<p>语法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">re.sub(pattern, repl, string, count&#x3D;0, flags&#x3D;0)</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<ul>
<li>pattern : 正则中的模式字符串。</li>
<li>repl : 替换的字符串，也可为一个函数。</li>
<li>string : 要被查找替换的原始字符串。</li>
<li>count : 模式匹配后替换的最大次数，默认 0 表示替换所有的匹配。</li>
</ul>
<h2 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import re  phone = “2004-959-559 # 这是一个国外电话号码”  # 删除字符串中的 Python注释  num = re.sub(r’#.*$’, “”, phone) print “电话号码是: “, num  # 删除非数字(-)的字符串  num = re.sub(r’\D’, “”, phone) print “电话号码是 : “, num</p>
<p>以上实例执行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">电话号码是:  2004-959-559 </span><br><span class="line">电话号码是 :  2004959559</span><br></pre></td></tr></table></figure>

<h3 id="repl-参数是一个函数"><a href="#repl-参数是一个函数" class="headerlink" title="repl 参数是一个函数"></a>repl 参数是一个函数</h3><p>以下实例中将字符串中的匹配的数字乘以 2：</p>
<h2 id="实例-6"><a href="#实例-6" class="headerlink" title="实例"></a>实例</h2><p>#!/usr/bin/python # -<em>- coding: UTF-8 -</em>-  import re  # 将匹配的数字乘以 2 def double(matched):    value = int(matched.group(‘value’))    return str(value * 2)  s = ‘A23G4HFD567’ print(re.sub(‘(?P<value>\d+)’, double, s))</p>
<p>执行输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A46G8HFD1134</span><br></pre></td></tr></table></figure>

<h3 id="re-compile-函数"><a href="#re-compile-函数" class="headerlink" title="re.compile 函数"></a>re.compile 函数</h3><p>compile 函数用于编译正则表达式，生成一个正则表达式（ Pattern ）对象，供 match() 和 search() 这两个函数使用。</p>
<p>语法格式为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">re.compile(pattern[, flags])</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<ul>
<li><strong>pattern</strong> : 一个字符串形式的正则表达式</li>
<li><strong>flags</strong> : 可选，表示匹配模式，比如忽略大小写，多行模式等，具体参数为：<ol>
<li><strong>re.I</strong> 忽略大小写</li>
<li><strong>re.L</strong> 表示特殊字符集 \w, \W, \b, \B, \s, \S 依赖于当前环境</li>
<li><strong>re.M</strong> 多行模式</li>
<li><strong>re.S</strong> 即为 <strong>.</strong> 并且包括换行符在内的任意字符（<strong>.</strong> 不包括换行符）</li>
<li><strong>re.U</strong> 表示特殊字符集 \w, \W, \b, \B, \d, \D, \s, \S 依赖于 Unicode 字符属性数据库</li>
<li><strong>re.X</strong> 为了增加可读性，忽略空格和 <strong>#</strong> 后面的注释</li>
</ol>
</li>
</ul>
<h3 id="实例-7"><a href="#实例-7" class="headerlink" title="实例"></a>实例</h3><h2 id="实例-8"><a href="#实例-8" class="headerlink" title="实例"></a>实例</h2><p>&gt;&gt;&gt;import re &gt;&gt;&gt; pattern = re.compile(r’\d+’)                    # 用于匹配至少一个数字 &gt;&gt;&gt; m = pattern.match(‘one12twothree34four’)        # 查找头部，没有匹配 &gt;&gt;&gt; print m None &gt;&gt;&gt; m = pattern.match(‘one12twothree34four’, 2, 10) # 从’e’的位置开始匹配，没有匹配 &gt;&gt;&gt; print m None &gt;&gt;&gt; m = pattern.match(‘one12twothree34four’, 3, 10) # 从’1’的位置开始匹配，正好匹配 &gt;&gt;&gt; print m                                         # 返回一个 Match 对象 &lt;_sre.SRE_Match object at 0x10a42aac0&gt; &gt;&gt;&gt; m.group(0)   # 可省略 0 ‘12’ &gt;&gt;&gt; m.start(0)   # 可省略 0 3 &gt;&gt;&gt; m.end(0)     # 可省略 0 5 &gt;&gt;&gt; m.span(0)    # 可省略 0 (3, 5)</p>
<p>在上面，当匹配成功时返回一个 Match 对象，其中：</p>
<ul>
<li><code>group([group1, …])</code> 方法用于获得一个或多个分组匹配的字符串，当要获得整个匹配的子串时，可直接使用 <code>group()</code> 或 <code>group(0)</code>；</li>
<li><code>start([group])</code> 方法用于获取分组匹配的子串在整个字符串中的起始位置（子串第一个字符的索引），参数默认值为 0；</li>
<li><code>end([group])</code> 方法用于获取分组匹配的子串在整个字符串中的结束位置（子串最后一个字符的索引+1），参数默认值为 0；</li>
<li><code>span([group])</code> 方法返回 <code>(start(group), end(group))</code>。</li>
</ul>
<p>再看看一个例子：</p>
<h2 id="实例-9"><a href="#实例-9" class="headerlink" title="实例"></a>实例</h2><p>&gt;&gt;&gt;import re &gt;&gt;&gt; pattern = re.compile(r’([a-z]+) ([a-z]+)’, re.I)   # re.I 表示忽略大小写 &gt;&gt;&gt; m = pattern.match(‘Hello World Wide Web’) &gt;&gt;&gt; print m                               # 匹配成功，返回一个 Match 对象 &lt;_sre.SRE_Match object at 0x10bea83e8&gt; &gt;&gt;&gt; m.group(0)                            # 返回匹配成功的整个子串 ‘Hello World’ &gt;&gt;&gt; m.span(0)                             # 返回匹配成功的整个子串的索引 (0, 11) &gt;&gt;&gt; m.group(1)                            # 返回第一个分组匹配成功的子串 ‘Hello’ &gt;&gt;&gt; m.span(1)                             # 返回第一个分组匹配成功的子串的索引 (0, 5) &gt;&gt;&gt; m.group(2)                            # 返回第二个分组匹配成功的子串 ‘World’ &gt;&gt;&gt; m.span(2)                             # 返回第二个分组匹配成功的子串 (6, 11) &gt;&gt;&gt; m.groups()                            # 等价于 (m.group(1), m.group(2), …) (‘Hello’, ‘World’) &gt;&gt;&gt; m.group(3)                            # 不存在第三个分组 Traceback (most recent call last):  File “<stdin>“, line 1, in <module> IndexError: no such group</p>
<h3 id="findall"><a href="#findall" class="headerlink" title="findall"></a>findall</h3><p>在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表。</p>
<p><strong>注意：</strong> match 和 search 是匹配一次 findall 匹配所有。</p>
<p>语法格式为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">findall(string[, pos[, endpos]])</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<ul>
<li><strong>string</strong> : 待匹配的字符串。</li>
<li><strong>pos</strong> : 可选参数，指定字符串的起始位置，默认为 0。</li>
<li><strong>endpos</strong> : 可选参数，指定字符串的结束位置，默认为字符串的长度。</li>
</ul>
<p>查找字符串中的所有数字：</p>
<h2 id="实例-10"><a href="#实例-10" class="headerlink" title="实例"></a>实例</h2><p># -<em>- coding:UTF8 -</em>-  import re  pattern = re.compile(r’\d+’)   # 查找数字 result1 = pattern.findall(‘runoob 123 google 456’) result2 = pattern.findall(‘run88oob123google456’, 0, 10)  print(result1) print(result2)</p>
<p>输出结果：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[&#39;123&#39;, &#39;456&#39;]</span><br><span class="line">[&#39;88&#39;, &#39;12&#39;]</span><br></pre></td></tr></table></figure>

<h3 id="re-finditer"><a href="#re-finditer" class="headerlink" title="re.finditer"></a>re.finditer</h3><p>和 findall 类似，在字符串中找到正则表达式所匹配的所有子串，并把它们作为一个迭代器返回。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">re.finditer(pattern, string, flags&#x3D;0)</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pattern</td>
<td align="left">匹配的正则表达式</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">要匹配的字符串。</td>
</tr>
<tr>
<td align="left">flags</td>
<td align="left">标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等等。参见：<a href="https://www.runoob.com/python/python-reg-expressions.html#flags" target="_blank" rel="noopener">正则表达式修饰符 - 可选标志</a></td>
</tr>
</tbody></table>
<h2 id="实例-11"><a href="#实例-11" class="headerlink" title="实例"></a>实例</h2><p># -<em>- coding: UTF-8 -</em>-  import re  it = re.finditer(r”\d+”,”12a32bc43jf3”)  for match in it:     print (match.group() )</p>
<p>输出结果：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12 </span><br><span class="line">32 </span><br><span class="line">43 </span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="re-split"><a href="#re-split" class="headerlink" title="re.split"></a>re.split</h3><p>split 方法按照能够匹配的子串将字符串分割后返回列表，它的使用形式如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">re.split(pattern, string[, maxsplit&#x3D;0, flags&#x3D;0])</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pattern</td>
<td align="left">匹配的正则表达式</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">要匹配的字符串。</td>
</tr>
<tr>
<td align="left">maxsplit</td>
<td align="left">分隔次数，maxsplit=1 分隔一次，默认为 0，不限制次数。</td>
</tr>
<tr>
<td align="left">flags</td>
<td align="left">标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等等。参见：<a href="https://www.runoob.com/python/python-reg-expressions.html#flags" target="_blank" rel="noopener">正则表达式修饰符 - 可选标志</a></td>
</tr>
</tbody></table>
<h2 id="实例-12"><a href="#实例-12" class="headerlink" title="实例"></a>实例</h2><p>&gt;&gt;&gt;import re &gt;&gt;&gt; re.split(‘\W+’, ‘runoob, runoob, runoob.’) [‘runoob’, ‘runoob’, ‘runoob’, ‘’] &gt;&gt;&gt; re.split(‘(\W+)’, ‘ runoob, runoob, runoob.’)  [‘’, ‘ ‘, ‘runoob’, ‘, ‘, ‘runoob’, ‘, ‘, ‘runoob’, ‘.’, ‘’] &gt;&gt;&gt; re.split(‘\W+’, ‘ runoob, runoob, runoob.’, 1)  [‘’, ‘runoob, runoob, runoob.’]  &gt;&gt;&gt; re.split(‘a*’, ‘hello world’)   # 对于一个找不到匹配的字符串而言，split 不会对其作出分割 [‘hello world’]</p>
<hr>
<h2 id="正则表达式对象"><a href="#正则表达式对象" class="headerlink" title="正则表达式对象"></a>正则表达式对象</h2><h3 id="re-RegexObject"><a href="#re-RegexObject" class="headerlink" title="re.RegexObject"></a>re.RegexObject</h3><p>re.compile() 返回 RegexObject 对象。</p>
<h3 id="re-MatchObject"><a href="#re-MatchObject" class="headerlink" title="re.MatchObject"></a>re.MatchObject</h3><p>group() 返回被 RE 匹配的字符串。</p>
<ul>
<li><strong>start()</strong> 返回匹配开始的位置</li>
<li><strong>end()</strong> 返回匹配结束的位置</li>
<li><strong>span()</strong> 返回一个元组包含匹配 (开始,结束) 的位置</li>
</ul>
<hr>
<h2 id="正则表达式修饰符-可选标志"><a href="#正则表达式修饰符-可选标志" class="headerlink" title="正则表达式修饰符 - 可选标志"></a>正则表达式修饰符 - 可选标志</h2><p>正则表达式可以包含一些可选标志修饰符来控制匹配的模式。修饰符被指定为一个可选的标志。多个标志可以通过按位 OR(|) 它们来指定。如 re.I | re.M 被设置成 I 和 M 标志：</p>
<table>
<thead>
<tr>
<th align="left">修饰符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">re.I</td>
<td align="left">使匹配对大小写不敏感</td>
</tr>
<tr>
<td align="left">re.L</td>
<td align="left">做本地化识别（locale-aware）匹配</td>
</tr>
<tr>
<td align="left">re.M</td>
<td align="left">多行匹配，影响 ^ 和 $</td>
</tr>
<tr>
<td align="left">re.S</td>
<td align="left">使 . 匹配包括换行在内的所有字符</td>
</tr>
<tr>
<td align="left">re.U</td>
<td align="left">根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</td>
</tr>
<tr>
<td align="left">re.X</td>
<td align="left">该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</td>
</tr>
</tbody></table>
<hr>
<h2 id="正则表达式模式"><a href="#正则表达式模式" class="headerlink" title="正则表达式模式"></a>正则表达式模式</h2><p>模式字符串使用特殊的语法来表示一个正则表达式：</p>
<p>字母和数字表示他们自身。一个正则表达式模式中的字母和数字匹配同样的字符串。</p>
<p>多数字母和数字前加一个反斜杠时会拥有不同的含义。</p>
<p>标点符号只有被转义时才匹配自身，否则它们表示特殊的含义。</p>
<p>反斜杠本身需要使用反斜杠转义。</p>
<p>由于正则表达式通常都包含反斜杠，所以你最好使用原始字符串来表示它们。模式元素(如 r’\t’，等价于 ‘\t’)匹配相应的特殊字符。</p>
<p>下表列出了正则表达式模式语法中的特殊元素。如果你使用模式的同时提供了可选的标志参数，某些模式元素的含义会改变。</p>
<table>
<thead>
<tr>
<th align="left">模式</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">^</td>
<td align="left">匹配字符串的开头</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">匹配字符串的末尾。</td>
</tr>
<tr>
<td align="left">.</td>
<td align="left">匹配任意字符，除了换行符，当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符。</td>
</tr>
<tr>
<td align="left">[…]</td>
<td align="left">用来表示一组字符,单独列出：[amk] 匹配 ‘a’，’m’或’k’</td>
</tr>
<tr>
<td align="left">[^…]</td>
<td align="left">不在[]中的字符：[^abc] 匹配除了a,b,c之外的字符。</td>
</tr>
<tr>
<td align="left">re*</td>
<td align="left">匹配0个或多个的表达式。</td>
</tr>
<tr>
<td align="left">re+</td>
<td align="left">匹配1个或多个的表达式。</td>
</tr>
<tr>
<td align="left">re?</td>
<td align="left">匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式</td>
</tr>
<tr>
<td align="left">re{ n}</td>
<td align="left">精确匹配 n 个前面表达式。例如， <strong>o{2}</strong> 不能匹配 “Bob” 中的 “o”，但是能匹配 “food” 中的两个 o。</td>
</tr>
<tr>
<td align="left">re{ n,}</td>
<td align="left">匹配 n 个前面表达式。例如， o{2,} 不能匹配”Bob”中的”o”，但能匹配 “foooood”中的所有 o。”o{1,}” 等价于 “o+”。”o{0,}” 则等价于 “o*”。</td>
</tr>
<tr>
<td align="left">re{ n, m}</td>
<td align="left">匹配 n 到 m 次由前面的正则表达式定义的片段，贪婪方式</td>
</tr>
<tr>
<td align="left">a| b</td>
<td align="left">匹配a或b</td>
</tr>
<tr>
<td align="left">(re)</td>
<td align="left">对正则表达式分组并记住匹配的文本</td>
</tr>
<tr>
<td align="left">(?imx)</td>
<td align="left">正则表达式包含三种可选标志：i, m, 或 x 。只影响括号中的区域。</td>
</tr>
<tr>
<td align="left">(?-imx)</td>
<td align="left">正则表达式关闭 i, m, 或 x 可选标志。只影响括号中的区域。</td>
</tr>
<tr>
<td align="left">(?: re)</td>
<td align="left">类似 (…), 但是不表示一个组</td>
</tr>
<tr>
<td align="left">(?imx: re)</td>
<td align="left">在括号中使用i, m, 或 x 可选标志</td>
</tr>
<tr>
<td align="left">(?-imx: re)</td>
<td align="left">在括号中不使用i, m, 或 x 可选标志</td>
</tr>
<tr>
<td align="left">(?#…)</td>
<td align="left">注释.</td>
</tr>
<tr>
<td align="left">(?= re)</td>
<td align="left">前向肯定界定符。如果所含正则表达式，以 … 表示，在当前位置成功匹配时成功，否则失败。但一旦所含表达式已经尝试，匹配引擎根本没有提高；模式的剩余部分还要尝试界定符的右边。</td>
</tr>
<tr>
<td align="left">(?! re)</td>
<td align="left">前向否定界定符。与肯定界定符相反；当所含表达式不能在字符串当前位置匹配时成功</td>
</tr>
<tr>
<td align="left">(?&gt; re)</td>
<td align="left">匹配的独立模式，省去回溯。</td>
</tr>
<tr>
<td align="left">\w</td>
<td align="left">匹配字母数字及下划线</td>
</tr>
<tr>
<td align="left">\W</td>
<td align="left">匹配非字母数字及下划线</td>
</tr>
<tr>
<td align="left">\s</td>
<td align="left">匹配任意空白字符，等价于 [\t\n\r\f].</td>
</tr>
<tr>
<td align="left">\S</td>
<td align="left">匹配任意非空字符</td>
</tr>
<tr>
<td align="left">\d</td>
<td align="left">匹配任意数字，等价于 [0-9].</td>
</tr>
<tr>
<td align="left">\D</td>
<td align="left">匹配任意非数字</td>
</tr>
<tr>
<td align="left">\A</td>
<td align="left">匹配字符串开始</td>
</tr>
<tr>
<td align="left">\Z</td>
<td align="left">匹配字符串结束，如果是存在换行，只匹配到换行前的结束字符串。</td>
</tr>
<tr>
<td align="left">\z</td>
<td align="left">匹配字符串结束</td>
</tr>
<tr>
<td align="left">\G</td>
<td align="left">匹配最后匹配完成的位置。</td>
</tr>
<tr>
<td align="left">\b</td>
<td align="left">匹配一个单词边界，也就是指单词和空格间的位置。例如， ‘er\b’ 可以匹配”never” 中的 ‘er’，但不能匹配 “verb” 中的 ‘er’。</td>
</tr>
<tr>
<td align="left">\B</td>
<td align="left">匹配非单词边界。’er\B’ 能匹配 “verb” 中的 ‘er’，但不能匹配 “never” 中的 ‘er’。</td>
</tr>
<tr>
<td align="left">\n, \t, 等.</td>
<td align="left">匹配一个换行符。匹配一个制表符。等</td>
</tr>
<tr>
<td align="left">\1…\9</td>
<td align="left">匹配第n个分组的内容。</td>
</tr>
<tr>
<td align="left">\10</td>
<td align="left">匹配第n个分组的内容，如果它经匹配。否则指的是八进制字符码的表达式。</td>
</tr>
</tbody></table>
<hr>
<h2 id="正则表达式实例"><a href="#正则表达式实例" class="headerlink" title="正则表达式实例"></a>正则表达式实例</h2><h4 id="字符匹配"><a href="#字符匹配" class="headerlink" title="字符匹配"></a>字符匹配</h4><table>
<thead>
<tr>
<th align="left">实例</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">python</td>
<td align="left">匹配 “python”.</td>
</tr>
</tbody></table>
<h4 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h4><table>
<thead>
<tr>
<th align="left">实例</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[Pp]ython</td>
<td align="left">匹配 “Python” 或 “python”</td>
</tr>
<tr>
<td align="left">rub[ye]</td>
<td align="left">匹配 “ruby” 或 “rube”</td>
</tr>
<tr>
<td align="left">[aeiou]</td>
<td align="left">匹配中括号内的任意一个字母</td>
</tr>
<tr>
<td align="left">[0-9]</td>
<td align="left">匹配任何数字。类似于 [0123456789]</td>
</tr>
<tr>
<td align="left">[a-z]</td>
<td align="left">匹配任何小写字母</td>
</tr>
<tr>
<td align="left">[A-Z]</td>
<td align="left">匹配任何大写字母</td>
</tr>
<tr>
<td align="left">[a-zA-Z0-9]</td>
<td align="left">匹配任何字母及数字</td>
</tr>
<tr>
<td align="left">[^aeiou]</td>
<td align="left">除了aeiou字母以外的所有字符</td>
</tr>
<tr>
<td align="left">[^0-9]</td>
<td align="left">匹配除了数字外的字符</td>
</tr>
</tbody></table>
<h4 id="特殊字符类"><a href="#特殊字符类" class="headerlink" title="特殊字符类"></a>特殊字符类</h4><table>
<thead>
<tr>
<th align="left">实例</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">.</td>
<td align="left">匹配除 “\n” 之外的任何单个字符。要匹配包括 ‘\n’ 在内的任何字符，请使用象 ‘[.\n]’ 的模式。</td>
</tr>
<tr>
<td align="left">\d</td>
<td align="left">匹配一个数字字符。等价于 [0-9]。</td>
</tr>
<tr>
<td align="left">\D</td>
<td align="left">匹配一个非数字字符。等价于 [^0-9]。</td>
</tr>
<tr>
<td align="left">\s</td>
<td align="left">匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。</td>
</tr>
<tr>
<td align="left">\S</td>
<td align="left">匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。</td>
</tr>
<tr>
<td align="left">\w</td>
<td align="left">匹配包括下划线的任何单词字符。等价于’[A-Za-z0-9_]’。</td>
</tr>
<tr>
<td align="left">\W</td>
<td align="left">匹配任何非单词字符。等价于 ‘[^A-Za-z0-9_]’。</td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 内置函数</title>
    <url>/2020/06/13/Python-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> Python 内置函数</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left">内置函数</th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://www.runoob.com/python/func-number-abs.html" target="_blank" rel="noopener">abs()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-divmod.html" target="_blank" rel="noopener">divmod()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-input.html" target="_blank" rel="noopener">input()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-open.html" target="_blank" rel="noopener">open()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-staticmethod.html" target="_blank" rel="noopener">staticmethod()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-all.html" target="_blank" rel="noopener">all()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-enumerate.html" target="_blank" rel="noopener">enumerate()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-int.html" target="_blank" rel="noopener">int()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-ord.html" target="_blank" rel="noopener">ord()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-str.html" target="_blank" rel="noopener">str()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-any.html" target="_blank" rel="noopener">any()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-eval.html" target="_blank" rel="noopener">eval()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-isinstance.html" target="_blank" rel="noopener">isinstance()</a></td>
<td align="left"><a href="https://www.runoob.com/python/func-number-pow.html" target="_blank" rel="noopener">pow()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-sum.html" target="_blank" rel="noopener">sum()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-basestring.html" target="_blank" rel="noopener">basestring()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-execfile.html" target="_blank" rel="noopener">execfile()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-issubclass.html" target="_blank" rel="noopener">issubclass()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-print.html" target="_blank" rel="noopener">print()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-super.html" target="_blank" rel="noopener">super()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-bin.html" target="_blank" rel="noopener">bin()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-file.html" target="_blank" rel="noopener">file()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-iter.html" target="_blank" rel="noopener">iter()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-property.html" target="_blank" rel="noopener">property()</a></td>
<td align="left"><a href="https://www.runoob.com/python/att-tuple-tuple.html" target="_blank" rel="noopener">tuple()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-bool.html" target="_blank" rel="noopener">bool()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-filter.html" target="_blank" rel="noopener">filter()</a></td>
<td align="left"><a href="https://www.runoob.com/python/att-string-len.html" target="_blank" rel="noopener">len()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-range.html" target="_blank" rel="noopener">range()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-type.html" target="_blank" rel="noopener">type()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-bytearray.html" target="_blank" rel="noopener">bytearray()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-float.html" target="_blank" rel="noopener">float()</a></td>
<td align="left"><a href="https://www.runoob.com/python/att-list-list.html" target="_blank" rel="noopener">list()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-raw_input.html" target="_blank" rel="noopener">raw_input()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-unichr.html" target="_blank" rel="noopener">unichr()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-callable.html" target="_blank" rel="noopener">callable()</a></td>
<td align="left"><a href="https://www.runoob.com/python/att-string-format.html" target="_blank" rel="noopener">format()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-locals.html" target="_blank" rel="noopener">locals()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-reduce.html" target="_blank" rel="noopener">reduce()</a></td>
<td align="left">unicode()</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-chr.html" target="_blank" rel="noopener">chr()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-frozenset.html" target="_blank" rel="noopener">frozenset()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-long.html" target="_blank" rel="noopener">long()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-reload.html" target="_blank" rel="noopener">reload()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-vars.html" target="_blank" rel="noopener">vars()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-classmethod.html" target="_blank" rel="noopener">classmethod()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-getattr.html" target="_blank" rel="noopener">getattr()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-map.html" target="_blank" rel="noopener">map()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-repr.html" target="_blank" rel="noopener">repr()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-xrange.html" target="_blank" rel="noopener">xrange()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/func-number-cmp.html" target="_blank" rel="noopener">cmp()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-globals.html" target="_blank" rel="noopener">globals()</a></td>
<td align="left"><a href="https://www.runoob.com/python/func-number-max.html" target="_blank" rel="noopener">max()</a></td>
<td align="left"><a href="https://www.runoob.com/python/att-list-reverse.html" target="_blank" rel="noopener">reverse()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-zip.html" target="_blank" rel="noopener">zip()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-compile.html" target="_blank" rel="noopener">compile()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-hasattr.html" target="_blank" rel="noopener">hasattr()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-memoryview.html" target="_blank" rel="noopener">memoryview()</a></td>
<td align="left"><a href="https://www.runoob.com/python/func-number-round.html" target="_blank" rel="noopener">round()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-__import__.html" target="_blank" rel="noopener"><strong>import</strong>()</a></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-complex.html" target="_blank" rel="noopener">complex()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-hash.html" target="_blank" rel="noopener">hash()</a></td>
<td align="left"><a href="https://www.runoob.com/python/func-number-min.html" target="_blank" rel="noopener">min()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-set.html" target="_blank" rel="noopener">set()</a></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-delattr.html" target="_blank" rel="noopener">delattr()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-help.html" target="_blank" rel="noopener">help()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-next.html" target="_blank" rel="noopener">next()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-setattr.html" target="_blank" rel="noopener">setattr()</a></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-dict.html" target="_blank" rel="noopener">dict()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-hex.html" target="_blank" rel="noopener">hex()</a></td>
<td align="left">object()</td>
<td align="left"><a href="https://www.runoob.com/python/python-func-slice.html" target="_blank" rel="noopener">slice()</a></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/python/python-func-dir.html" target="_blank" rel="noopener">dir()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-id.html" target="_blank" rel="noopener">id()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-oct.html" target="_blank" rel="noopener">oct()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-sorted.html" target="_blank" rel="noopener">sorted()</a></td>
<td align="left"><a href="https://www.runoob.com/python/python-func-exec.html" target="_blank" rel="noopener">exec 内置表达式</a></td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python面向对象（难）</title>
    <url>/2020/06/13/python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E9%9A%BE%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 阅读目录</p>
<ul>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label1" target="_blank" rel="noopener">楔子</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label2" target="_blank" rel="noopener">面向过程vs面向对象</a></li>
<li>初识面向对象<ul>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label4" target="_blank" rel="noopener">　　类的相关知识</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label5" target="_blank" rel="noopener">　　对象的相关知识</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label6" target="_blank" rel="noopener">　　对象之间的交互</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label7" target="_blank" rel="noopener">　　类命名空间与对象、实例的命名空间</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label18" target="_blank" rel="noopener">　　类的组合用法</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label8" target="_blank" rel="noopener">　　初识面向对象小结</a></li>
</ul>
</li>
<li>面向对象的三大特性<ul>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label10" target="_blank" rel="noopener">　　继承</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label11" target="_blank" rel="noopener">　　多态</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label12" target="_blank" rel="noopener">　　封装</a></li>
</ul>
</li>
<li>面向对象的更多说明<ul>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label15" target="_blank" rel="noopener">　　面向对象的软件开发</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label16" target="_blank" rel="noopener">　　几个概念的说明</a></li>
<li><a href="http://www.cnblogs.com/Eva-J/articles/7293890.html#_label17" target="_blank" rel="noopener">　　面向对象常用术语</a></li>
</ul>
</li>
</ul>
<h1 id="楔子"><a href="#楔子" class="headerlink" title="楔子"></a>楔子</h1><p>你现在是一家游戏公司的开发人员，现在需要你开发一款叫做&lt;人狗大战&gt;的游戏，你就思考呀，人狗作战，那至少需要2个角色，一个是人， 一个是狗，且人和狗都有不同的技能，比如人拿棍打狗， 狗可以咬人，怎么描述这种不同的角色和他们的功能呢？</p>
<p>你搜罗了自己掌握的所有技能，写出了下面的代码来描述这两个角色</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 人和狗的角色定制1</p>
<p>上面两个方法相当于造了两个模子，游戏里的每个人和每条狗都拥有相同里的属性。游戏开始，你根据一个人或一只狗传入的具体信息来塑造一个具体的人或者狗，怎么生成呢？</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 生成具体的人和狗</p>
<p>两个角色对象生成了，狗和人还有不同的功能呀，狗会咬人，人会打狗，对不对? 怎么实现呢，。。想到了， 可以每个功能再写一个函数，想执行哪个功能，直接 调用 就可以了，对不？</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> bark和walk</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 调用walk和bark</p>
<p>上面的功能实现的简直是完美！</p>
<p>但是仔细玩耍一会，你就不小心干了下面这件事</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 在玩耍中犯了一个小错误</p>
<p>事实 上，从你写的代码上来看，这并没出错。很显然，人是不能调用狗的功能的，但在你的程序例没有做限制，如何在代码级别实现这个限制呢？</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 限制功能全新代码</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 生成具体的人和狗</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 无法调用了</p>
<p>你是如此的机智，这样就实现了限制人只能用人自己的功能啦。</p>
<p>刚刚你用的这种编程思想其实就是简单的面向对象编程，我们创造了两个模子表示游戏里所有的人和狗之后，剩下的狗叫或者人走对于这两个模子来说就不重要了。具体人he狗之间的交互就等着你去使用了。假如你和狗打起来了，这时候你是走路还是拿棍子打狗就由你自己决定了。那你的每一个决定可能都影响着你这场游戏的输赢。这也是不确定的。和我们之前写代码按部就班的走，最终都会实现我们要完成的事情不太一样了。</p>
<p>尽管如此，我们也只完成了这个游戏非常小的一部分。还有很多功能都没有实现。</p>
<p>刚才你只是阻止了两个完全 不同的角色 之前的功能混用， 但有没有可能 ，同一个种角色，但有些属性是不同的呢？ 比如 ，大家都打过cs吧，cs里有警察和恐怖份子，但因为都 是人， 所以你写一个角色叫 person(), 警察和恐怖份子都 可以 互相射击，但警察不可以杀人质，恐怖分子可以，这怎么实现呢？ 你想了说想，说，简单，只需要在杀人质的功能里加个判断，如果是警察，就不让杀不就ok了么。 没错， 这虽然 解决了杀人质的问题，但其实你会发现，警察和恐怖分子的区别还有很多，同时又有很多共性，如果 在每个区别处都 单独做判断，那得累死。 </p>
<p>你想了想说， 那就直接写2个角色吧， 反正 这么多区别， 我的哥， 不能写两个角色呀，因为他们还有很多共性 ， 写两个不同的角色，就代表 相同的功能 也要重写了，是不是我的哥？ 。。。</p>
<p>好了， 话题就给你点到这， 再多说你的智商也理解不了了！</p>
<h1 id="面向过程-VS-面向对象"><a href="#面向过程-VS-面向对象" class="headerlink" title="面向过程 VS 面向对象"></a>面向过程 VS 面向对象</h1><p>面向过程的程序设计的核心是过程（流水线式思维），过程即解决问题的步骤，面向过程的设计就好比精心设计好一条流水线，考虑周全什么时候处理什么东西。</p>
<p><strong>优点是：极大的降低了写程序的复杂度，只需要顺着要执行的步骤，堆叠代码即可。</strong></p>
<p><strong>缺点是：一套流水线或者流程就是用来解决一个问题，代码牵一发而动全身。</strong></p>
<p>应用场景：一旦完成基本很少改变的场景，著名的例子有Linux內核，git，以及Apache HTTP Server等。</p>
<p>面向对象的程序设计的核心是对象（上帝式思维），要理解对象为何物，必须把自己当成上帝，上帝眼里世间存在的万物皆为对象，不存在的也可以创造出来。面向对象的程序设计好比如来设计西游记，如来要解决的问题是把经书传给东土大唐，如来想了想解决这个问题需要四个人：唐僧，沙和尚，猪八戒，孙悟空，每个人都有各自的特征和技能（这就是对象的概念，特征和技能分别对应对象的属性和方法），然而这并不好玩，于是如来又安排了一群妖魔鬼怪，为了防止师徒四人在取经路上被搞死，又安排了一群神仙保驾护航，这些都是对象。然后取经开始，师徒四人与妖魔鬼怪神仙互相缠斗着直到最后取得真经。如来根本不会管师徒四人按照什么流程去取。</p>
<p>面向对象的程序设计的</p>
<p><strong>优点是：解决了程序的扩展性。对某一个对象单独修改，会立刻反映到整个体系中，如对游戏中一个人物参数的特征和技能修改都很容易。</strong></p>
<p><strong>缺点：可控性差，无法向面向过程的程序设计流水线式的可以很精准的预测问题的处理流程与结果，面向对象的程序一旦开始就由对象之间的交互解决问题</strong>，<strong>即便是上帝也无法预测最终结果。于是我们经常看到一个游戏人某一参数的修改极有可能导致阴霸的技能出现，一刀砍死3个人，这个游戏就失去平衡。</strong></p>
<p>应用场景：需求经常变化的软件，一般需求的变化都集中在用户层，互联网应用，企业内部软件，游戏等都是面向对象的程序设计大显身手的好地方。</p>
<p>在python 中面向对象的程序设计并不是全部。</p>
<p>面向对象编程可以使程序的维护和扩展变得更简单，并且可以大大提高程序开发效率 ，另外，基于面向对象的程序可以使它人更加容易理解你的代码逻辑，从而使团队开发变得更从容。</p>
<p>了解一些名词：类、对象、实例、实例化</p>
<p>类：具有相同特征的一类事物(人、狗、老虎)</p>
<p>对象／实例：具体的某一个事物（隔壁阿花、楼下旺财）</p>
<p>实例化：类——&gt;对象的过程（这在生活中表现的不明显，我们在后面再慢慢解释）</p>
<h1 id="初识类和对象"><a href="#初识类和对象" class="headerlink" title="初识类和对象"></a>初识类和对象</h1><p>python中一切皆为对象，类型的本质就是类，所以，不管你信不信，你已经使用了很长时间的类了</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dict #类型dict就是类dict</span><br><span class="line">&lt;class &#39;dict&#39;&gt;</span><br><span class="line">&gt;&gt;&gt; d&#x3D;dict(name&#x3D;&#39;eva&#39;) #实例化</span><br><span class="line">&gt;&gt;&gt; d.pop(&#39;name&#39;) #向d发一条消息，执行d的方法pop</span><br><span class="line">&#39;eva&#39;</span><br></pre></td></tr></table></figure>

<p>从上面的例子来看，字典就是一类数据结构，我一说字典你就知道是那个用{}表示，里面由k-v键值对的东西，它还具有一些增删改查的方法。但是我一说字典你能知道字典里具体存了哪些内容么？不能，所以我们说对于一个类来说，它具有相同的特征属性和方法。</p>
<p>而具体的{‘name’:’eva’}这个字典，它是一个字典，可以使用字典的所有方法，并且里面有了具体的值，它就是字典的一个对象。对象就是已经实实在在存在的某一个具体的个体。</p>
<p>再举一个其他的例子，通俗一点，比如你现在有一个动物园，你想描述这个动物园，那么动物园里的每一种动物就是一个类，老虎、天鹅、鳄鱼、熊。他们都有相同的属性，比如身高体重出生时间和品种，还有各种动作，比如鳄鱼会游泳，天鹅会飞，老虎会跑，熊会吃。</p>
<p>但是这些老虎熊啥的都不是具体的某一只，而是一类动物。虽然他们都有身高体重，但是你却没有办法确定这个值是多少。如果这个时候给你一只具体的老虎，而你还没死，那你就能给他量量身高称称体重，这些数值是不是就变成具体的了？那么具体的这一只老虎就是一个具体的实例，也是一个对象。不止这一只，其实每一只具体的老虎都有自己的身高体重，那么每一只老虎都是老虎类的一个对象。</p>
<p><strong>在python中，用变量表示特征，用函数表示技能，因而具有相同特征和技能的一类事物就是‘类’，对象是则是这一类事物中具体的一个。</strong></p>
<h2 id="类的相关知识"><a href="#类的相关知识" class="headerlink" title="类的相关知识"></a>类的相关知识</h2><h3 id="初识类"><a href="#初识类" class="headerlink" title="初识类"></a><strong>初识类</strong></h3><h4 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h4><p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 声明函数</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 声明类</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person:   #定义一个人类</span><br><span class="line">    role &#x3D; &#39;person&#39;  #人的角色属性都是人</span><br><span class="line">    def walk(self):  #人都可以走路，也就是有一个走路方法，也叫动态属性</span><br><span class="line">        print(&quot;person is walking...&quot;)</span><br></pre></td></tr></table></figure>



<h3 id="类有两种作用：属性引用和实例化"><a href="#类有两种作用：属性引用和实例化" class="headerlink" title="类有两种作用：属性引用和实例化"></a><strong>类有两种作用：属性引用和实例化</strong></h3><h4 id="属性引用（类名-属性）"><a href="#属性引用（类名-属性）" class="headerlink" title="属性引用（类名.属性）"></a><strong>属性引用（类名.属性）</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person:   #定义一个人类</span><br><span class="line">    role &#x3D; &#39;person&#39;  #人的角色属性都是人</span><br><span class="line">    def walk(self):  #人都可以走路，也就是有一个走路方法</span><br><span class="line">        print(&quot;person is walking...&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Person.role)  #查看人的role属性</span><br><span class="line">print(Person.walk)  #引用人的走路方法，注意，这里不是在调用</span><br></pre></td></tr></table></figure>





<h4 id="实例化：类名加括号就是实例化，会自动触发init函数的运行，可以用它来为每个实例定制自己的特征"><a href="#实例化：类名加括号就是实例化，会自动触发init函数的运行，可以用它来为每个实例定制自己的特征" class="headerlink" title="实例化：类名加括号就是实例化，会自动触发init函数的运行，可以用它来为每个实例定制自己的特征"></a>实例化：类名加括号就是实例化，会自动触发<strong>init</strong>函数的运行，可以用它来为每个实例定制自己的特征</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person:   #定义一个人类</span><br><span class="line">    role &#x3D; &#39;person&#39;  #人的角色属性都是人</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name &#x3D; name  # 每一个角色都有自己的昵称;</span><br><span class="line">        </span><br><span class="line">    def walk(self):  #人都可以走路，也就是有一个走路方法</span><br><span class="line">        print(&quot;person is walking...&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Person.role)  #查看人的role属性</span><br><span class="line">print(Person.walk)  #引用人的走路方法，注意，这里不是在调用</span><br></pre></td></tr></table></figure>





<p>实例化的过程就是类——&gt;对象的过程</p>
<p>原本我们只有一个Person类，在这个过程中，产生了一个egg对象，有自己具体的名字、攻击力和生命值。</p>
<p>语法：对象名 = 类名(参数)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">egg &#x3D; Person(&#39;egon&#39;)  #类名()就等于在执行Person.__init__()</span><br><span class="line">#执行完__init__()就会返回一个对象。这个对象类似一个字典，存着属于这个人本身的一些属性和方法。</span><br><span class="line">#你可以偷偷的理解：egg &#x3D; &#123;&#39;name&#39;:&#39;egon&#39;,&#39;walk&#39;:walk&#125;</span><br></pre></td></tr></table></figure>

<h4 id="查看属性-amp-调用方法"><a href="#查看属性-amp-调用方法" class="headerlink" title="查看属性&amp;调用方法"></a>查看属性&amp;调用方法</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(egg.name)     #查看属性直接 对象名.属性名</span><br><span class="line">print(egg.walk())   #调用方法，对象名.方法名()</span><br></pre></td></tr></table></figure>

<h4 id="关于self"><a href="#关于self" class="headerlink" title="关于self"></a>关于self</h4><p>self：在实例化时自动将对象/实例本身传给<strong>init</strong>的第一个参数，你也可以给他起个别的名字，但是正常人都不会这么做。<br>因为你瞎改别人就不认识</p>
<h4 id="类属性的补充"><a href="#类属性的补充" class="headerlink" title="类属性的补充"></a>类属性的补充</h4><p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 类属性的补充</p>
<h2 id="对象的相关知识"><a href="#对象的相关知识" class="headerlink" title="对象的相关知识"></a>对象的相关知识</h2><p>回到咱们的人狗大战：现在我们需要对我们的类做出一点点改变<br>人类除了可以走路之外，还应该具备一些攻击技能。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person:  # 定义一个人类</span><br><span class="line">    role &#x3D; &#39;person&#39;  # 人的角色属性都是人</span><br><span class="line"></span><br><span class="line">    def __init__(self, name, aggressivity, life_value):</span><br><span class="line">        self.name &#x3D; name  # 每一个角色都有自己的昵称;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 每一个角色都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 每一个角色都有自己的生命值;</span><br><span class="line"></span><br><span class="line">    def attack(self,dog):  </span><br><span class="line">        # 人可以攻击狗，这里的狗也是一个对象。</span><br><span class="line">        # 人攻击狗，那么狗的生命值就会根据人的攻击力而下降</span><br><span class="line">        dog.life_value -&#x3D; self.aggressivit</span><br></pre></td></tr></table></figure>





<h4 id="对象是关于类而实际存在的一个例子，即实例"><a href="#对象是关于类而实际存在的一个例子，即实例" class="headerlink" title="对象是关于类而实际存在的一个例子，即实例"></a>对象是关于类而实际存在的一个例子，即实例</h4><h4 id="对象-实例只有一种作用：属性引用"><a href="#对象-实例只有一种作用：属性引用" class="headerlink" title="对象/实例只有一种作用：属性引用"></a><strong>对象/实例只有一种作用：属性引用</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">egg &#x3D; Person(&#39;egon&#39;,10,1000)</span><br><span class="line">print(egg.name)</span><br><span class="line">print(egg.aggressivity)</span><br><span class="line">print(egg.life_value)</span><br></pre></td></tr></table></figure>

<p>当然了，你也可以引用一个方法，因为方法也是一个属性，只不过是一个类似函数的属性，我们也管它叫动态属性。<br>引用动态属性并不是执行这个方法，要想调用方法和调用函数是一样的，都需要在后面加上括号</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(egg.attack)</span><br></pre></td></tr></table></figure>

<p>我知道在类里说，你可能还有好多地方不能理解。那我们就用函数来解释一下这个类呀，对象呀到底是个啥，你偷偷的用这个理解就好了，不要告诉别人</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 帮你了解面向对象</p>
<p>面向对象小结——定义及调用的固定模式</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 小结</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 练一练</p>
<h2 id="对象之间的交互"><a href="#对象之间的交互" class="headerlink" title="对象之间的交互"></a>对象之间的交互</h2><p>现在我们已经有一个人类了，通过给人类一些具体的属性我们就可以拿到一个实实在在的人。<br>现在我们要再创建一个狗类，狗就不能打人了，只能咬人，所以我们给狗一个bite方法。<br>有了狗类，我们还要实例化一只实实在在的狗出来。<br>然后人和狗就可以打架了。现在我们就来让他们打一架吧！</p>
<h4 id="创建一个狗类"><a href="#创建一个狗类" class="headerlink" title="创建一个狗类"></a>创建一个狗类</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Dog:  # 定义一个狗类</span><br><span class="line">    role &#x3D; &#39;dog&#39;  # 狗的角色属性都是狗</span><br><span class="line"></span><br><span class="line">    def __init__(self, name, breed, aggressivity, life_value):</span><br><span class="line">        self.name &#x3D; name  # 每一只狗都有自己的昵称;</span><br><span class="line">        self.breed &#x3D; breed  # 每一只狗都有自己的品种;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 每一只狗都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 每一只狗都有自己的生命值;</span><br><span class="line"></span><br><span class="line">    def bite(self,people):</span><br><span class="line">        # 狗可以咬人，这里的狗也是一个对象。</span><br><span class="line">        # 狗咬人，那么人的生命值就会根据狗的攻击力而下降　　　　 dog.life_value -&#x3D; self.aggressivit</span><br></pre></td></tr></table></figure>







<h4 id="实例化一只实实在在的二哈"><a href="#实例化一只实实在在的二哈" class="headerlink" title="实例化一只实实在在的二哈"></a>实例化一只实实在在的二哈</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ha2 &#x3D; Dog(&#39;二愣子&#39;,&#39;哈士奇&#39;,10,1000)  #创造了一只实实在在的狗ha2</span><br></pre></td></tr></table></figure>



<h4 id="交互-egon打ha2一下"><a href="#交互-egon打ha2一下" class="headerlink" title="交互 egon打ha2一下"></a>交互 egon打ha2一下</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(ha2.life_value)         #看看ha2的生命值</span><br><span class="line">egg.attack(ha2)               #egg打了ha2一下</span><br><span class="line">print(ha2.life_value)         #ha2掉了10点血</span><br></pre></td></tr></table></figure>

<h4 id="完整的代码"><a href="#完整的代码" class="headerlink" title="完整的代码"></a>完整的代码</h4><p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> egon大战哈士奇</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 一个简单的例子帮你理解面向对象</p>
<h2 id="类命名空间与对象、实例的命名空间"><a href="#类命名空间与对象、实例的命名空间" class="headerlink" title="类命名空间与对象、实例的命名空间"></a>类命名空间与对象、实例的命名空间</h2><p><strong>创建一个类就会创建一个类的名称空间，用来存储类中定义的所有名字，这些名字称为类的属性</strong></p>
<p>而类有两种属性：静态属性和动态属性</p>
<ul>
<li>静态属性就是直接在类中定义的变量</li>
<li>动态属性就是定义在类中的方法</li>
</ul>
<h4 id="其中类的数据属性是共享给所有对象的"><a href="#其中类的数据属性是共享给所有对象的" class="headerlink" title="其中类的数据属性是共享给所有对象的"></a>其中类的数据属性是共享给所有对象的</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;id(egg.role)</span><br><span class="line">4341594072</span><br><span class="line">&gt;&gt;&gt;id(Person.role)</span><br><span class="line">4341594072</span><br></pre></td></tr></table></figure>



<h4 id="而类的动态属性是绑定到所有对象的"><a href="#而类的动态属性是绑定到所有对象的" class="headerlink" title="而类的动态属性是绑定到所有对象的"></a>而类的动态属性是绑定到所有对象的</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;egg.attack</span><br><span class="line">&lt;bound method Person.attack of &lt;__main__.Person object at 0x101285860&gt;&gt;</span><br><span class="line">&gt;&gt;&gt;Person.attack</span><br><span class="line">&lt;function Person.attack at 0x10127abf8&gt;</span><br></pre></td></tr></table></figure>

<p><strong>创建一个对象/实例就会创建一个对象/实例的名称空间，存放对象/实例的名字，称为对象/实例的属性</strong></p>
<p>在obj.name会先从obj自己的名称空间里找name，找不到则去类中找，类也找不到就找父类…最后都找不到就抛出异常</p>
<h2 id="面向对象的组合用法"><a href="#面向对象的组合用法" class="headerlink" title="面向对象的组合用法"></a>面向对象的组合用法</h2><p><strong>软件重用的重要方式除了继承之外还有另外一种方式，即：组合</strong></p>
<p><strong>组合指的是，在一个类中以另外一个类的对象作为数据属性，称为类的组合</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Weapon:</span><br><span class="line">    def prick(self, obj):  # 这是该装备的主动技能,扎死对方</span><br><span class="line">        obj.life_value -&#x3D; 500  # 假设攻击力是500</span><br><span class="line"></span><br><span class="line">class Person:  # 定义一个人类</span><br><span class="line">    role &#x3D; &#39;person&#39;  # 人的角色属性都是人</span><br><span class="line"></span><br><span class="line">    def __init__(self, name):</span><br><span class="line">        self.name &#x3D; name  # 每一个角色都有自己的昵称;</span><br><span class="line">        self.weapon &#x3D; Weapon()  # 给角色绑定一个武器;</span><br><span class="line">        </span><br><span class="line">egg &#x3D; Person(&#39;egon&#39;)</span><br><span class="line">egg.weapon.prick() </span><br><span class="line">#egg组合了一个武器的对象，可以直接egg.weapon来使用组合类中的所有方法</span><br></pre></td></tr></table></figure>






<p><strong>圆环是由两个圆组成的，圆环的面积是外面圆的面积减去内部圆的面积。圆环的周长是内部圆的周长加上外部圆的周长。</strong><br><strong>这个时候，我们就首先实现一个圆形类，计算一个圆的周长和面积。然后在”环形类”中组合圆形的实例作为自己的属性来用</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from math import pi</span><br><span class="line"></span><br><span class="line">class Circle:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    定义了一个圆形类；</span><br><span class="line">    提供计算面积(area)和周长(perimeter)的方法</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self,radius):</span><br><span class="line">        self.radius &#x3D; radius</span><br><span class="line"></span><br><span class="line">    def area(self):</span><br><span class="line">         return pi * self.radius * self.radius</span><br><span class="line"></span><br><span class="line">    def perimeter(self):</span><br><span class="line">        return 2 * pi *self.radius</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">circle &#x3D;  Circle(10) #实例化一个圆</span><br><span class="line">area1 &#x3D; circle.area() #计算圆面积</span><br><span class="line">per1 &#x3D; circle.perimeter() #计算圆周长</span><br><span class="line">print(area1,per1) #打印圆面积和周长</span><br><span class="line"></span><br><span class="line">class Ring:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    定义了一个圆环类</span><br><span class="line">    提供圆环的面积和周长的方法</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self,radius_outside,radius_inside):</span><br><span class="line">        self.outsid_circle &#x3D; Circle(radius_outside)</span><br><span class="line">        self.inside_circle &#x3D; Circle(radius_inside)</span><br><span class="line"></span><br><span class="line">    def area(self):</span><br><span class="line">        return self.outsid_circle.area() - self.inside_circle.area()</span><br><span class="line"></span><br><span class="line">    def perimeter(self):</span><br><span class="line">        return  self.outsid_circle.perimeter() + self.inside_circle.perimeter()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ring &#x3D; Ring(10,5) #实例化一个环形</span><br><span class="line">print(ring.perimeter()) #计算环形的周长</span><br><span class="line">print(ring.area()) #计算环形的面积</span><br></pre></td></tr></table></figure>







<p><strong>用组合的方式建立了类与组合的类之间的关系，它是一种‘有’的关系,比如教授有生日，教授教python课程</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class BirthDate:    def __init__(self,year,month,day):</span><br><span class="line">        self.year&#x3D;year</span><br><span class="line">        self.month&#x3D;month</span><br><span class="line">        self.day&#x3D;day</span><br><span class="line"></span><br><span class="line">class Couse:</span><br><span class="line">    def __init__(self,name,price,period):</span><br><span class="line">        self.name&#x3D;name</span><br><span class="line">        self.price&#x3D;price</span><br><span class="line">        self.period&#x3D;period</span><br><span class="line"></span><br><span class="line">class Teacher:</span><br><span class="line">    def __init__(self,name,gender,birth,course):</span><br><span class="line">        self.name&#x3D;name </span><br><span class="line">        self.gender&#x3D;gender</span><br><span class="line">        self.birth&#x3D;birth</span><br><span class="line">        self.course&#x3D;course</span><br><span class="line">    def teach(self): </span><br><span class="line">        print(&#39;teaching&#39;)</span><br><span class="line">p1&#x3D;Teacher(&#39;egon&#39;,&#39;male&#39;, </span><br><span class="line">            BirthDate(&#39;1995&#39;,&#39;1&#39;,&#39;27&#39;), </span><br><span class="line">            Couse(&#39;python&#39;,&#39;28000&#39;,&#39;4 months&#39;)</span><br><span class="line">           ) </span><br><span class="line"></span><br><span class="line">print(p1.birth.year,p1.birth.month,p1.birth.day) </span><br><span class="line"></span><br><span class="line">print(p1.course.name,p1.course.price,p1.course.period)</span><br><span class="line">&#39;&#39;&#39; </span><br><span class="line">运行结果: </span><br><span class="line">1 27 </span><br><span class="line">python 28000 4 months </span><br><span class="line">&#39;&#39;&#39;</span><br></pre></td></tr></table></figure>





<p><strong>当类之间有显著不同，并且较小的类是较大的类所需要的组件时，用组合比较好</strong></p>
<h2 id="初识面向对象小结"><a href="#初识面向对象小结" class="headerlink" title="初识面向对象小结"></a>初识面向对象小结</h2><p>定义一个人类</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person:  # 定义一个人类</span><br><span class="line">    role &#x3D; &#39;person&#39;  # 人的角色属性都是人</span><br><span class="line"></span><br><span class="line">    def __init__(self, name, aggressivity, life_value, money):</span><br><span class="line">        self.name &#x3D; name  # 每一个角色都有自己的昵称;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 每一个角色都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 每一个角色都有自己的生命值;</span><br><span class="line">        self.money &#x3D; money</span><br><span class="line"></span><br><span class="line">    def attack(self,dog):</span><br><span class="line">        # 人可以攻击狗，这里的狗也是一个对象。</span><br><span class="line">        # 人攻击狗，那么狗的生命值就会根据人的攻击力而下降        dog.life_value -&#x3D; self.aggressivity</span><br></pre></td></tr></table></figure>







<p>定义一个狗类</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Dog:  # 定义一个狗类</span><br><span class="line">    role &#x3D; &#39;dog&#39;  # 狗的角色属性都是狗</span><br><span class="line"></span><br><span class="line">    def __init__(self, name, breed, aggressivity, life_value):</span><br><span class="line">        self.name &#x3D; name  # 每一只狗都有自己的昵称;</span><br><span class="line">        self.breed &#x3D; breed  # 每一只狗都有自己的品种;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 每一只狗都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 每一只狗都有自己的生命值;</span><br><span class="line"></span><br><span class="line">    def bite(self,people):</span><br><span class="line">        # 狗可以咬人，这里的狗也是一个对象。</span><br><span class="line">        # 狗咬人，那么人的生命值就会根据狗的攻击力而下降</span><br><span class="line">        people.life_value -&#x3D; self.aggressivity</span><br></pre></td></tr></table></figure>







<p>接下来，又创建一个新的兵器类。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Weapon:</span><br><span class="line">    def __init__(self,name, price, aggrev, life_value):</span><br><span class="line">        self.name &#x3D; name</span><br><span class="line">        self.price &#x3D; price</span><br><span class="line">        self.aggrev &#x3D; aggrev</span><br><span class="line">        self.life_value &#x3D; life_value</span><br><span class="line"></span><br><span class="line">    def update(self, obj):  #obj就是要带这个装备的人</span><br><span class="line">        obj.money -&#x3D; self.price  # 用这个武器的人花钱买所以对应的钱要减少</span><br><span class="line">        obj.aggressivity +&#x3D; self.aggrev  # 带上这个装备可以让人增加攻击</span><br><span class="line">        obj.life_value +&#x3D; self.life_value  # 带上这个装备可以让人增加生命值</span><br><span class="line"></span><br><span class="line">    def prick(self, obj):  # 这是该装备的主动技能,扎死对方</span><br><span class="line">        obj.life_value -&#x3D; 500  # 假设攻击力是500</span><br></pre></td></tr></table></figure>







<p>测试交互 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lance &#x3D; Weapon(&#39;长矛&#39;,200,6,100)</span><br><span class="line">egg &#x3D; Person(&#39;egon&#39;,10,1000,600)  #创造了一个实实在在的人egg</span><br><span class="line">ha2 &#x3D; Dog(&#39;二愣子&#39;,&#39;哈士奇&#39;,10,1000)  #创造了一只实实在在的狗ha2</span><br><span class="line"></span><br><span class="line">#egg独自力战&quot;二愣子&quot;深感吃力，决定穷毕生积蓄买一把武器</span><br><span class="line">if egg.money &gt; lance.price: #如果egg的钱比装备的价格多，可以买一把长矛</span><br><span class="line">    lance.update(egg) #egg花钱买了一个长矛防身，且自身属性得到了提高</span><br><span class="line">    egg.weapon &#x3D; lance #egg装备上了长矛</span><br><span class="line"></span><br><span class="line">print(egg.money,egg.life_value,egg.aggressivity)</span><br><span class="line"></span><br><span class="line">print(ha2.life_value)</span><br><span class="line">egg.attack(ha2)   #egg打了ha2一下</span><br><span class="line">print(ha2.life_value)</span><br><span class="line">egg.weapon.prick(ha2) #发动武器技能</span><br><span class="line">print(ha2.life_value) #ha2不敌狡猾的人类用武器取胜，血槽空了一半</span><br></pre></td></tr></table></figure>





<p>按照这种思路一点一点的设计类和对象，最终你完全可以实现一个对战类游戏。</p>
<h1 id="面向对象的三大特性"><a href="#面向对象的三大特性" class="headerlink" title="面向对象的三大特性"></a>面向对象的三大特性</h1><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="什么是继承"><a href="#什么是继承" class="headerlink" title="什么是继承"></a><strong>什么是继承</strong></h3><p>继承是一种创建新类的方式，在python中，新建的类可以继承一个或多个父类，父类又可称为基类或超类，新建的类称为派生类或子类</p>
<p>python中类的继承分为：单继承和多继承</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class ParentClass1: #定义父类</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class ParentClass2: #定义父类</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class SubClass1(ParentClass1): #单继承，基类是ParentClass1，派生类是SubClass</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class SubClass2(ParentClass1,ParentClass2): #python支持多继承，用逗号分隔开多个继承的类</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>





<p>查看继承</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; SubClass1.__bases__ #__base__只查看从左到右继承的第一个子类，__bases__则是查看所有继承的父类</span><br><span class="line">(&lt;class &#39;__main__.ParentClass1&#39;&gt;,)</span><br><span class="line">&gt;&gt;&gt; SubClass2.__bases__</span><br><span class="line">(&lt;class &#39;__main__.ParentClass1&#39;&gt;, &lt;class &#39;__main__.ParentClass2&#39;&gt;)</span><br></pre></td></tr></table></figure>

<p>提示：如果没有指定基类，python的类会默认继承object类，object是所有python类的基类，它提供了一些常见方法（如<strong>str</strong>）的实现。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; ParentClass1.__bases__</span><br><span class="line">(&lt;class &#39;object&#39;&gt;,)</span><br><span class="line">&gt;&gt;&gt; ParentClass2.__bases__</span><br><span class="line">(&lt;class &#39;object&#39;&gt;,)</span><br></pre></td></tr></table></figure>



<h3 id="继承与抽象（先抽象再继承）"><a href="#继承与抽象（先抽象再继承）" class="headerlink" title="继承与抽象（先抽象再继承）"></a><strong>继承与抽象（先抽象再继承）</strong></h3><p>抽象即抽取类似或者说比较像的部分。</p>
<p>抽象分成两个层次： </p>
<p>1.将奥巴马和梅西这俩对象比较像的部分抽取成类； </p>
<p>2.将人，猪，狗这三个类比较像的部分抽取成父类。</p>
<p>抽象最主要的作用是划分类别（可以隔离关注点，降低复杂度）</p>
<p><img src="https://images2017.cnblogs.com/blog/827651/201708/827651-20170809205054370-2144865424.png" alt="img"></p>
<p><strong>继承：是基于抽象的结果，通过编程语言去实现它，肯定是先经历抽象这个过程，才能通过继承的方式去表达出抽象的结构。</strong></p>
<p>抽象只是分析和设计的过程中，一个动作或者说一种技巧，通过抽象可以得到类</p>
<p><img src="https://images2017.cnblogs.com/blog/827651/201708/827651-20170809205126886-720065307.png" alt="img"></p>
<h3 id="继承与重用性"><a href="#继承与重用性" class="headerlink" title="继承与重用性"></a><strong>继承与重用性</strong></h3><p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 使用继承来解决代码重用的例子</p>
<p>在开发程序的过程中，如果我们定义了一个类A，然后又想新建立另外一个类B，但是类B的大部分内容与类A的相同时</p>
<p>我们不可能从头开始写一个类B，这就用到了类的继承的概念。</p>
<p>通过继承的方式新建类B，让B继承A，B会‘遗传’A的所有属性(数据属性和函数属性)，实现代码重用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    人和狗都是动物，所以创造一个Animal基类</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self, name, aggressivity, life_value):</span><br><span class="line">        self.name &#x3D; name  # 人和狗都有自己的昵称;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 人和狗都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 人和狗都有自己的生命值;</span><br><span class="line"></span><br><span class="line">    def eat(self):</span><br><span class="line">        print(&#39;%s is eating&#39;%self.name)</span><br><span class="line"></span><br><span class="line">class Dog(Animal):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class Person(Animal):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">egg &#x3D; Person(&#39;egon&#39;,10,1000)</span><br><span class="line">ha2 &#x3D; Dog(&#39;二愣子&#39;,50,1000)</span><br><span class="line">egg.eat()</span><br><span class="line">ha2.eat()</span><br></pre></td></tr></table></figure>





<p>提示：用已经有的类建立一个新的类，这样就重用了已经有的软件中的一部分设置大部分，大大生了编程工作量，这就是常说的软件重用，不仅可以重用自己的类，也可以继承别人的，比如标准库，来定制新的数据类型，这样就是大大缩短了软件开发周期，对大型软件开发来说，意义重大.</p>
<h3 id="派生"><a href="#派生" class="headerlink" title="派生"></a><strong>派生</strong></h3><p>当然子类也可以添加自己新的属性或者在自己这里重新定义这些属性（不会影响到父类），需要注意的是，一旦重新定义了自己的属性且与父类重名，那么调用新增的属性时，就以自己为准了。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    人和狗都是动物，所以创造一个Animal基类</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self, name, aggressivity, life_value):</span><br><span class="line">        self.name &#x3D; name  # 人和狗都有自己的昵称;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 人和狗都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 人和狗都有自己的生命值;</span><br><span class="line"></span><br><span class="line">    def eat(self):</span><br><span class="line">        print(&#39;%s is eating&#39;%self.name)</span><br><span class="line"></span><br><span class="line">class Dog(Animal):</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    狗类，继承Animal类</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def bite(self, people):</span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        派生：狗有咬人的技能</span><br><span class="line">        :param people:  </span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        people.life_value -&#x3D; self.aggressivity</span><br><span class="line"></span><br><span class="line">class Person(Animal):</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    人类，继承Animal</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def attack(self, dog):</span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        派生：人有攻击的技能</span><br><span class="line">        :param dog: </span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        dog.life_value -&#x3D; self.aggressivity</span><br><span class="line"></span><br><span class="line">egg &#x3D; Person(&#39;egon&#39;,10,1000)</span><br><span class="line">ha2 &#x3D; Dog(&#39;二愣子&#39;,50,1000)</span><br><span class="line">print(ha2.life_value)</span><br><span class="line">print(egg.attack(ha2))</span><br><span class="line">print(ha2.life_value)</span><br></pre></td></tr></table></figure>





<p>注意：像ha2.life_value之类的属性引用，会先从实例中找life_value然后去类中找，然后再去父类中找…直到最顶级的父类。</p>
<p>在子类中，新建的重名的函数属性，在编辑函数内功能的时候，有可能需要重用父类中重名的那个函数功能，应该是用调用普通函数的方式，即：类名.func()，此时就与调用普通函数无异了，因此即便是self参数也要为其传值.</p>
<p>在python3中，子类执行父类的方法也可以直接用super方法.</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 帮你了解super</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    人和狗都是动物，所以创造一个Animal基类</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self, name, aggressivity, life_value):</span><br><span class="line">        self.name &#x3D; name  # 人和狗都有自己的昵称;</span><br><span class="line">        self.aggressivity &#x3D; aggressivity  # 人和狗都有自己的攻击力;</span><br><span class="line">        self.life_value &#x3D; life_value  # 人和狗都有自己的生命值;</span><br><span class="line"></span><br><span class="line">    def eat(self):</span><br><span class="line">        print(&#39;%s is eating&#39;%self.name)</span><br><span class="line"></span><br><span class="line">class Dog(Animal):</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    狗类，继承Animal类</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self,name,breed,aggressivity,life_value):</span><br><span class="line">        super().__init__(name, aggressivity, life_value) #执行父类Animal的init方法</span><br><span class="line">        self.breed &#x3D; breed  #派生出了新的属性</span><br><span class="line"></span><br><span class="line">    def bite(self, people):</span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        派生出了新的技能：狗有咬人的技能</span><br><span class="line">        :param people:  </span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        people.life_value -&#x3D; self.aggressivity</span><br><span class="line"></span><br><span class="line">    def eat(self):</span><br><span class="line">        # Animal.eat(self)</span><br><span class="line">        #super().eat()</span><br><span class="line">        print(&#39;from Dog&#39;)</span><br><span class="line"></span><br><span class="line">class Person(Animal):</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    人类，继承Animal</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def __init__(self,name,aggressivity, life_value,money):</span><br><span class="line">        #Animal.__init__(self, name, aggressivity, life_value)</span><br><span class="line">        #super(Person, self).__init__(name, aggressivity, life_value)</span><br><span class="line">        super().__init__(name,aggressivity, life_value)  #执行父类的init方法</span><br><span class="line">        self.money &#x3D; money   #派生出了新的属性</span><br><span class="line"></span><br><span class="line">    def attack(self, dog):</span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        派生出了新的技能：人有攻击的技能</span><br><span class="line">        :param dog: </span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        dog.life_value -&#x3D; self.aggressivity</span><br><span class="line"></span><br><span class="line">    def eat(self):</span><br><span class="line">        #super().eat()</span><br><span class="line">        Animal.eat(self)</span><br><span class="line">        print(&#39;from Person&#39;)</span><br><span class="line"></span><br><span class="line">egg &#x3D; Person(&#39;egon&#39;,10,1000,600)</span><br><span class="line">ha2 &#x3D; Dog(&#39;二愣子&#39;,&#39;哈士奇&#39;,10,1000)</span><br><span class="line">print(egg.name)</span><br><span class="line">print(ha2.name)</span><br><span class="line">egg.eat()</span><br></pre></td></tr></table></figure>







<p><strong>通过继承建立了派生类与基类之间的关系，它是一种’是’的关系，比如白马是马，人是动物。</strong></p>
<p><strong>当类之间有很多相同的功能，提取这些共同的功能做成基类，用继承比较好，比如教授是老师</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; class Teacher:</span><br><span class="line">...     def __init__(self,name,gender):</span><br><span class="line">...         self.name&#x3D;name</span><br><span class="line">...         self.gender&#x3D;gender</span><br><span class="line">...     def teach(self):</span><br><span class="line">...         print(&#39;teaching&#39;)</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; class Professor(Teacher):</span><br><span class="line">...     pass</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; p1&#x3D;Professor(&#39;egon&#39;,&#39;male&#39;)</span><br><span class="line">&gt;&gt;&gt; p1.teach()</span><br><span class="line">teaching</span><br></pre></td></tr></table></figure>





<h3 id="抽象类与接口类"><a href="#抽象类与接口类" class="headerlink" title="抽象类与接口类"></a><strong>抽象类与接口类</strong></h3><h3 id="接口类"><a href="#接口类" class="headerlink" title="接口类"></a>接口类</h3><p>继承有两种用途：</p>
<p>一：继承基类的方法，并且做出自己的改变或者扩展（代码重用）  </p>
<p>二：声明某个子类兼容于某基类，定义一个接口类Interface，接口类中定义了一些接口名（就是函数名）且并未实现接口的功能，子类继承接口类，并且实现接口中的功能</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Alipay:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    支付宝支付</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def pay(self,money):</span><br><span class="line">        print(&#39;支付宝支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line">class Applepay:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    apple pay支付</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def pay(self,money):</span><br><span class="line">        print(&#39;apple pay支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def pay(payment,money):</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    支付函数，总体负责支付</span><br><span class="line">    对应支付的对象和要支付的金额</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    payment.pay(money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p &#x3D; Alipay()</span><br><span class="line">pay(p,200)</span><br></pre></td></tr></table></figure>







<p>开发中容易出现的问题</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Alipay:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    支付宝支付</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def pay(self,money):</span><br><span class="line">        print(&#39;支付宝支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line">class Applepay:</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    apple pay支付</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    def pay(self,money):</span><br><span class="line">        print(&#39;apple pay支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line">class Wechatpay:</span><br><span class="line">    def fuqian(self,money):</span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        实现了pay的功能，但是名字不一样</span><br><span class="line">        &#39;&#39;&#39;</span><br><span class="line">        print(&#39;微信支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line">def pay(payment,money):</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    支付函数，总体负责支付</span><br><span class="line">    对应支付的对象和要支付的金额</span><br><span class="line">    &#39;&#39;&#39;</span><br><span class="line">    payment.pay(money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p &#x3D; Wechatpay()</span><br><span class="line">pay(p,200)   #执行会报错</span><br></pre></td></tr></table></figure>





<p>接口初成：手动报异常：NotImplementedError来解决开发中遇到的问题</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Payment:</span><br><span class="line">    def pay(self):</span><br><span class="line">        raise NotImplementedError</span><br><span class="line"></span><br><span class="line">class Wechatpay(Payment):</span><br><span class="line">    def fuqian(self,money):</span><br><span class="line">        print(&#39;微信支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p &#x3D; Wechatpay()  #这里不报错</span><br><span class="line">pay(p,200)      #这里报错了</span><br></pre></td></tr></table></figure>





<p>借用abc模块来实现接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from abc import ABCMeta,abstractmethod</span><br><span class="line"></span><br><span class="line">class Payment(metaclass&#x3D;ABCMeta):</span><br><span class="line">    @abstractmethod</span><br><span class="line">    def pay(self,money):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Wechatpay(Payment):</span><br><span class="line">    def fuqian(self,money):</span><br><span class="line">        print(&#39;微信支付了%s元&#39;%money)</span><br><span class="line"></span><br><span class="line">p &#x3D; Wechatpay() #不调就报错了</span><br></pre></td></tr></table></figure>







<p>实践中，继承的第一种含义意义并不很大，甚至常常是有害的。因为它使得子类与基类出现强耦合。</p>
<p>继承的第二种含义非常重要。它又叫“接口继承”。<br>接口继承实质上是要求“做出一个良好的抽象，这个抽象规定了一个兼容接口，使得外部调用者无需关心具体细节，可一视同仁的处理实现了特定接口的所有对象”——这在程序设计上，叫做归一化。</p>
<p>归一化使得高层的外部使用者可以不加区分的处理所有接口兼容的对象集合——就好象linux的泛文件概念一样，所有东西都可以当文件处理，不必关心它是内存、磁盘、网络还是屏幕（当然，对底层设计者，当然也可以区分出“字符设备”和“块设备”，然后做出针对性的设计：细致到什么程度，视需求而定）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">依赖倒置原则：</span><br><span class="line">高层模块不应该依赖低层模块，二者都应该依赖其抽象；抽象不应该应该依赖细节；细节应该依赖抽象。换言之，要针对接口编程，而不是针对实现编程</span><br></pre></td></tr></table></figure>

<p>在python中根本就没有一个叫做interface的关键字，上面的代码只是看起来像接口，其实并没有起到接口的作用，子类完全可以不用去实现接口 ，如果非要去模仿接口的概念，可以借助第三方模块：</p>
<p><a href="http://pypi.python.org/pypi/zope.interface" target="_blank" rel="noopener">http://pypi.python.org/pypi/zope.interface</a></p>
<p><a href="http://blog.csdn.net/hanhuili/article/details/9389433" target="_blank" rel="noopener">twisted</a>的twisted\internet\interface.py里使用zope.interface</p>
<p>文档<a href="https://zopeinterface.readthedocs.io/en/latest/" target="_blank" rel="noopener">https://zopeinterface.readthedocs.io/en/latest/</a></p>
<p>设计模式：<a href="https://github.com/faif/python-patterns" target="_blank" rel="noopener">https://github.com/faif/python-patterns</a></p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 为何要用接口</p>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><p><strong>什么是抽象类</strong></p>
<p>  <em>与java一样，python也有抽象类的概念但是同样需要借助模块实现，*</em>抽象类是一个特殊的类，它的特殊之处在于只能被继承，不能被实例化***</p>
<p><strong>为什么要有抽象类</strong></p>
<p>  <em>如果说<strong>类是从</strong>一堆<strong>对象</strong>中抽取相同的内容而来的，那么<strong>抽象类</strong>就<strong>是从</strong>一堆<strong>类</strong>中抽取相同的内容而来的，内容包括数据属性和函数属性。</em></p>
<p>　 <em>比如我们有香蕉的类，有苹果的类，有桃子的类，从这些类抽取相同的内容就是水果这个抽象的类，你吃水果时，要么是吃一个具体的香蕉，要么是吃一个具体的桃子。。。。。。你永远无法吃到一个叫做水果的东西。</em></p>
<p>  <em>从设计角度去看，如果类是从现实对象抽象而来的，那么抽象类就是基于类抽象而来的。</em></p>
<p>　 <em>从实现角度来看，抽象类与普通类的不同之处在于：抽象类中有抽象方法，该类不能被实例化，只能被继承，且子类必须实现抽象方法。这一点与接口有点类似，但其实是不同的，即将揭晓答案</em></p>
<p><strong><em>在python中实现抽象类</em></strong></p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> View Code</p>
<h3 id="抽象类与接口类-1"><a href="#抽象类与接口类-1" class="headerlink" title="抽象类与接口类"></a>抽象类与接口类</h3><p><em>抽象类的本质还是类，指的是一组类的相似性，包括数据属性（如all_type）和函数属性（如read、write），而接口只强调函数属性的相似性。</em></p>
<p><strong><em>抽象类是一个介于类和接口直接的一个概念，同时具备类和接口的部分特性，可以用来实现归一化设计</em></strong> </p>
<p>在python中，并没有接口类这种东西，即便不通过专门的模块定义接口，我们也应该有一些基本的概念。</p>
<h4 id="1-多继承问题"><a href="#1-多继承问题" class="headerlink" title="1.多继承问题"></a>1.多继承问题</h4><p>在继承抽象类的过程中，我们应该尽量避免多继承；<br>而在继承接口的时候，我们反而鼓励你来多继承接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">接口隔离原则：</span><br><span class="line">使用多个专门的接口，而不使用单一的总接口。即客户端不应该依赖那些不需要的接口。</span><br></pre></td></tr></table></figure>

<h4 id="2-方法的实现"><a href="#2-方法的实现" class="headerlink" title="2.方法的实现"></a>2.方法的实现</h4><p>在抽象类中，我们可以对一些抽象方法做出基础实现；<br>而在接口类中，任何方法都只是一种规范，具体的功能需要子类实现</p>
<h3 id="钻石继承"><a href="#钻石继承" class="headerlink" title="钻石继承"></a><strong>钻石继承</strong></h3><h4 id="继承顺序"><a href="#继承顺序" class="headerlink" title="继承顺序"></a><strong>继承顺序</strong></h4><p><img src="https://images2017.cnblogs.com/blog/827651/201708/827651-20170812154958413-730706385.png" alt="img"></p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 继承顺序</p>
<h4 id="继承原理"><a href="#继承原理" class="headerlink" title="继承原理"></a><strong>继承原理</strong></h4><p>python到底是如何实现继承的，对于你定义的每一个类，python会计算出一个方法解析顺序(MRO)列表，这个MRO列表就是一个简单的所有基类的线性顺序列表，例如</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; F.mro() #等同于F.__mro__</span><br><span class="line">[&lt;class &#39;__main__.F&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.E&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;]</span><br></pre></td></tr></table></figure>



<p>为了实现继承,python会在MRO列表上从左到右开始查找基类,直到找到第一个匹配这个属性的类为止。<br>而这个MRO列表的构造是通过一个C3线性化算法来实现的。我们不去深究这个算法的数学原理,它实际上就是合并所有父类的MRO列表并遵循如下三条准则:<br>1.子类会先于父类被检查<br>2.多个父类会根据它们在列表中的顺序被检查<br>3.如果对下一个类存在两个合法的选择,选择第一个父类</p>
<h3 id="继承小结"><a href="#继承小结" class="headerlink" title="继承小结"></a><strong>继承小结</strong></h3><h4 id="继承的作用"><a href="#继承的作用" class="headerlink" title="继承的作用"></a>继承的作用</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">减少代码的重用</span><br><span class="line">提高代码可读性</span><br><span class="line">规范编程模式</span><br></pre></td></tr></table></figure>

<h4 id="几个名词"><a href="#几个名词" class="headerlink" title="几个名词"></a>几个名词</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">抽象：抽象即抽取类似或者说比较像的部分。是一个从具题到抽象的过程。</span><br><span class="line">继承：子类继承了父类的方法和属性</span><br><span class="line">派生：子类在父类方法和属性的基础上产生了新的方法和属性</span><br></pre></td></tr></table></figure>

<h4 id="抽象类与接口类-2"><a href="#抽象类与接口类-2" class="headerlink" title="抽象类与接口类"></a>抽象类与接口类</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.多继承问题</span><br><span class="line">在继承抽象类的过程中，我们应该尽量避免多继承；</span><br><span class="line">而在继承接口的时候，我们反而鼓励你来多继承接口</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.方法的实现</span><br><span class="line">在抽象类中，我们可以对一些抽象方法做出基础实现；</span><br><span class="line">而在接口类中，任何方法都只是一种规范，具体的功能需要子类实现</span><br></pre></td></tr></table></figure>





<h4 id="钻石继承-1"><a href="#钻石继承-1" class="headerlink" title="钻石继承"></a><strong>钻石继承</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">新式类：广度优先</span><br><span class="line">经典类：深度优先</span><br></pre></td></tr></table></figure>





<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><h3 id="多态-1"><a href="#多态-1" class="headerlink" title="多态"></a><strong>多态</strong></h3><p>多态指的是一类事物有多种形态</p>
<p>动物有多种形态：人，狗，猪</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import abc</span><br><span class="line">class Animal(metaclass&#x3D;abc.ABCMeta): #同一类事物:动物</span><br><span class="line">    @abc.abstractmethod</span><br><span class="line">    def talk(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">class People(Animal): #动物的形态之一:人</span><br><span class="line">    def talk(self):</span><br><span class="line">        print(&#39;say hello&#39;)</span><br><span class="line"></span><br><span class="line">class Dog(Animal): #动物的形态之二:狗</span><br><span class="line">    def talk(self):</span><br><span class="line">        print(&#39;say wangwang&#39;)</span><br><span class="line"></span><br><span class="line">class Pig(Animal): #动物的形态之三:猪</span><br><span class="line">    def talk(self):</span><br><span class="line">        print(&#39;say aoao&#39;)</span><br></pre></td></tr></table></figure>





<p>文件有多种形态：文本文件，可执行文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import abc</span><br><span class="line">class File(metaclass&#x3D;abc.ABCMeta): #同一类事物:文件</span><br><span class="line">    @abc.abstractmethod</span><br><span class="line">    def click(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">class Text(File): #文件的形态之一:文本文件</span><br><span class="line">    def click(self):</span><br><span class="line">        print(&#39;open file&#39;)</span><br><span class="line"></span><br><span class="line">class ExeFile(File): #文件的形态之二:可执行文件</span><br><span class="line">    def click(self):</span><br><span class="line">        print(&#39;execute file&#39;)</span><br></pre></td></tr></table></figure>







<h3 id="多态性"><a href="#多态性" class="headerlink" title="多态性"></a><strong>多态性</strong></h3><p><strong>一 什么是多态动态绑定（在继承的背景下使用时，有时也称为多态性）</strong></p>
<p><strong>多态性是指在不考虑实例类型的情况下使用实例</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">在面向对象方法中一般是这样表述多态性：</span><br><span class="line">向不同的对象发送同一条消息（！！！obj.func():是调用了obj的方法func，又称为向obj发送了一条消息func），不同的对象在接收时会产生不同的行为（即方法）。</span><br><span class="line">也就是说，每个对象可以用自己的方式去响应共同的消息。所谓消息，就是调用函数，不同的行为就是指不同的实现，即执行不同的函数。</span><br><span class="line"></span><br><span class="line">比如：老师.下课铃响了（），学生.下课铃响了()，老师执行的是下班操作，学生执行的是放学操作，虽然二者消息一样，但是执行的效果不同</span><br></pre></td></tr></table></figure>







<p><strong>多态性</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">peo&#x3D;People()</span><br><span class="line">dog&#x3D;Dog()</span><br><span class="line">pig&#x3D;Pig()</span><br><span class="line"></span><br><span class="line">#peo、dog、pig都是动物,只要是动物肯定有talk方法</span><br><span class="line">#于是我们可以不用考虑它们三者的具体是什么类型,而直接使用</span><br><span class="line">peo.talk()</span><br><span class="line">dog.talk()</span><br><span class="line">pig.talk()</span><br><span class="line"></span><br><span class="line">#更进一步,我们可以定义一个统一的接口来使用</span><br><span class="line">def func(obj):</span><br><span class="line">    obj.talk()</span><br></pre></td></tr></table></figure>







<p><strong>鸭子类型</strong></p>
<p>逗比时刻：</p>
<p>　　Python崇尚鸭子类型，即‘如果看起来像、叫声像而且走起路来像鸭子，那么它就是鸭子’</p>
<p>python程序员通常根据这种行为来编写程序。例如，如果想编写现有对象的自定义版本，可以继承该对象</p>
<p>也可以创建一个外观和行为像，但与它无任何关系的全新对象，后者通常用于保存程序组件的松耦合度。</p>
<p>例1：利用标准库中定义的各种‘与文件类似’的对象，尽管这些对象的工作方式像文件，但他们没有继承内置文件对象的方法</p>
<p>例2：序列类型有多种形态：字符串，列表，元组，但他们直接没有直接的继承关系</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 例子</p>
<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>【封装】</p>
<p>​     隐藏对象的属性和实现细节，仅对外提供公共访问方式。</p>
<p>【好处】 </p>
<p>\1. 将变化隔离； </p>
<p>\2. 便于使用；</p>
<p>\3. 提高复用性； </p>
<p>\4. 提高安全性；</p>
<p>【封装原则】</p>
<p>   \1. 将不需要对外提供的内容都隐藏起来；</p>
<p>   \2. 把属性都隐藏，提供公共方法对其访问。</p>
<h3 id="私有变量和私有方法"><a href="#私有变量和私有方法" class="headerlink" title="私有变量和私有方法"></a><strong>私有变量和私有方法</strong></h3><p><strong><em>在python中用双下划线开头的方式将属性隐藏起来（设置成私有的）</em></strong></p>
<h4 id="私有变量"><a href="#私有变量" class="headerlink" title="私有变量"></a>私有变量</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#其实这仅仅这是一种变形操作</span><br><span class="line">#类中所有双下划线开头的名称如__x都会自动变形成：_类名__x的形式：</span><br><span class="line"></span><br><span class="line">class A:</span><br><span class="line">    __N&#x3D;0 #类的数据属性就应该是共享的,但是语法上是可以把类的数据属性设置成私有的如__N,会变形为_A__N</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.__X&#x3D;10 #变形为self._A__X</span><br><span class="line">    def __foo(self): #变形为_A__foo</span><br><span class="line">        print(&#39;from A&#39;)</span><br><span class="line">    def bar(self):</span><br><span class="line">        self.__foo() #只有在类内部才可以通过__foo的形式访问到.</span><br><span class="line"></span><br><span class="line">#A._A__N是可以访问到的，即这种操作并不是严格意义上的限制外部访问，仅仅只是一种语法意义上的变形</span><br></pre></td></tr></table></figure>





<p><strong>这种自动变形的特点：</strong></p>
<p><strong>1.类中定义的**</strong><strong>x只能在内部使用，如self.</strong>x，*<em>\</em>*引用的就是变形的结果**<em>\</em>。**</p>
<p><strong><em>\</em>2.这种变形其实正是针对外部的变形\</strong>*<em>，在外部是无法通过__x这个名字访问到的。***</em></p>
<p><strong>3.在子类定义的__x不会覆盖在\</strong>父类定义的<strong>x，因为子类中变形成了：_子类名</strong>x,而父类中变形成了：_父类名__x，即双下滑线开头的属性在继承给子类时，子类是无法覆盖的。****</p>
<p>这种变形需要注意的问题是：</p>
<p><strong><em>1.这种机制也并没有真正意义上限制我们从外部直接访问属性，知道了类名和属性名就可以拼出名字：_类名<strong>属性，然后就可以访问了，如a._A</strong>N</em></strong></p>
<p><strong><em>2.变形的过程只在类的内部生效,在定义后的赋值操作，不会变形</em></strong></p>
<p><em><img src="https://images2017.cnblogs.com/blog/827651/201708/827651-20170812175039570-723193202.png" alt="img"></em></p>
<h4 id="私有方法"><a href="#私有方法" class="headerlink" title="私有方法"></a>私有方法</h4><p><strong><em>3.在继承中，父类如果不想让子类覆盖自己的方法，可以将方法定义为私有的</em></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#正常情况</span><br><span class="line">&gt;&gt;&gt; class A:</span><br><span class="line">...     def fa(self):</span><br><span class="line">...         print(&#39;from A&#39;)</span><br><span class="line">...     def test(self):</span><br><span class="line">...         self.fa()</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; class B(A):</span><br><span class="line">...     def fa(self):</span><br><span class="line">...         print(&#39;from B&#39;)</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; b&#x3D;B()</span><br><span class="line">&gt;&gt;&gt; b.test()</span><br><span class="line">from B</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">#把fa定义成私有的，即__fa</span><br><span class="line">&gt;&gt;&gt; class A:</span><br><span class="line">...     def __fa(self): #在定义时就变形为_A__fa</span><br><span class="line">...         print(&#39;from A&#39;)</span><br><span class="line">...     def test(self):</span><br><span class="line">...         self.__fa() #只会与自己所在的类为准,即调用_A__fa</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; class B(A):</span><br><span class="line">...     def __fa(self):</span><br><span class="line">...         print(&#39;from B&#39;)</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; b&#x3D;B()</span><br><span class="line">&gt;&gt;&gt; b.test()</span><br><span class="line">from A</span><br></pre></td></tr></table></figure>







<h3 id="封装与扩展性"><a href="#封装与扩展性" class="headerlink" title="封装与扩展性"></a><strong>封装与扩展性</strong></h3><p><em>封装在于明确区分内外，使得类实现者可以修改封装内的东西而不影响外部调用者的代码；而外部使用用者只知道一个接口(函数)，只要接口（函数）名、参数不变，使用者的代码永远无需改变。这就提供一个良好的合作基础——或者说，只要接口这个基础约定不变，则代码改变不足为虑。</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#类的设计者</span><br><span class="line">class Room:</span><br><span class="line">    def __init__(self,name,owner,width,length,high):</span><br><span class="line">        self.name&#x3D;name</span><br><span class="line">        self.owner&#x3D;owner</span><br><span class="line">        self.__width&#x3D;width</span><br><span class="line">        self.__length&#x3D;length</span><br><span class="line">        self.__high&#x3D;high</span><br><span class="line">    def tell_area(self): #对外提供的接口，隐藏了内部的实现细节，此时我们想求的是面积</span><br><span class="line">        return self.__width * self.__length</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#使用者</span><br><span class="line">&gt;&gt;&gt; r1&#x3D;Room(&#39;卧室&#39;,&#39;egon&#39;,20,20,20)</span><br><span class="line">&gt;&gt;&gt; r1.tell_area() #使用者调用接口tell_area</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#类的设计者，轻松的扩展了功能，而类的使用者完全不需要改变自己的代码</span><br><span class="line">class Room:</span><br><span class="line">    def __init__(self,name,owner,width,length,high):</span><br><span class="line">        self.name&#x3D;name</span><br><span class="line">        self.owner&#x3D;owner</span><br><span class="line">        self.__width&#x3D;width</span><br><span class="line">        self.__length&#x3D;length</span><br><span class="line">        self.__high&#x3D;high</span><br><span class="line">    def tell_area(self): #对外提供的接口，隐藏内部实现，此时我们想求的是体积,内部逻辑变了,只需求修该下列一行就可以很简答的实现,而且外部调用感知不到,仍然使用该方法，但是功能已经变了</span><br><span class="line">        return self.__width * self.__length * self.__high</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#对于仍然在使用tell_area接口的人来说，根本无需改动自己的代码，就可以用上新功能</span><br><span class="line">&gt;&gt;&gt; r1.tell_area()</span><br></pre></td></tr></table></figure>







<h3 id="property属性"><a href="#property属性" class="headerlink" title="property属性"></a><strong>property属性</strong></h3><p><strong>什么是特性property</strong></p>
<p><em>property是一种特殊的属性，访问它时会执行一段功能（函数）然后返回值</em></p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 例一</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> View Code</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> 例二：圆的周长和面积</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#注意：此时的特性area和perimeter不能被赋值</span><br><span class="line">c.area&#x3D;3 #为特性area赋值</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">抛出异常:</span><br><span class="line">AttributeError: can&#39;t set attribute</span><br><span class="line">&#39;&#39;&#39;</span><br></pre></td></tr></table></figure>



<p><strong>为什么要用property</strong></p>
<p>将一个类的函数定义成特性以后，对象再去使用的时候obj.name,根本无法察觉自己的name是执行了一个函数然后计算出来的，这种特性的使用方式<strong>遵循了统一访问的原则</strong></p>
<p>除此之外，看下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ps：面向对象的封装有三种方式:</span><br><span class="line">【public】</span><br><span class="line">这种其实就是不封装,是对外公开的</span><br><span class="line">【protected】</span><br><span class="line">这种封装方式对外不公开,但对朋友(friend)或者子类(形象的说法是“儿子”,但我不知道为什么大家 不说“女儿”,就像“parent”本来是“父母”的意思,但中文都是叫“父类”)公开</span><br><span class="line">【private】</span><br><span class="line">这种封装对谁都不公开</span><br></pre></td></tr></table></figure>





<p>python并没有在语法上把它们三个内建到自己的class机制中，在C++里一般会将所有的所有的数据都设置为私有的，然后提供set和get方法（接口）去设置和获取，在python中通过property方法可以实现</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __init__(self,val):</span><br><span class="line">        self.__NAME&#x3D;val #将所有的数据属性都隐藏起来</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def name(self):</span><br><span class="line">        return self.__NAME #obj.name访问的是self.__NAME(这也是真实值的存放位置)</span><br><span class="line"></span><br><span class="line">    @name.setter</span><br><span class="line">    def name(self,value):</span><br><span class="line">        if not isinstance(value,str):  #在设定值之前进行类型检查</span><br><span class="line">            raise TypeError(&#39;%s must be str&#39; %value)</span><br><span class="line">        self.__NAME&#x3D;value #通过类型检查后,将值value存放到真实的位置self.__NAME</span><br><span class="line"></span><br><span class="line">    @name.deleter</span><br><span class="line">    def name(self):</span><br><span class="line">        raise TypeError(&#39;Can not delete&#39;)</span><br><span class="line"></span><br><span class="line">f&#x3D;Foo(&#39;egon&#39;)</span><br><span class="line">print(f.name)</span><br><span class="line"># f.name&#x3D;10 #抛出异常&#39;TypeError: 10 must be str&#39;</span><br><span class="line">del f.name #抛出异常&#39;TypeError: Can not delete&#39;</span><br></pre></td></tr></table></figure>





<p>一个静态属性property本质就是实现了get，set，delete三种方法</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> View Code</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> View Code</p>
<p>怎么用？</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Goods:</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        # 原价</span><br><span class="line">        self.original_price &#x3D; 100</span><br><span class="line">        # 折扣</span><br><span class="line">        self.discount &#x3D; 0.8</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def price(self):</span><br><span class="line">        # 实际价格 &#x3D; 原价 * 折扣</span><br><span class="line">        new_price &#x3D; self.original_price * self.discount</span><br><span class="line">        return new_price</span><br><span class="line"></span><br><span class="line">    @price.setter</span><br><span class="line">    def price(self, value):</span><br><span class="line">        self.original_price &#x3D; value</span><br><span class="line"></span><br><span class="line">    @price.deleter</span><br><span class="line">    def price(self):</span><br><span class="line">        del self.original_price</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj &#x3D; Goods()</span><br><span class="line">obj.price         # 获取商品价格</span><br><span class="line">obj.price &#x3D; 200   # 修改商品原价</span><br><span class="line">print(obj.price)</span><br><span class="line">del obj.price     # 删除商品原价</span><br></pre></td></tr></table></figure>







<h3 id="classmethod"><a href="#classmethod" class="headerlink" title="classmethod"></a><strong>classmethod</strong></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Classmethod_Demo():</span><br><span class="line">    role &#x3D; &#39;dog&#39;</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def func(cls):</span><br><span class="line">        print(cls.role)</span><br><span class="line">Classmethod_Demo.func()</span><br></pre></td></tr></table></figure>







<h3 id="staticmethod"><a href="#staticmethod" class="headerlink" title="staticmethod"></a><strong>staticmethod</strong></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Staticmethod_Demo():</span><br><span class="line">    role &#x3D; &#39;dog&#39;</span><br><span class="line"></span><br><span class="line">    @staticmethod</span><br><span class="line">    def func():</span><br><span class="line">        print(&quot;当普通方法用&quot;)</span><br><span class="line">Staticmethod_Demo.func()</span><br></pre></td></tr></table></figure>









<h1 id="面向对象的更多说明"><a href="#面向对象的更多说明" class="headerlink" title="面向对象的更多说明"></a>面向对象的更多说明</h1><h2 id="面向对象的软件开发"><a href="#面向对象的软件开发" class="headerlink" title="面向对象的软件开发"></a>面向对象的软件开发</h2><p>很多人在学完了python的class机制之后，遇到一个生产中的问题，还是会懵逼，这其实太正常了，因为任何程序的开发都是先设计后编程，python的class机制只不过是一种编程方式，如果你硬要拿着class去和你的问题死磕，变得更加懵逼都是分分钟的事，在以前，软件的开发相对简单，从任务的分析到编写程序，再到程序的调试，可以由一个人或一个小组去完成。但是随着软件规模的迅速增大，软件任意面临的问题十分复杂，需要考虑的因素太多，在一个软件中所产生的错误和隐藏的错误、未知的错误可能达到惊人的程度，这也不是在设计阶段就完全解决的。</p>
<p>  所以软件的开发其实一整套规范，我们所学的只是其中的一小部分，一个完整的开发过程，需要明确每个阶段的任务，在保证一个阶段正确的前提下再进行下一个阶段的工作，称之为软件工程</p>
<p>  面向对象的软件工程包括下面几个部：</p>
<p><strong>1.面向对象分析（object oriented analysis ，OOA）</strong></p>
<p>  软件工程中的系统分析阶段，要求分析员和用户结合在一起，对用户的需求做出精确的分析和明确的表述，从大的方面解析软件系统应该做什么，而不是怎么去做。面向对象的分析要按照面向对象的概念和方法，在对任务的分析中，从客观存在的事物和事物之间的关系，贵南出有关的对象（对象的‘特征’和‘技能’）以及对象之间的联系，并将具有相同属性和行为的对象用一个类class来标识。</p>
<p>  建立一个能反映这是工作情况的需求模型，此时的模型是粗略的。</p>
<p><strong>2 面向对象设计（object oriented design，OOD）</strong></p>
<p>  根据面向对象分析阶段形成的需求模型，对每一部分分别进行具体的设计。</p>
<p>  首先是类的设计，类的设计可能包含多个层次（利用继承与派生机制）。然后以这些类为基础提出程序设计的思路和方法，包括对算法的设计。</p>
<p>  在设计阶段并不牵涉任何一门具体的计算机语言，而是用一种更通用的描述工具（如伪代码或流程图）来描述</p>
<p><strong>3 面向对象编程（object oriented programming，OOP）</strong></p>
<p>  根据面向对象设计的结果，选择一种计算机语言把它写成程序，可以是python</p>
<p><strong>4 面向对象测试（object oriented test，OOT）</strong></p>
<p>  在写好程序后交给用户使用前，必须对程序进行严格的测试，测试的目的是发现程序中的错误并修正它。</p>
<p>  面向对的测试是用面向对象的方法进行测试，以类作为测试的基本单元。</p>
<p><strong>5 面向对象维护（object oriendted soft maintenance，OOSM）</strong></p>
<p>  正如对任何产品都需要进行售后服务和维护一样，软件在使用时也会出现一些问题，或者软件商想改进软件的性能，这就需要修改程序。</p>
<p>  由于使用了面向对象的方法开发程序，使用程序的维护比较容易。</p>
<p>  因为对象的封装性，修改一个对象对其他的对象影响很小，利用面向对象的方法维护程序，大大提高了软件维护的效率，可扩展性高。</p>
<p>  在面向对象方法中，最早发展的肯定是面向对象编程(OOP),那时OOA和OOD都还没有发展起来，因此程序设计者为了写出面向对象的程序，还必须深入到分析和设计领域，尤其是设计领域，那时的OOP实际上包含了现在的OOD和OOP两个阶段，这对程序设计者要求比较高，许多人感到很难掌握。</p>
<p>  现在设计一个大的软件，是严格按照面向对象软件工程的5个阶段进行的，这个5个阶段的工作不是由一个人从头到尾完成的，而是由不同的人分别完成，这样OOP阶段的任务就比较简单了。程序编写者只需要根据OOd提出的思路，用面向对象语言编写出程序既可。</p>
<p>  在一个大型软件开发过程中，OOP只是很小的一个部分。</p>
<p>  对于全栈开发的你来说，这五个阶段都有了，对于简单的问题，不必严格按照这个5个阶段进行，往往由程序设计者按照面向对象的方法进行程序设计，包括类的设计和程序的设计</p>
<h2 id="几个概念的说明"><a href="#几个概念的说明" class="headerlink" title="几个概念的说明"></a>几个概念的说明</h2><p>1.面向对象的程序设计看起来高大上，所以我在编程时就应该保证通篇class，这样写出的程序一定是好的程序（面向对象只适合那些可扩展性要求比较高的场景）</p>
<p>2.很多人喜欢说面向对象三大特性（这是从哪传出来的，封装，多态，继承？漏洞太多太多，好吧暂且称为三大特性），那么我在基于面向对象编程时，我一定要让我定义的类中完整的包含这三种特性，这样写肯定是好的程序</p>
<p>好家伙，我说降龙十八掌有十八掌，那么你每次跟人干仗都要从第一掌打到第18掌这才显得你会了是么：面对敌人，你打到第三掌对方就已经倒下了，你说，不行，你给老子起来，老子还没有show完…</p>
<p>3.类有类属性，实例有实例属性，所以我们在定义class时一定要定义出那么几个类属性，想不到怎么办，那就使劲的想，定义的越多越牛逼</p>
<p>这就犯了一个严重的错误，程序越早面向对象，死的越早，为啥面向对象，因为我们要将数据与功能结合到一起，程序整体的结构都没有出来，或者说需要考虑的问题你都没有搞清楚个八九不离十，你就开始面向对象了，这就导致了，你在那里干想，自以为想通了，定义了一堆属性，结果后来又都用不到，或者想不通到底应该定义啥，那就一直想吧，想着想着就疯了。</p>
<p>你见过哪家公司要开发一个软件，上来就开始写，肯定是频繁的开会讨论计划，请看第八节。</p>
<h2 id="面向对象常用术语"><a href="#面向对象常用术语" class="headerlink" title="面向对象常用术语"></a>面向对象常用术语</h2><p><strong>抽象/实现</strong></p>
<p>抽象指对现实世界问题和实体的本质表现,行为和特征建模,建立一个相关的子集,可以用于 绘程序结构,从而实现这种模型。抽象不仅包括这种模型的数据属性,还定义了这些数据的接口。</p>
<p>对某种抽象的实现就是对此数据及与之相关接口的现实化(realization)。现实化这个过程对于客户 程序应当是透明而且无关的。 </p>
<p><strong>封装/接口</strong></p>
<p>封装描述了对数据/信息进行隐藏的观念,它对数据属性提供接口和访问函数。通过任何客户端直接对数据的访问,无视接口,与封装性都是背道而驰的,除非程序员允许这些操作。作为实现的 一部分,客户端根本就不需要知道在封装之后,数据属性是如何组织的。在Python中,所有的类属性都是公开的,但名字可能被“混淆”了,以阻止未经授权的访问,但仅此而已,再没有其他预防措施了。这就需要在设计时,对数据提供相应的接口,以免客户程序通过不规范的操作来存取封装的数据属性。</p>
<p>注意：封装绝不是等于“把不想让别人看到、以后可能修改的东西用private隐藏起来”</p>
<p><strong>真正的封装是，经过深入的思考，做出良好的抽象，给出“完整且最小”的接口，并使得内部细节可以对外透明</strong></p>
<p><strong>（注意：对外透明</strong>的意思是<strong>，</strong>外部调用者可以顺利的得到自己想要的任何功能，<strong>完全意识不到内部细节的存在）</strong></p>
<p><strong>合成</strong></p>
<p>合成扩充了对类的 述,使得多个不同的类合成为一个大的类,来解决现实问题。合成 述了 一个异常复杂的系统,比如一个类由其它类组成,更小的组件也可能是其它的类,数据属性及行为, 所有这些合在一起,彼此是“有一个”的关系。</p>
<p><strong>派生/继承/继承结构</strong></p>
<p>派生描述了子类衍生出新的特性,新类保留已存类类型中所有需要的数据和行为,但允许修改或者其它的自定义操作,都不会修改原类的定义。<br>继承描述了子类属性从祖先类继承这样一种方式<br>继承结构表示多“代”派生,可以述成一个“族谱”,连续的子类,与祖先类都有关系。</p>
<p><strong>泛化/特化</strong></p>
<p>基于继承<br>泛化表示所有子类与其父类及祖先类有一样的特点。<br>特化描述所有子类的自定义,也就是,什么属性让它与其祖先类不同。</p>
<p><strong>多态与多态性</strong></p>
<p>多态指的是同一种事物的多种状态：水这种事物有多种不同的状态：冰，水蒸气</p>
<p>多态性的概念指出了对象如何通过他们共同的属性和动作来操作及访问,而不需考虑他们具体的类。</p>
<p>冰，水蒸气，都继承于水，它们都有一个同名的方法就是变成云，但是冰.变云(),与水蒸气.变云()是截然不同的过程，虽然调用的方法都一样</p>
<p><strong>自省/反射</strong></p>
<p>自省也称作反射，这个性质展示了某对象是如何在运行期取得自身信息的。如果传一个对象给你,你可以查出它有什么能力,这是一项强大的特性。如果Python不支持某种形式的自省功能,dir和type内建函数,将很难正常工作。还有那些特殊属性,像<strong>dict</strong>,<strong>name</strong>及<strong>doc</strong></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python函数</title>
    <url>/2020/06/13/python%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> <a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 中函数的应用非常广泛，前面章节中我们已经接触过多个函数，比如 input() 、print()、range()、len() 函数等等，这些都是 Python 的内置函数，可以直接使用。</p>
<p>除了可以直接使用的内置函数外，Python 还支持自定义函数，即将一段有规律的、可重复使用的代码定义成函数，从而达到一次编写、多次调用的目的。</p>
<p>举个例子，前面学习了 len() 函数，通过它我们可以直接获得一个字符串的长度。我们不妨设想一下，如果没有 len() 函数，要想获取一个字符串的长度，该如何实现呢？请看下面的代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">n&#x3D;0for c in &quot;http:&#x2F;&#x2F;c.biancheng.net&#x2F;python&#x2F;&quot;:   n &#x3D; n + 1print(n)</span><br></pre></td></tr></table></figure>

<p>程序执行结果为：</p>
<p>30</p>
<p>要知道，获取一个字符串长度是常用的功能，一个程序中就可能用到很多次，如果每次都写这样一段重复的代码，不但费时费力、容易出错，而且交给别人时也很麻烦。</p>
<p>所以 Python 提供了一个功能，即允许我们将常用的代码以固定的格式封装（包装）成一个独立的模块，只要知道这个模块的名字就可以重复使用它，这个模块就叫做函数（Function）。</p>
<p>比如，在程序中定义了一段代码，这段代码用于实现一个特定的功能。问题来了，如果下次需要实现同样的功能，难道要把前面定义的代码复制一次？如果这样做实在太傻了，这意味着每次当程序需要实现该功能时，都要将前面定义的代码复制一次。正确的做法是，将实现特定功能的代码定义成一个函数，每次当程序需要实现该功能时，只要执行（调用）该函数即可。</p>
<p>其实，函数的本质就是一段有特定功能、可以重复使用的代码，这段代码已经被提前编写好了，并且为其起一个“好听”的名字。在后续编写程序过程中，如果需要同样的功能，直接通过起好的名字就可以调用这段代码。</p>
<p>下面演示了如何将我们自己实现的 len() 函数封装成一个函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#自定义 len() 函数def my_len(str):    length &#x3D; 0    for c in str:       length &#x3D; length + 1    return length#调用自定义的 my_len() 函数length &#x3D; my_len(&quot;http:&#x2F;&#x2F;c.biancheng.net&#x2F;python&#x2F;&quot;)print(length)#再次调用 my_len() 函数length &#x3D; my_len(&quot;http:&#x2F;&#x2F;c.biancheng.net&#x2F;shell&#x2F;&quot;)print(length)</span><br></pre></td></tr></table></figure>

<p>程序执行结果为：</p>
<p>30<br>29</p>
<p>如果读者接触过其他编程语言中的函数，以上对于函数的描述，肯定不会陌生。但需要注意的一点是，和其他编程语言中函数相同的是，Python 函数支持接收多个（ ≥0 ）参数，不同之处在于，Python 函数还支持返回多个（ ≥0 ）值。</p>
<p>比如，上面程序中，我们自己封装的 my_len(str) 函数，在定义此函数时，我们为其设置了 1 个 str 参数，同时该函数经过内部处理，会返回给我们 1 个 length 值。</p>
<p>通过分析 my_len() 函数这个实例不难看出，函数的使用大致分为 2 步，分别是定义函数和调用函数。接下来一一为读者进行详细的讲解。</p>
<h2 id="Python函数的定义"><a href="#Python函数的定义" class="headerlink" title="Python函数的定义"></a>Python函数的定义</h2><p>定义函数，也就是创建一个函数，可以理解为创建一个具有某些用途的工具。定义函数需要用 def 关键字实现，具体的语法格式如下：</p>
<p>def 函数名(参数列表):<br>  //实现特定功能的多行代码<br>  [return [返回值]]</p>
<p>其中，用 [] 括起来的为可选择部分，即可以使用，也可以省略。</p>
<p>此格式中，各部分参数的含义如下：</p>
<ul>
<li>函数名：其实就是一个符合 Python 语法的标识符，但不建议读者使用 a、b、c 这类简单的标识符作为函数名，函数名最好能够体现出该函数的功能（如上面的 my_len，即表示我们自定义的 len() 函数）。</li>
<li>形参列表：设置该函数可以接收多少个参数，多个参数之间用逗号（ , ）分隔。</li>
<li>[return [返回值] ]：整体作为函数的可选参参数，用于设置该函数的返回值。也就是说，一个函数，可以用返回值，也可以没有返回值，是否需要根据实际情况而定。</li>
</ul>
<p>注意，在创建函数时，即使函数不需要参数，也必须保留一对空的“()”，否则 Python 解释器将提示“invaild syntax”错误。另外，如果想定义一个没有任何功能的空函数，可以使用 pass 语句作为占位符。</p>
<p>例如，下面定义了 2 个函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#定义个空函数，没有实际意义def pass_dis():    pass#定义一个比较字符串大小的函数def str_max(str1,str2):    str &#x3D; str1 if str1 &gt; str2 else str2    return str</span><br></pre></td></tr></table></figure>

<blockquote>
<p>虽然 Python 语言允许定义个空函数，但空函数本身并没有实际意义。</p>
</blockquote>
<p>另外值得一提的是，函数中的 return 语句可以直接返回一个表达式的值，例如修改上面的 str_max() 函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def str_max(str1,str2):    return str1 if str1 &gt; str2 else str2</span><br></pre></td></tr></table></figure>

<p>该函数的功能，和上面的 str_max() 函数是完全一样的，只是省略了创建 str 变量，因此函数代码更加简洁。</p>
<h2 id="Python函数的调用"><a href="#Python函数的调用" class="headerlink" title="Python函数的调用"></a>Python函数的调用</h2><p>调用函数也就是执行函数。如果把创建的函数理解为一个具有某种用途的工具，那么调用函数就相当于使用该工具。</p>
<p>函数调用的基本语法格式如下所示：</p>
<p>[返回值] = 函数名([形参值])</p>
<p>其中，函数名即指的是要调用的函数的名称；形参值指的是当初创建函数时要求传入的各个形参的值。如果该函数有返回值，我们可以通过一个变量来接收该值，当然也可以不接受。</p>
<blockquote>
<p>需要注意的是，创建函数有多少个形参，那么调用时就需要传入多少个值，且顺序必须和创建函数时一致。即便该函数没有参数，函数名后的小括号也不能省略。</p>
</blockquote>
<p>例如，我们可以调用上面创建的 pass_dis() 和 str_max() 函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pass_dis()strmax &#x3D; str_max(&quot;http:&#x2F;&#x2F;c.biancheng.net&#x2F;python&quot;,&quot;http:&#x2F;&#x2F;c.biancheng.net&#x2F;shell&quot;);print(strmax)</span><br></pre></td></tr></table></figure>

<p>首先，对于调用空函数来说，由于函数本身并不包含任何有价值的执行代码，也没有返回值，应该调用空函数不会有任何效果。</p>
<p>其次，对于上面程序中调用 str_max() 函数，由于当初定义该函数为其设置了 2 个参数，因此这里在调用该参数，就必须传入 2 个参数。同时，由于该函数内部还使用了 return 语句，因此我们可以使用 strmax 变量来接收该函数的返回值。</p>
<p>因此，程序执行结果为：</p>
<p><a href="http://c.biancheng.net/shell" target="_blank" rel="noopener">http://c.biancheng.net/shell</a></p>
<h2 id="为函数提供说明文档"><a href="#为函数提供说明文档" class="headerlink" title="为函数提供说明文档"></a>为函数提供说明文档</h2><p>前面章节讲过，通过调用 Python 的 help() 内置函数或者 <strong>doc</strong> 属性，我们可以查看某个函数的使用说明文档。事实上，无论是 Python 提供给我们的函数，还是自定义的函数，其说明文档都需要设计该函数的程序员自己编写。</p>
<p>其实，函数的说明文档，本质就是一段字符串，只不过作为说明文档，字符串的放置位置是有讲究的，函数的说明文档通常位于函数内部、所有代码的最前面。</p>
<p>以上面程序中的 str_max() 函数为例，下面演示了如何为其设置说明文档：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#定义一个比较字符串大小的函数def str_max(str1,str2):    &#39;&#39;&#39;    比较 2 个字符串的大小    &#39;&#39;&#39;    str &#x3D; str1 if str1 &gt; str2 else str2    return strhelp(str_max)#print(str_max.__doc__)</span><br></pre></td></tr></table></figure>

<p>程序执行结果为：</p>
<p>Help on function str_max in module <strong>main</strong>:</p>
<p>str_max(str1, str2)<br>  比较 2 个字符串的大小</p>
<p>上面程序中，还可以使用 <strong>doc</strong> 属性来获取 str_max() 函数的说明文档，即使用最后一行的输出语句，其输出结果为：</p>
<p>  比较 2 个字符串的大小</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python—if语句</title>
    <url>/2020/06/13/python%E2%80%94if%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 今天给大家分享一下Python中的IF语句的使用场景以及注意事项。主要内容如下:</p>
<ul>
<li>1.python中的真假</li>
<li>2.Python操作符</li>
<li>3.if语句实例和嵌套实例</li>
<li>4.if语句中的if嵌套实例</li>
<li>5.and和or的运算关系演示</li>
</ul>
<p>首先我们看一个IF语句处理的流程图：</p>
<p><img src="https://images2017.cnblogs.com/blog/882871/201801/882871-20180111112435847-1537504335.png" alt="img"></p>
<p>IF语句运行原理就是：给出条件，决定下一步怎么做？如果条件为真，就执行决策条件代码块的内容，为假就退出。</p>
<p>我们学习之前先看下Python中的真假：在python中，任何非零，非空对象都是真，除真和None以外其他的都是假。</p>
<p>来敲一下笔记：</p>
<ul>
<li>1.任何非零和非空对象都为真 解释为True</li>
<li>2.数字0、空对象和特殊对象None均为假 解释为False</li>
<li>3.比较和相等测试会应用到数据结构中</li>
<li>4.返回值为True或False</li>
</ul>
<p>我们来看几个例子细细品味一下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; not 0</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; not 1</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; not []</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; not [1]</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; not True</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; not False</span><br><span class="line">True</span><br></pre></td></tr></table></figure>



<p>ok，你知道了真假以后，然后我们来简单介绍一下python中的常用的几种运算符.因为条件语句和运算符的结合是经常会用到的。</p>
<h3 id="Python操作符介绍"><a href="#Python操作符介绍" class="headerlink" title="Python操作符介绍"></a>Python操作符介绍</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.算术运算符  +  -  *   &#x2F; (取商)  %（取余数）  **</span><br><span class="line">2.赋值运算符</span><br><span class="line">　　　　num&#x3D;100 </span><br><span class="line">　　　　num &#x3D; num + 90</span><br><span class="line">3.成员关系运算符  in  not in </span><br><span class="line">4.比较运算符   &gt;  &lt;  &gt;&#x3D;  &lt; &#x3D;   &#x3D;&#x3D;  !&#x3D;  &lt;&gt;</span><br></pre></td></tr></table></figure>

<p>接下来看一下关于IF语句中的一些常用的实例……</p>
<p><strong>1.if语句基本构成</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">　　if    条件：</span><br><span class="line">　　　　if语句块</span><br><span class="line">　　else:　　</span><br><span class="line">　　　　else语句</span><br></pre></td></tr></table></figure>

<p><strong>if语句用于比较运算（大于&gt;）中</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; 0 </span><br><span class="line">if a &gt; 0:</span><br><span class="line">    print &quot;a is not 0&quot;</span><br><span class="line">else:</span><br><span class="line">    print &#39;a is o&#39;</span><br></pre></td></tr></table></figure>

<p><strong>if语句用于比较运算中结合逻辑运算符</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; 50</span><br><span class="line">if a&lt; 100 and a &gt; 10:</span><br><span class="line">    print &quot;a is not 0&quot;</span><br><span class="line">else:</span><br><span class="line">    print &#39;a is false&#39;</span><br></pre></td></tr></table></figure>

<p><strong>and的优先级大于or有括号的运算最优先</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; 50</span><br><span class="line">if (a&lt; 100 and a &gt; 10 or (a &gt;20 and a&lt;100):</span><br><span class="line">    print &quot;a is true&quot;</span><br><span class="line">else:</span><br><span class="line">    print &#39;a is false&#39;</span><br></pre></td></tr></table></figure>

<p><strong>2.if结合**</strong>比较运算操作符: &gt;&lt; == &gt;=  &lt;= == != &lt;&gt;**</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D;90</span><br><span class="line">b &#x3D;100</span><br><span class="line">if a&gt;b:</span><br><span class="line">    print &quot;a is max&quot;</span><br><span class="line">else:</span><br><span class="line">    print &#39;a is min&#39;</span><br></pre></td></tr></table></figure>

<p><strong>IF语句结合不等于实例：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D;90</span><br><span class="line">b &#x3D;100</span><br><span class="line">if a&lt;&gt;b:</span><br><span class="line">    print &quot;a is max&quot;</span><br><span class="line">else:</span><br><span class="line">    print &#39;a is min&#39;</span><br></pre></td></tr></table></figure>

<p><strong>IF语句结合成员关系运算符：In （not in ）</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name  &#x3D; &#39;zhangshan&#39;</span><br><span class="line">if  &#39;zhang&#39;  not in name:</span><br><span class="line">    print &#39;zhang is in name&#39;</span><br><span class="line">else:</span><br><span class="line">    print  &#39;zhang is not in name&#39;</span><br></pre></td></tr></table></figure>

<h3 id="3-if-elif嵌套结构"><a href="#3-if-elif嵌套结构" class="headerlink" title="3.if elif嵌套结构"></a>3.if elif嵌套结构</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if   条件：</span><br><span class="line">      if语句块</span><br><span class="line">elif  条件：</span><br><span class="line">      elif语句块</span><br><span class="line">else:</span><br><span class="line">      else语句块</span><br></pre></td></tr></table></figure>

<p><strong>用于检查多个条件是否满足：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">number1 &#x3D; int(input(&quot;请输入数字1:&quot;))</span><br><span class="line">number2 &#x3D; int(input(&quot;请输入数字2:&quot;))</span><br><span class="line">if    number1 &gt; number2:</span><br><span class="line">    print &quot;&#123;&#125; 大于 &#123;&#125;&quot;.format(number1,number2)</span><br><span class="line">elif  number2 &lt; number2:</span><br><span class="line">    print  &quot;&#123;&#125; 小于 &#123;&#125;&quot;.format(number1,number2)</span><br><span class="line"></span><br><span class="line">elif  number1 &#x3D;&#x3D; number2:</span><br><span class="line">    print &#39;%s 等于 %s&#39;%(number1,number2)</span><br><span class="line">else:</span><br><span class="line">    print &#39;game is over&#39;</span><br></pre></td></tr></table></figure>



<p><strong>IF嵌套语句2</strong></p>
<p>最外侧if语句作为整个if语句中的决策条件，优先满足后，才可以继续和if子句进行在判断，如果一开始输入的内容不符合决策条件，就直接退出整个if分支语句。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name &#x3D; input(&quot;请输入信息:&quot;)</span><br><span class="line">if  name.endswith(&#39;hello&#39;):</span><br><span class="line">    if name.startswith(&#39;china&#39;):</span><br><span class="line">        print &#39;welcome to &#123;&#125;&#39;.format(name)</span><br><span class="line">    elif name.startswith(&#39;japan&#39;):</span><br><span class="line">        print &#39;say you &#123;&#125;&#39;.format(name)</span><br><span class="line">    else:</span><br><span class="line">        print &#39;输入有误，重新输入&#39;</span><br><span class="line">else:</span><br><span class="line">    print  &#39;游戏结束----&gt;&#39;</span><br></pre></td></tr></table></figure>



<p><strong>写在最后补充-对Python而言：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">其一, 在不加括号时候, and优先级大于or</span><br><span class="line">其二, x or y 的值只可能是x或y.  x为真就是x, x为假就是y</span><br><span class="line">其三, x and y 的值只可能是x或y.  x为真就是y, x为假就是x</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">看几个实际的例子&gt;&gt;&gt; 5 and 6 and 7</span><br><span class="line">7</span><br><span class="line">&gt;&gt;&gt; 4 and 5 or 6 and 7</span><br><span class="line">5</span><br><span class="line">&gt;&gt;&gt; True or True and False</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>



<p>将喜欢的一切留在身边，这便是努力的意义。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python运算符</title>
    <url>/2020/06/13/python%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> <a href="https://www.cnblogs.com/zhaomeng/p/10303150.html" target="_blank" rel="noopener">Python运算符及逻辑运算</a></p>
<h2 id="基本运算符"><a href="#基本运算符" class="headerlink" title="基本运算符"></a>基本运算符</h2><p>运算符用于执行程序代码运算，会针对一个以上操作数项目来进行运算。例如：2+3,其操作数是2和3，而运算符则是“+”。在计算器语言中运算符大致可以分为5种类型：算术运算符、连接运算符、关系运算符、赋值运算符和逻辑运算符。运算符也是计算机里比较好理解的人类语言之一，只要稍微懂点数学的，都能看懂算数运算符。</p>
<p>在Python中常见的运算符有： +、-、<em>、/、*</em>/&lt;、&gt;、!=、//、%、&amp;、|、^、~、&gt;&gt;、&lt;&lt;、&lt;=、&gt;=、==、not、and、or 。接下来一一介绍这些运算符的具体事例。</p>
<h3 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h3><p>以下假设变量：a=10，b=20</p>
<p><img src="https://images2017.cnblogs.com/blog/988316/201709/988316-20170918164114681-450791355.png" alt="img"></p>
<h3 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h3><p>以下假设变量：a=10，b=20</p>
<p><img src="https://images2017.cnblogs.com/blog/988316/201709/988316-20170918164140775-1955239387.png" alt="img"></p>
<h3 id="赋值运算"><a href="#赋值运算" class="headerlink" title="赋值运算"></a>赋值运算</h3><p>以下假设变量：a=10，b=20</p>
<p><a href="http://kuanghy.github.io/2016/05/26/python-connect（Python连接符+=、+、-=）" target="_blank" rel="noopener">http://kuanghy.github.io/2016/05/26/python-connect（Python连接符+=、+、-=）</a></p>
<p><img src="https://images2017.cnblogs.com/blog/988316/201709/988316-20170918164210728-1331769834.png" alt="img"></p>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><p><img src="https://images2017.cnblogs.com/blog/988316/201709/988316-20170918164226540-2018438327.png" alt="img"></p>
<p>针对逻辑运算的进一步研究：</p>
<p>1、在没有()的情况下not 优先级高于 and，and优先级高于or，即优先级关系为( )&gt;not&gt;and&gt;or，同一优先级从左往右计算。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print&#96;&#96;(&#96;&#96;3&#96;&#96;&gt;&#96;&#96;4&#96; &#96;or&#96; &#96;4&#96;&#96;&lt;&#96;&#96;3&#96; &#96;and&#96; &#96;1&#96;&#96;&#x3D;&#96;&#96;&#x3D;&#96;&#96;1&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;1&#96; &#96;&lt; &#96;&#96;2&#96; &#96;and&#96; &#96;3&#96; &#96;&lt; &#96;&#96;4&#96; &#96;or&#96; &#96;1&#96;&#96;&gt;&#96;&#96;2&#96; &#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;2&#96; &#96;&gt; &#96;&#96;1&#96; &#96;and&#96; &#96;3&#96; &#96;&lt; &#96;&#96;4&#96; &#96;or&#96; &#96;4&#96; &#96;&gt; &#96;&#96;5&#96; &#96;and&#96; &#96;2&#96; &#96;&lt; &#96;&#96;1&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;1&#96; &#96;&gt; &#96;&#96;2&#96; &#96;and&#96; &#96;3&#96; &#96;&lt; &#96;&#96;4&#96; &#96;or&#96; &#96;4&#96; &#96;&gt; &#96;&#96;5&#96; &#96;and&#96; &#96;2&#96; &#96;&gt; &#96;&#96;1&#96; &#96;or&#96; &#96;9&#96; &#96;&lt; &#96;&#96;8&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;1&#96; &#96;&gt; &#96;&#96;1&#96; &#96;and&#96; &#96;3&#96; &#96;&lt; &#96;&#96;4&#96; &#96;or&#96; &#96;4&#96; &#96;&gt; &#96;&#96;5&#96; &#96;and&#96; &#96;2&#96; &#96;&gt; &#96;&#96;1&#96; &#96;and&#96; &#96;9&#96; &#96;&gt; &#96;&#96;8&#96; &#96;or&#96; &#96;7&#96; &#96;&lt; &#96;&#96;6&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;not&#96; &#96;2&#96; &#96;&gt; &#96;&#96;1&#96; &#96;and&#96; &#96;3&#96; &#96;&lt; &#96;&#96;4&#96; &#96;or&#96; &#96;4&#96; &#96;&gt; &#96;&#96;5&#96; &#96;and&#96; &#96;2&#96; &#96;&gt; &#96;&#96;1&#96; &#96;and&#96; &#96;9&#96; &#96;&gt; &#96;&#96;8&#96; &#96;or&#96; &#96;7&#96; &#96;&lt; &#96;&#96;6&#96;&#96;)&#96; &#96;#输出&#96;&#96;False&#96;&#96;True&#96;&#96;True&#96;&#96;False&#96;&#96;False&#96;&#96;False</span><br></pre></td></tr></table></figure>

<p>2 、 x or y , x为真，值就是x，x为假，值是y；x and y, x为真，值是y,x为假，值是x。</p>
<p>非0转换为布尔值是True，0转换为布尔值是False</p>
<p><img src="https://images2017.cnblogs.com/blog/988316/201709/988316-20170918155316712-501488538.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print&#96;&#96;(&#96;&#96;8&#96; &#96;or&#96; &#96;4&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;0&#96; &#96;and&#96; &#96;3&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;0&#96; &#96;or&#96; &#96;4&#96; &#96;and&#96; &#96;3&#96; &#96;or&#96; &#96;7&#96; &#96;or&#96; &#96;9&#96; &#96;and&#96; &#96;6&#96;&#96;)&#96; &#96;#输出&#96;&#96;8&#96;&#96;0&#96;&#96;3</span><br></pre></td></tr></table></figure>

<h3 id="成员运算"><a href="#成员运算" class="headerlink" title="成员运算"></a>成员运算</h3><p>除了以上的一些运算符之外，Python还支持成员运算符，测试实例中包含了一系列的成员，包括字符串，列表或元组。</p>
<p><img src="https://img2018.cnblogs.com/blog/988316/201810/988316-20181019153207737-1857017047.png" alt="img"></p>
<p>判断子元素是否在原字符串（字典，列表，集合）中：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print&#96;&#96;(&#96;&#96;&#39;喜欢&#39;&#96; &#96;in&#96; &#96;&#39;dkfljadklf喜欢hfjdkas&#39;&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;&#39;a&#39;&#96; &#96;in&#96; &#96;&#39;bcvd&#39;&#96;&#96;)&#96;&#96;print&#96;&#96;(&#96;&#96;&#39;y&#39;&#96; &#96;not&#96; &#96;in&#96; &#96;&#39;ofkjdslaf&#39;&#96;&#96;)&#96; &#96;#输出&#96;&#96;True&#96;&#96;False&#96;&#96;True</span><br></pre></td></tr></table></figure>

<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><p><img src="https://img2018.cnblogs.com/blog/1090817/201906/1090817-20190608001203013-829509705.png" alt="img"></p>
<p>按位取反运算规则(按位取反再加1) 详解<a href="http://blog.csdn.net/wenxinwukui234/article/details/42119265" target="_blank" rel="noopener">http://blog.csdn.net/wenxinwukui234/article/details/42119265</a></p>
<p><strong>运算符优先级</strong></p>
<p>以下表格列出了从最高到最低优先级的所有运算符：</p>
<p><img src="https://img2018.cnblogs.com/blog/1090817/201901/1090817-20190122142152681-1179381657.jpg" alt="img"></p>
<h3 id="———————以下是些具体运算———————"><a href="#———————以下是些具体运算———————" class="headerlink" title="———————以下是些具体运算———————"></a>———————以下是些具体运算———————</h3><h3 id="python运算符基础实例"><a href="#python运算符基础实例" class="headerlink" title="python运算符基础实例"></a>python运算符基础实例</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding&#x3D;utf-8</span><br><span class="line">#两个数字相加</span><br><span class="line">sumNumber&#x3D;1+2</span><br><span class="line">print(sumNumber)      #输出结果：3</span><br><span class="line"> </span><br><span class="line">#两个字符串相加</span><br><span class="line">sumString&#x3D;&quot;Nice work&quot;</span><br><span class="line">print(sumString)      #输出结果：Nice work</span><br><span class="line"> </span><br><span class="line">#两个数字相减</span><br><span class="line">subNumber&#x3D;2-1</span><br><span class="line">print(subNumber)      #输出结果：1</span><br><span class="line"> </span><br><span class="line">#两个数字相乘或者字符串重复</span><br><span class="line">multiplicationNumber&#x3D;2*3</span><br><span class="line">print(multiplicationNumber)      #输出结果：6</span><br><span class="line">multiplicationString&#x3D;&quot;hello&quot;*2</span><br><span class="line">print(multiplicationString)      #输出结果：hellohello</span><br><span class="line">#&#x2F;---关于*号重复字符串之前的博客已经介绍过了---&#x2F;</span><br><span class="line"> </span><br><span class="line">#两个数相除</span><br><span class="line">divisionNumber&#x3D;9&#x2F;2</span><br><span class="line">print(divisionNumber)      #输出结果：4</span><br><span class="line">divisionNumber&#x3D;9.0&#x2F;2</span><br><span class="line">print(divisionNumber)      #输出结果：4.5</span><br><span class="line">divisionNumber&#x3D;9&#x2F;2.0</span><br><span class="line">print(divisionNumber)      #输出结果：4.5</span><br><span class="line">#&#x2F;---除数或被除数中有任意一个是小数的话，商也会保留小数，反之取整---&#x2F;</span><br><span class="line"> </span><br><span class="line">#求幂运算</span><br><span class="line">powerNumber&#x3D;2**3 #相当于2的3次幂，就是2*2*2 关于幂运算大家应该在数学里都很熟悉了</span><br><span class="line">print powerNumber       #输出结果：8</span><br><span class="line"> </span><br><span class="line">#小于符号，返回值是bool值</span><br><span class="line">lessThan&#x3D;1&lt;2</span><br><span class="line">print(lessThan)        #输出结果：True</span><br><span class="line">lessThan&#x3D;1&lt;1</span><br><span class="line">print(lessThan)        #输出结果：False</span><br><span class="line"> </span><br><span class="line">#大于符号，返回值是bool值</span><br><span class="line">moreThan&#x3D;2&gt;1</span><br><span class="line">print(moreThan)        #输出结果：True</span><br><span class="line">moreThan&#x3D;2&gt;2</span><br><span class="line">print(moreThan)        #输出结果：False</span><br><span class="line"> </span><br><span class="line">#不等于符号 返回值是Bool值</span><br><span class="line">notEqual&#x3D;1!&#x3D;2</span><br><span class="line">print(notEqual)        #输出结果：True</span><br><span class="line">notEqual&#x3D;1!&#x3D;1</span><br><span class="line">print(notEqual)        #输出结果：False</span><br><span class="line"> </span><br><span class="line">#除法运算&#x2F;&#x2F; 返回商的整数部分，抛弃余数</span><br><span class="line">divisorNumber&#x3D;10&#x2F;&#x2F;3</span><br><span class="line">print(divisorNumber)        #输出结果：3</span><br><span class="line"> </span><br><span class="line">#除法运算% 返回商的余数部分，抛弃商</span><br><span class="line">divisorNumber&#x3D;10%3</span><br><span class="line">print(divisorNumber)        #输出结果：1</span><br><span class="line">divisorNumber&#x3D;10%1</span><br><span class="line">print(divisorNumber)        #输出结果：0 &#x2F;--没有余数则返回0--&#x2F;</span><br><span class="line">divisorNumberx&#x3D;10&#x2F;&#x2F;3         #divisorNumberx是商的整数部分</span><br><span class="line">divisorNumbery&#x3D;10%3         #divisorNumbery是余数</span><br><span class="line">divisorNumberz&#x3D;3*divisorNumberx+divisorNumbery    #divisorNumberz是除数乘以商的整数部分加上余数，得到的divisorNumberz的值就是被除数</span><br><span class="line">print(divisorNumberz)        #输出结果：10</span><br><span class="line"> </span><br><span class="line">#按位与运算&amp;， 按位与是指一个数字转化为二进制，然后这些二进制的数按位来进行与运算</span><br><span class="line">operationNumber&#x3D;7&amp;18</span><br><span class="line">print operationNumber        #输出结果：2</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">这个有点绕，稍微多说下，如果对二进制不是太熟的朋友，可以打开电脑自带的计算器，按住win+q,输入&quot;calculator&quot;。</span><br><span class="line">然后在打开的计算器设置成程序员模式， 就是View(查看)-&gt;&gt;programmer(程序员).</span><br><span class="line">然后我们将7转为二进制:111,自动补全8位：00000111，然后将18转为二进制补全8位后得到：00010010</span><br><span class="line">最后将   00000111</span><br><span class="line">跟       00010010 按位进行与运算，</span><br><span class="line">&#x2F;-</span><br><span class="line">对与运算不熟的朋友可以看看百度百科的介绍，还是很详细的。</span><br><span class="line">http:&#x2F;&#x2F;baike.baidu.com&#x2F;link?url&#x3D;lfGJREBvGCY5j7VdF2OO9n2mtIbSyNUD7lZyyY74QIetguL5lXIQUxY38Yr-p4z4WdUvHUKGjw9CDfagiun2Ea</span><br><span class="line">-&#x2F;</span><br><span class="line">得到结果：00000010</span><br><span class="line">我们都知道10二进制→十进制&#x3D;2，所以7跟18的按位与的结果是二进制10(十进制2)</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line"> </span><br><span class="line">#按位或运算|， 按位或是指一个数字转化为二进制，然后这些二进制的数按位来进行或运算</span><br><span class="line">operationNumber&#x3D;7|18</span><br><span class="line">print operationNumber        #输出结果：23   #结题思路和按位与运算的一样，可以参考按位与运算</span><br><span class="line"> </span><br><span class="line">#按位异或</span><br><span class="line">operationNumber&#x3D;7^18</span><br><span class="line">print operationNumber        #输出结果：21   #结题思路和按位与运算的一样，可以参考按位与运算</span><br><span class="line"> </span><br><span class="line">#按位翻转 ~   按位翻转公式: ~x&#x3D; - (x+1)</span><br><span class="line">operationNumber&#x3D;~12  #~12&#x3D;- (12+1) &#x3D; -13</span><br><span class="line">print operationNumber        #输出结果：-13   #结题思路和按位与运算的一样，可以参考按位与运算</span><br><span class="line"> </span><br><span class="line">#左移&lt;&lt;</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">比如18左移就是将他的二进制形式00100100左移，得到00100100(36)。</span><br><span class="line">左移规律:左移一个单位相当于乘2，左移两个单位相当于乘以4，左移三个单位相当于乘以8，</span><br><span class="line">即:      左移n个单位相当于乘以2的n次幂</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">operationNumber&#x3D;12&lt;&lt;1</span><br><span class="line">print operationNumber        #输出结果：24</span><br><span class="line">operationNumber&#x3D;3&lt;&lt;3</span><br><span class="line">print operationNumber        #输出结果：24</span><br><span class="line"> </span><br><span class="line">#右移&gt;&gt;</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">理解左移以后，右移就很好理解了。</span><br><span class="line">右移是左移的逆运算，将对应的二进制数向右移动。</span><br><span class="line">右移规律:右移一个单位相当于除以2，右移两个单位相当于除以4，右移三个单位相当于除以8，</span><br><span class="line">即:      右移n个单位相当于除以2的n次幂</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">operationNumber&#x3D;12&gt;&gt;1</span><br><span class="line">print operationNumber        #输出结果：6</span><br><span class="line">operationNumber&#x3D;12&gt;&gt;2</span><br><span class="line">print operationNumber        #输出结果：3</span><br><span class="line"> </span><br><span class="line">#小于等于&lt;&#x3D; 比较运算，小于或等于返回一个bool值</span><br><span class="line">operationNumber&#x3D;3&lt;&#x3D;3</span><br><span class="line">print operationNumber        #输出结果：True</span><br><span class="line">operationNumber&#x3D;3&lt;&#x3D;2</span><br><span class="line">print operationNumber        #输出结果：False</span><br><span class="line"> </span><br><span class="line">#大于等于&gt;&#x3D; 比较运算，大于或等于返回一个bool值</span><br><span class="line">operationNumber&#x3D;2&gt;&#x3D;3</span><br><span class="line">print operationNumber        #输出结果：False</span><br><span class="line">operationNumber&#x3D;3&gt;&#x3D;2</span><br><span class="line">print operationNumber        #输出结果：True</span><br><span class="line"> </span><br><span class="line">#比较两个对象是否相等&#x3D;&#x3D;</span><br><span class="line">operationNumber&#x3D;3&#x3D;&#x3D;2</span><br><span class="line">print operationNumber        #输出结果：False</span><br><span class="line">operationString&#x3D;&quot;hi&quot;&#x3D;&#x3D;&quot;hi&quot;</span><br><span class="line">print operationString        #输出结果：True</span><br><span class="line"> </span><br><span class="line">#逻辑非 not</span><br><span class="line">operationx&#x3D;True</span><br><span class="line">operationy&#x3D;not operationx</span><br><span class="line">print operationy        #输出结果：False</span><br><span class="line">operationz&#x3D;False</span><br><span class="line">print not operationz        #输出结果：True</span><br><span class="line"> </span><br><span class="line">#逻辑与 and</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">True and True &#x3D; True</span><br><span class="line">True and False &#x3D; False</span><br><span class="line">False and True &#x3D; False</span><br><span class="line">False and False &#x3D; False</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">print True and True        #输出结果：True</span><br><span class="line"> </span><br><span class="line">#逻辑或 or</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">True or True &#x3D; True</span><br><span class="line">True or False &#x3D; True</span><br><span class="line">False or True &#x3D; True</span><br><span class="line">False or False &#x3D; False</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">print False or False        #输出结果：False</span><br></pre></td></tr></table></figure>



<p>在一个表达式中可能包含多个有不同运算符连接起来的、具有不同数据类型的数据对象；由于表达式有多种运算，不同的运算顺序可能得出不同结果甚至出现错误运算错误，因为当表达式中含多种运算时，必须按一定顺序进行结合，才能保证运算的合理性和结果的正确性、唯一性。</p>
<p>优先级从上到下依次递减，最上面具有最高的优先级，逗号操作符具有最低的优先级。表达式的结合次序取决于表达式中各种运算符的优先级。优先级高的运算符先结合，优先级低的运算符后结合，同一行中的运算符的优先级相同。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># coding&#x3D;utf-8</span><br><span class="line">#优先级的简单实例</span><br><span class="line">priorityNumber&#x3D;2+1*4</span><br><span class="line">print priorityNumber      #输出结果：6</span><br><span class="line"></span><br><span class="line">#优先级使用实例</span><br><span class="line">#以下优先级排名从高到低，在同一运算中，先执行优先级高的再执行低的，以此类推。</span><br><span class="line"></span><br><span class="line">#Top 1:函数调用、寻址、下标</span><br><span class="line"></span><br><span class="line">#Top 2:幂运算**</span><br><span class="line">priorityNumber&#x3D;2*2**3</span><br><span class="line">print priorityNumber      #输出结果：16</span><br><span class="line"></span><br><span class="line">#Top 3:翻转运算~</span><br><span class="line"></span><br><span class="line">#Top 4:正负号</span><br><span class="line">print 1+2*-3      #输出结果：-5</span><br><span class="line"></span><br><span class="line">#Top 5:*、&#x2F;、%</span><br><span class="line">print 2+1*2&#x2F;5      #输出结果：2</span><br><span class="line"></span><br><span class="line">#Top 6:+、-</span><br><span class="line">print 3&lt;&lt;2+1      #输出结果：24</span><br><span class="line"></span><br><span class="line">#Top 7:&lt;&lt;、&gt;&gt;</span><br><span class="line"></span><br><span class="line">#Top 8:按位&amp;、^、|</span><br><span class="line"></span><br><span class="line">#Top 9:比较运算符</span><br><span class="line">priority&#x3D;2*3+2&lt;&#x3D;2+1*7</span><br><span class="line">print priority      #输出结果：True</span><br><span class="line"></span><br><span class="line">#Top 10:逻辑的not and or</span><br><span class="line"></span><br><span class="line">#Top 11:lambda表达式</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#python优先级使用规律</span><br><span class="line">#1、一般情况下是左结合的</span><br><span class="line">#ps:在没有更高优先级运算符，即只有同级运算符时时从左到右结合</span><br><span class="line">print 1+2+3*5+5      #输出结果：23</span><br><span class="line"></span><br><span class="line">#2、出现赋值的时候一般是右结合</span><br><span class="line">#ps:在有赋值运算符时，是右结合，即先算出1+2的值以后再赋值给priority</span><br><span class="line">priority&#x3D;1+2</span><br><span class="line">print priority       #输出结果：23</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#python运算符优先级大招</span><br><span class="line">&#39;&#39;&#39;比如说有这个需求：</span><br><span class="line">        去商店买水，买3瓶水，每瓶5块，再买一个绿箭(假设绿箭3块)，总共多少钱？</span><br><span class="line">   这个简单的应用非常明显，需要先用乘法再用加法，如果这里你忘记了乘法和加法的优先级，可以这样：</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">print (3*5)+3       #输出结果：18</span><br><span class="line"></span><br><span class="line">#ps: 这只是一个简单的例子，只是为了告诉大家实际应用中实在不行咱就放大招。有备无患。</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python缩进</title>
    <url>/2020/06/13/python%E7%BC%A9%E8%BF%9B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>大家都知道python是一种对缩进非常敏感的语言，对代码格式要求非常严格的，个人遇到的最常见的一些问题如下：</p>
<p>1.不应该使用空格或Tab缩进的地方使用了空格或Tab</p>
<p><img src="https://images2018.cnblogs.com/blog/808761/201808/808761-20180811170918800-1459382788.png" alt="img"></p>
<p>2.不同级别的代码没有缩进</p>
<p><img src="https://images2018.cnblogs.com/blog/808761/201808/808761-20180811172637599-1404952989.png" alt="img"></p>
<p>3.缩进量不对</p>
<p>　3.1代码内全部使用4个空格，某些代码缩进量不是4个空格</p>
<p> 3.2缩进太多(本应4个空格或1个Tab，缩进8个空格或2个Tab)或太少（本应8个空格或2个Tab，缩进4个空格或1个Tab）</p>
<p><img src="https://images2018.cnblogs.com/blog/808761/201808/808761-20180811172853764-1777220274.png" alt="img"></p>
<p>4.Tab和空格的混用—–这个问题最难看出来</p>
<p><img src="https://images2018.cnblogs.com/blog/808761/201808/808761-20180811171439499-1687347907.png" alt="img"></p>
<p>这些错误很难用肉眼辨别。.。</p>
<p>报错信息：IndentationError: unexpected indent；IndentationError: expected an indented block。。。</p>
<p>如果遇到这类报错，就可能是代码里tab和空格缩进的问题，你需要检查下tab和空格了”。 </p>
<p>【解决办法】 </p>
<p>1.检查是否不应该使用空格的地方使用了空格或Tab，检查是否有缩进，缩进量是否对，缩进和空格是否有混用</p>
<p>2.注释有时候也会影响，所以注释的缩进也应引起注意</p>
<p>3.尤其对于缩进和空格是否有混用，可以用文本编辑器Notepad++把当前python脚本的所有空格或Tab字符都显示出来查看。</p>
<p>设置见：</p>
<p>视图 -&gt; 显示符号 -&gt; 显示空格与制表符</p>
<p> <img src="https://images2018.cnblogs.com/blog/808761/201808/808761-20180811171616719-1578726275.png" alt="img"></p>
<p> Tips:</p>
<p>确保代码内统一使用4或4的倍数个空格，或者统一使用Tab键或多个Tab键，如果运行不通过，可以使用Pycharm来运行，报错信息会很清楚的告诉你是哪一行不对。</p>
<p><img src="https://images2018.cnblogs.com/blog/808761/201808/808761-20180811175202363-1408716406.png" alt="img"></p>
<p> Python自带IDLE缩进问题：</p>
<p>Python IDEL整体代码缩进</p>
<p>左缩进 Ctrl + [</p>
<p>右缩进 Ctrl + ]</p>
<p>加注释 Alt + 3</p>
<p>去注释 Alt + 4</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python字典</title>
    <url>/2020/06/13/python%E5%AD%97%E5%85%B8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>字典也是 <a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 提供的一种常用的<a href="http://c.biancheng.net/data_structure/" target="_blank" rel="noopener">数据结构</a>，它用于存放具有映射关系的数据。</p>
<p>比如有份成绩表数据，语文：79，数学：80，英语：92，这组数据看上去像两个列表，但这两个列表的元素之间有一定的关联关系。如果单纯使用两个列表来保存这组数据，则无法记录两组数据之间的关联关系。</p>
<p>为了保存具有映射关系的数据，Python 提供了字典，字典相当于保存了两组数据，其中一组数据是关键数据，被称为 key；另一组数据可通过 key 来访问，被称为 value。形象地看，字典中 key 和 value 的关联关系如图 1 所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190212/2-1Z212152450U3.gif" alt="img"><br>图 1 字典保存的关联数据</p>
<p>由于字典中的 key 是非常关键的数据，而且程序需要通过 key 来访问 value，因此字典中的 key 不允许重复。</p>
<p>程序既可使用花括号语法来创建字典，也可使用 dict() 函数来创建字典。实际上，dict 是一种类型，它就是 Python 中的字典类型。</p>
<p>在使用花括号语法创建字典时，花括号中应包含多个 key-value 对，key 与 value 之间用英文冒号隔开；多个 key-value 对之间用英文逗号隔开。</p>
<p>如下代码示范了使用花括号语法创建字典：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scores &#x3D; &#123;&#39;语文&#39;: 89, &#39;数学&#39;: 92, &#39;英语&#39;: 93&#125;print(scores)# 空的花括号代表空的dictempty_dict &#x3D; &#123;&#125;print(empty_dict)# 使用元组作为dict的keydict2 &#x3D; &#123;(20, 30):&#39;good&#39;, 30:&#39;bad&#39;&#125;print(dict2)</span><br></pre></td></tr></table></figure>

<p>上面程序中第 1 行代码创建了一个简单的 dict，该 dict 的 key 是字符串，value 是整数；第 4 行代码使用花括号创建了一个空的字典；第 7 行代码创建的字典中第一个 key 是元组，第二个 key 是整数值，这都是合法的。</p>
<p>需要指出的是，元组可以作为 dict 的 key，但列表不能作为元组的 key。这是由于 dict 要求 key 必须是不可变类型，但列表是可变类型，因此列表不能作为元组的 key。</p>
<p>在使用 dict() 函数创建字典时，可以传入多个列表或元组参数作为 key-value 对，每个列表或元组将被当成一个 key-value 对，因此这些列表或元组都只能包含两个元素。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vegetables &#x3D; [(&#39;celery&#39;, 1.58), (&#39;brocoli&#39;, 1.29), (&#39;lettuce&#39;, 2.19)]# 创建包含3组key-value对的字典dict3 &#x3D; dict(vegetables)print(dict3) # &#123;&#39;celery&#39;: 1.58, &#39;brocoli&#39;: 1.29, &#39;lettuce&#39;: 2.19&#125;cars &#x3D; [[&#39;BMW&#39;, 8.5], [&#39;BENS&#39;, 8.3], [&#39;AUDI&#39;, 7.9]]# 创建包含3组key-value对的字典dict4 &#x3D; dict(cars)print(dict4) # &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;</span><br></pre></td></tr></table></figure>

<p>如果不为 dict() 函数传入任何参数，则代表创建一个空的字典。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 创建空的字典dict5 &#x3D; dict()print(dict5) # &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>还可通过为 dict 指定关键字参数创建字典，此时字典的 key 不允许使用表达式。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 使用关键字参数来创建字典dict6 &#x3D; dict(spinach &#x3D; 1.39, cabbage &#x3D; 2.59)print(dict6) # &#123;&#39;spinach&#39;: 1.39, &#39;cabbage&#39;: 2.59&#125;</span><br></pre></td></tr></table></figure>

<p>上面粗体字代码在创建字典时，其 key 直接写 spinach、cabbage，不需要将它们放在引号中。</p>
<h2 id="字典的基本用法"><a href="#字典的基本用法" class="headerlink" title="字典的基本用法"></a>字典的基本用法</h2><p>对于初学者而言，应牢记字典包含多个 key-value 对，而 key 是字典的关键数据，因此程序对字典的操作都是基于 key 的。基本操作如下：</p>
<ul>
<li>通过 key 访问 value 。</li>
<li>通过 key 添加 key-value 对。</li>
<li>通过 key 删除 key-value 对。</li>
<li>通过 key 修改 key-value 对。</li>
<li>通过 key 判断指定 key-value 对是否存在。</li>
<li>通过 key 访问 value 使用的也是方括号语法，就像前面介绍的列表和元组一样，只是此时在方括号中放的是 key，而不是列表或元组中的索引。</li>
</ul>
<p>如下代码示范了通过 key 访问 value：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scores &#x3D; &#123;&#39;语文&#39;: 89&#125;# 通过key访问valueprint(scores[&#39;语文&#39;])</span><br></pre></td></tr></table></figure>

<p>如果要为 dict 添加 key-value 对，只需为不存在的 key 赋值即可：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 对不存在的key赋值，就是增加key-value对scores[&#39;数学&#39;] &#x3D; 93scores[92] &#x3D; 5.7print(scores) # &#123;&#39;语文&#39;: 89, &#39;数学&#39;: 93, 92: 5.7&#125;</span><br></pre></td></tr></table></figure>

<p>如果要删除宇典中的 key-value 对，则可使用 del 语句。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 使用del语句删除key-value对del scores[&#39;语文&#39;]del scores[&#39;数学&#39;]print(scores) # &#123;92: 5.7&#125;</span><br></pre></td></tr></table></figure>

<p>如果对 dict 中存在的 key-value 对赋值，新赋的 value 就会覆盖原有的 value，这样即可改变 dict 中的 key-value 对。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;# 对存在的key-value对赋值，改变key-value对cars[&#39;BENS&#39;] &#x3D; 4.3cars[&#39;AUDI&#39;] &#x3D; 3.8print(cars) # &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 4.3, &#39;AUDI&#39;: 3.8&#125;</span><br></pre></td></tr></table></figure>

<p>如果要判断字典是否包含指定的 key，则可以使用 in 或 not in 运算符。需要指出的是，对于 dict 而言，in 或 not in 运算符都是基于 key 来判断的。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 判断cars是否包含名为&#39;AUDI&#39;的keyprint(&#39;AUDI&#39; in cars) # True# 判断cars是否包含名为&#39;PORSCHE&#39;的keyprint(&#39;PORSCHE&#39; in cars) # Falseprint(&#39;LAMBORGHINI&#39; not in cars) # True</span><br></pre></td></tr></table></figure>

<p>通过上面介绍可以看出，字典的 key 是它的关键。换个角度来看，字典的 key 就相当于它的索引，只不过这些索引不一定是整数类型，字典的 key 可以是任意不可变类型。</p>
<p>可以这样说，字典相当于索引是任意不可变类型的列表：而列表则相当于 key 只能是整数的字典。因此，如果程序中要使用的字典的 key 都是整数类型，则可考虑能否换成列表。</p>
<p>此外，还有一点需要指出，列表的索引总是从 0 开始、连续增大的；但字典的索引即使是整数类型，也不需要从 0 开始，而且不需要连续。因此，列表不允许对不存在的索引赋值：但字典则允许直接对不存在的 key 赋值，这样就会为字典增加一个 key-value 对。</p>
<p>列表不允许对不存在的索引赋值，但字典则允许直接对不存在的 key 赋值。</p>
<h2 id="字典的常用方法"><a href="#字典的常用方法" class="headerlink" title="字典的常用方法"></a>字典的常用方法</h2><p>字典由 dict 类代表，因此我们同样可使用 dir(dict) 来查看该类包含哪些方法。在交互式解释器中输入 dir(dict) 命令，将看到如下输出结果：</p>
<p>&gt;&gt;&gt; dir(dict)<br>[‘clear’, ‘copy’, ‘fromkeys’, ‘get’, ‘items’, ‘keys’, ‘pop’, ‘popitem’, ‘setdefault’, ‘update’, ‘values’]<br>&gt;&gt;&gt;</p>
<p>下面介绍 dict 的一些方法。</p>
<h4 id="clear-方法"><a href="#clear-方法" class="headerlink" title="clear()方法"></a>clear()方法</h4><p>clear() 用于清空字典中所有的 key-value 对，对一个字典执行 clear() 方法之后，该字典就会变成一个空字典。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;print(cars) # &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;# 清空cars所有key-value对cars.clear()print(cars) # &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="get-方法"><a href="#get-方法" class="headerlink" title="get()方法"></a>get()方法</h4><p>get() 方法其实就是根据 key 来获取 value，它相当于方括号语法的增强版，当使用方括号语法访问并不存在的 key 时，字典会引发 KeyError 错误；但如果使用 get() 方法访问不存在的 key，该方法会简单地返回 None，不会导致错误。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;# 获取&#39;BMW&#39;对应的valueprint(cars.get(&#39;BMW&#39;)) # 8.5print(cars.get(&#39;PORSCHE&#39;)) # Noneprint(cars[&#39;PORSCHE&#39;]) # KeyError</span><br></pre></td></tr></table></figure>

<h4 id="update-方法"><a href="#update-方法" class="headerlink" title="update()方法"></a>update()方法</h4><p>update() 方法可使用一个字典所包含的 key-value 对来更新己有的字典。在执行 update() 方法时，如果被更新的字典中己包含对应的 key-value 对，那么原 value 会被覆盖；如果被更新的字典中不包含对应的 key-value 对，则该 key-value 对被添加进去。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;cars.update(&#123;&#39;BMW&#39;:4.5, &#39;PORSCHE&#39;: 9.3&#125;)print(cars)</span><br></pre></td></tr></table></figure>

<p>从上面的执行过程可以看出，由于被更新的 dict 中己包含 key 为“AUDI”的 key-value 对，因此更新时该 key-value 对的 value 将被改写；但如果被更新的 dict 中不包含 key 为“PORSCHE”的 key-value 对，那么更新时就会为原字典增加一个 key-value 对。</p>
<h4 id="items-、keys-、values"><a href="#items-、keys-、values" class="headerlink" title="items()、keys()、values()"></a>items()、keys()、values()</h4><p>items()、keys()、values() 分别用于获取字典中的所有 key-value 对、所有 key、所有 value。这三个方法依次返回 dict_items、dict_keys 和 dict_values 对象，Python 不希望用户直接操作这几个方法，但可通过 list() 函数把它们转换成列表。如下代码示范了这三个方法的用法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;# 获取字典所有的key-value对，返回一个dict_items对象ims &#x3D; cars.items()print(type(ims)) # &lt;class &#39;dict_items&#39;&gt;# 将dict_items转换成列表print(list(ims)) # [(&#39;BMW&#39;, 8.5), (&#39;BENS&#39;, 8.3), (&#39;AUDI&#39;, 7.9)]# 访问第2个key-value对print(list(ims)[1]) # (&#39;BENS&#39;, 8.3)# 获取字典所有的key，返回一个dict_keys对象kys &#x3D; cars.keys()print(type(kys)) # &lt;class &#39;dict_keys&#39;&gt;# 将dict_keys转换成列表print(list(kys)) # [&#39;BMW&#39;, &#39;BENS&#39;, &#39;AUDI&#39;]# 访问第2个keyprint(list(kys)[1]) # &#39;BENS&#39;# 获取字典所有的value，返回一个dict_values对象vals &#x3D; cars.values()# 将dict_values转换成列表print(type(vals)) # [8.5, 8.3, 7.9]# 访问第2个valueprint(list(vals)[1]) # 8.3</span><br></pre></td></tr></table></figure>

<p>从上面代码可以看出，程序调用字典的 items()、keys()、values() 方法之后，都需要调用 list() 函数将它们转换为列表，这样即可把这三个方法的返回值转换为列表。</p>
<p>在 Python 2.x 中，items()、keys()、values() 方法的返回值本来就是列表，完全可以不用 list() 函数进行处理。当然，使用 list() 函数处理也行，列表被处理之后依然是列表。</p>
<h4 id="pop方法"><a href="#pop方法" class="headerlink" title="pop方法"></a>pop方法</h4><p>pop() 方法用于获取指定 key 对应的 value，并删除这个 key-value 对。如下方法示范了 pop() 方法的用法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;print(cars.pop(&#39;AUDI&#39;)) # 7.9print(cars) # &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3&#125;</span><br></pre></td></tr></table></figure>

<p>此程序中，第 2 行代码将会获取“AUDI”对应的 value，并删除该 key-value 对。</p>
<h4 id="popitem-方法"><a href="#popitem-方法" class="headerlink" title="popitem()方法"></a>popitem()方法</h4><p>popitem() 方法用于随机弹出字典中的一个 key-value 对。</p>
<p>此处的随机其实是假的，正如列表的 pop() 方法总是弹出列表中最后一个元素，实际上字典的 popitem() 其实也是弹出字典中最后一个 key-value 对。由于字典存储 key-value 对的顺序是不可知的，因此开发者感觉字典的 popitem() 方法是“随机”弹出的，但实际上字典的 popitem() 方法总是弹出底层存储的最后一个 key-value 对。</p>
<p>如下代码示范了 popitem() 方法的用法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;AUDI&#39;: 7.9, &#39;BENS&#39;: 8.3, &#39;BMW&#39;: 8.5&#125;print(cars)# 弹出字典底层存储的最后一个key-value对print(cars.popitem()) # (&#39;AUDI&#39;, 7.9)print(cars) # &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3&#125;</span><br></pre></td></tr></table></figure>

<p>由于实际上 popitem 弹出的就是一个元组，因此程序完全可以通过序列解包的方式用两个变量分别接收 key 和 value。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 将弹出项的key赋值给k、value赋值给vk, v &#x3D; cars.popitem()print(k, v) # BENS 8.3</span><br></pre></td></tr></table></figure>

<h4 id="setdefault-方法"><a href="#setdefault-方法" class="headerlink" title="setdefault()方法"></a>setdefault()方法</h4><p>setdefault() 方法也用于根据 key 来获取对应 value 的值。但该方法有一个额外的功能，即当程序要获取的 key 在字典中不存在时，该方法会先为这个不存在的 key 设置一个默认的 value，然后再返回该 key 对应的 value。</p>
<p>总之，setdefault() 方法总能返回指定 key 对应的 value；如果该 key-value 对存在，则直接返回该 key 对应的 value；如果该 key-value 对不存在，则先为该 key 设置默认的 value，然后再返回该 key 对应的 value。</p>
<p>如下代码示范了 setdefault() 方法的用法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cars &#x3D; &#123;&#39;BMW&#39;: 8.5, &#39;BENS&#39;: 8.3, &#39;AUDI&#39;: 7.9&#125;# 设置默认值，该key在dict中不存在，新增key-value对print(cars.setdefault(&#39;PORSCHE&#39;, 9.2)) # 9.2print(cars)# 设置默认值，该key在dict中存在，不会修改dict内容print(cars.setdefault(&#39;BMW&#39;, 3.4)) # 8.5print(cars)</span><br></pre></td></tr></table></figure>

<h4 id="fromkeys-方法"><a href="#fromkeys-方法" class="headerlink" title="fromkeys()方法"></a>fromkeys()方法</h4><p>fromkeys() 方法使用给定的多个 key 创建字典，这些 key 对应的 value 默认都是 None；也可以额外传入一个参数作为默认的 value。该方法一般不会使用字典对象调用（没什么意义），通常会使用 dict 类直接调用。例如如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 使用列表创建包含2个key的字典a_dict &#x3D; dict.fromkeys([&#39;a&#39;, &#39;b&#39;])print(a_dict) # &#123;&#39;a&#39;: None, &#39;b&#39;: None&#125;# 使用元组创建包含2个key的字典b_dict &#x3D; dict.fromkeys((13, 17))print(b_dict) # &#123;13: None, 17: None&#125;# 使用元组创建包含2个key的字典，指定默认的valuec_dict &#x3D; dict.fromkeys((13, 17), &#39;good&#39;)print(c_dict) # &#123;13: &#39;good&#39;, 17: &#39;good&#39;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用字典格式化字符串"><a href="#使用字典格式化字符串" class="headerlink" title="使用字典格式化字符串"></a>使用字典格式化字符串</h2><p>前面章节介绍过，在格式化字符串时，如果要格式化的字符串模板中包含多个变量，后面就需要按顺序给出多个变量，这种方式对于字符串模板中包含少量变量的情形是合适的，但如果字符串模板中包含大量变量，这种按顺序提供变量的方式则有些不合适。可改为在字符串模板中按 key 指定变量，然后通过字典为字符串模板中的 key 设置值。</p>
<p>例如如下程序：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 字符串模板中使用keytemp &#x3D; &#39;教程是:%(name)s, 价格是:%(price)010.2f, 出版社是:%(publish)s&#39;book &#x3D; &#123;&#39;name&#39;:&#39;Python基础教程&#39;, &#39;price&#39;: 99, &#39;publish&#39;: &#39;C语言中文网&#39;&#125;# 使用字典为字符串模板中的key传入值print(temp % book)book &#x3D; &#123;&#39;name&#39;:&#39;C语言小白变怪兽&#39;, &#39;price&#39;:159, &#39;publish&#39;: &#39;C语言中文网&#39;&#125;# 使用字典为字符串模板中的key传入值print(temp % book)</span><br></pre></td></tr></table></figure>

<p>运行上面程序，可以看到如下输出结果：</p>
<p>教程是:Python基础教程, 价格是:0000099.00, 出版社是:C语言中文网<br>教程是:C语言小白变怪兽, 价格是:0000159.00, 出版社是:C语言中文网</p>
<p><a href="http://c.biancheng.net/view/2212.html" target="_blank" rel="noopener">引用网址</a></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python元组</title>
    <url>/2020/06/13/python%E5%85%83%E7%BB%84/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Python的元组与列表类似，不同之处在于元组的元素不能修改-元组使用小括号"><a href="#Python的元组与列表类似，不同之处在于元组的元素不能修改-元组使用小括号" class="headerlink" title="Python的元组与列表类似，不同之处在于元组的元素不能修改,元组使用小括号,"></a>Python的元组与列表类似，不同之处在于元组的元素不能修改,元组使用小括号,</h3><h3 id="列表使用方括号-元组创建很简单-只需要在括号中添加元素-并使用逗号隔开即可"><a href="#列表使用方括号-元组创建很简单-只需要在括号中添加元素-并使用逗号隔开即可" class="headerlink" title="列表使用方括号,元组创建很简单,只需要在括号中添加元素,并使用逗号隔开即可"></a>列表使用方括号,元组创建很简单,只需要在括号中添加元素,并使用逗号隔开即可</h3><p>*<em>一、创建元组<br>*</em></p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tup1 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;physics&#39;&#96;&#96;, &#96;&#96;&#39;chemistry&#39;&#96;&#96;, &#96;&#96;1997&#96;&#96;, &#96;&#96;2000&#96;&#96;);&#96;&#96;tup2 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;1&#96;&#96;, &#96;&#96;2&#96;&#96;, &#96;&#96;3&#96;&#96;, &#96;&#96;4&#96;&#96;, &#96;&#96;5&#96; &#96;);&#96;&#96;tup3 &#96;&#96;&#x3D;&#96; &#96;&quot;a&quot;&#96;&#96;, &#96;&#96;&quot;b&quot;&#96;&#96;, &#96;&#96;&quot;c&quot;&#96;&#96;, &#96;&#96;&quot;d&quot;&#96;&#96;;</span><br></pre></td></tr></table></figure>

<p>创建空元组</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tup1 &#96;&#96;&#x3D;&#96; &#96;();</span><br></pre></td></tr></table></figure>

<p>元组中只包含一个元素时，需要在元素后面添加逗号来消除歧义</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tup1 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;50&#96;&#96;,);</span><br></pre></td></tr></table></figure>

<p>元组与字符串类似，下标索引从0开始，可以进行截取，组合等。<br><strong>二、访问元组</strong><br>元组可以使用下标索引来访问元组中的值，如下实例:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">代码如下:&#96;&#96;#!&#x2F;usr&#x2F;bin&#x2F;python&#96;&#96; &#96; &#96;tup1 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;physics&#39;&#96;&#96;, &#96;&#96;&#39;chemistry&#39;&#96;&#96;, &#96;&#96;1997&#96;&#96;, &#96;&#96;2000&#96;&#96;);&#96;&#96;tup2 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;1&#96;&#96;, &#96;&#96;2&#96;&#96;, &#96;&#96;3&#96;&#96;, &#96;&#96;4&#96;&#96;, &#96;&#96;5&#96;&#96;, &#96;&#96;6&#96;&#96;, &#96;&#96;7&#96; &#96;);&#96; &#96;print&#96; &#96;&quot;tup1[0]: &quot;&#96;&#96;, tup1[&#96;&#96;0&#96;&#96;]&#96;&#96;print&#96; &#96;&quot;tup2[1:5]: &quot;&#96;&#96;, tup2[&#96;&#96;1&#96;&#96;:&#96;&#96;5&#96;&#96;]&#96;&#96;#以上实例输出结果：&#96;&#96;#tup1[0]: physics&#96;&#96;#tup2[1:5]: [2, 3, 4, 5]</span><br></pre></td></tr></table></figure>

<p><strong>三、修改元组</strong><br>元组中的元素值是不允许修改的，但我们可以对元组进行连接组合，如下实例:</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python&#96;&#96; &#96; &#96;tup1 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;12&#96;&#96;, &#96;&#96;34.56&#96;&#96;);&#96;&#96;tup2 &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;abc&#39;&#96;&#96;, &#96;&#96;&#39;xyz&#39;&#96;&#96;);&#96; &#96;# 以下修改元组元素操作是非法的。&#96;&#96;# tup1[0] &#x3D; 100;&#96; &#96;# 创建一个新的元组&#96;&#96;tup3 &#96;&#96;&#x3D;&#96; &#96;tup1 &#96;&#96;+&#96; &#96;tup2;&#96;&#96;print&#96; &#96;tup3;&#96;&#96;#以上实例输出结果：&#96;&#96;#(12, 34.56, &#39;abc&#39;, &#39;xyz&#39;)</span><br></pre></td></tr></table></figure>

<p>*<em>四、删除元组<br>*</em>元组中的元素值是不允许删除的，但我们可以使用del语句来删除整个元组，如下实例:</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python&#96;&#96; &#96; &#96;tup &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;physics&#39;&#96;&#96;, &#96;&#96;&#39;chemistry&#39;&#96;&#96;, &#96;&#96;1997&#96;&#96;, &#96;&#96;2000&#96;&#96;);&#96; &#96;print&#96; &#96;tup;&#96;&#96;del&#96; &#96;tup;&#96;&#96;print&#96; &#96;&quot;After deleting tup : &quot;&#96;&#96;print&#96; &#96;tup;&#96; &#96;#以上实例元组被删除后，输出变量会有异常信息，输出如下所示：&#96;&#96;#(&#39;physics&#39;, &#39;chemistry&#39;, 1997, 2000)&#96;&#96;#After deleting tup :&#96;&#96;#Traceback (most recent call last):&#96;&#96;# File &quot;test.py&quot;, line 9, in &lt;module&gt;&#96;&#96;#  print tup;&#96;&#96;#NameError: name &#39;tup&#39; is not defined[&#x2F;code]</span><br></pre></td></tr></table></figure>

<p><strong>五、元组运算符</strong><br>与字符串一样，元组之间可以使用 + 号和 * 号进行运算。这就意味着他们可以组合和复制，运算后会生成一个新的元组。</p>
<p><strong>六、元组索引，截取</strong><br>因为元组也是一个序列，所以我们可以访问元组中的指定位置的元素，也可以截取索引中的一段元素，如下所示：<br>元组：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">L &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;spam&#39;&#96;&#96;, &#96;&#96;&#39;Spam&#39;&#96;&#96;, &#96;&#96;&#39;SPAM!&#39;&#96;&#96;)</span><br></pre></td></tr></table></figure>

<p><strong>七、无关闭分隔符</strong><br>任意无符号的对象，以逗号隔开，默认为元组，如下实例：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python&#96;&#96; &#96; &#96;print&#96; &#96;&#39;abc&#39;&#96;&#96;, &#96;&#96;-&#96;&#96;4.24e93&#96;&#96;, &#96;&#96;18&#96;&#96;+&#96;&#96;6.6j&#96;&#96;, &#96;&#96;&#39;xyz&#39;&#96;&#96;;&#96;&#96;x, y &#96;&#96;&#x3D;&#96; &#96;1&#96;&#96;, &#96;&#96;2&#96;&#96;;&#96;&#96;print&#96; &#96;&quot;Value of x , y : &quot;&#96;&#96;, x,y;</span><br></pre></td></tr></table></figure>

<p>以上实例允许结果：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abc &#96;&#96;-&#96;&#96;4.24e&#96;&#96;+&#96;&#96;93&#96; &#96;(&#96;&#96;18&#96;&#96;+&#96;&#96;6.6j&#96;&#96;) xyz&#96;&#96;Value of x , y : &#96;&#96;1&#96; &#96;2</span><br></pre></td></tr></table></figure>

<p><strong>八、元组内置函数</strong><br>Python元组包含了以下内置函数<br>1、cmp(tuple1, tuple2)：比较两个元组元素。<br>2、len(tuple)：计算元组元素个数。<br>3、max(tuple)：返回元组中元素最大值。<br>4、min(tuple)：返回元组中元素最小值。<br>5、tuple(seq)：将列表转换为元组。</p>
<p><strong>九、另一种解读</strong></p>
<p>tuple和list非常类似，但是tuple一旦初始化就不能修改，比如同样是列出同学的名字：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; classmates &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;Michael&#39;&#96;&#96;, &#96;&#96;&#39;Bob&#39;&#96;&#96;, &#96;&#96;&#39;Tracy&#39;&#96;&#96;)</span><br></pre></td></tr></table></figure>

<p>现在，classmates这个tuple不能变了，它也没有append()，insert()这样的方法。其他获取元素的方法和list是一样的，你可以正常地使用classmates[0]，classmates[-1]，但不能赋值成另外的元素。<br>不可变的tuple有什么意义？因为tuple不可变，所以代码更安全。如果可能，能用tuple代替list就尽量用tuple。<br>tuple的陷阱：当你定义一个tuple时，在定义的时候，tuple的元素就必须被确定下来，比如：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;1&#96;&#96;, &#96;&#96;2&#96;&#96;)&#96;&#96;&gt;&gt;&gt; t&#96;&#96;(&#96;&#96;1&#96;&#96;, &#96;&#96;2&#96;&#96;)</span><br></pre></td></tr></table></figure>

<p>如果要定义一个空的tuple，可以写成()：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t &#96;&#96;&#x3D;&#96; &#96;()&#96;&#96;&gt;&gt;&gt; t&#96;&#96;()</span><br></pre></td></tr></table></figure>

<p>但是，要定义一个只有1个元素的tuple，如果你这么定义：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;1&#96;&#96;)&#96;&#96;&gt;&gt;&gt; t&#96;&#96;1</span><br></pre></td></tr></table></figure>

<p>定义的不是tuple，是1这个数！这是因为括号()既可以表示tuple，又可以表示数学公式中的小括号，这就产生了歧义，因此，Python规定，这种情况下，按小括号进行计算，计算结果自然是1。<br>所以，只有1个元素的tuple定义时必须加一个逗号,，来消除歧义：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;1&#96;&#96;,)&#96;&#96;&gt;&gt;&gt; t&#96;&#96;(&#96;&#96;1&#96;&#96;,)</span><br></pre></td></tr></table></figure>

<p>Python在显示只有1个元素的tuple时，也会加一个逗号,，以免你误解成数学计算意义上的括号。</p>
<p>在来看一个“可变的”tuple：</p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t &#96;&#96;&#x3D;&#96; &#96;(&#96;&#96;&#39;a&#39;&#96;&#96;, &#96;&#96;&#39;b&#39;&#96;&#96;, [&#96;&#96;&#39;A&#39;&#96;&#96;, &#96;&#96;&#39;B&#39;&#96;&#96;])&#96;&#96;&gt;&gt;&gt; t[&#96;&#96;2&#96;&#96;][&#96;&#96;0&#96;&#96;] &#96;&#96;&#x3D;&#96; &#96;&#39;X&#39;&#96;&#96;&gt;&gt;&gt; t[&#96;&#96;2&#96;&#96;][&#96;&#96;1&#96;&#96;] &#96;&#96;&#x3D;&#96; &#96;&#39;Y&#39;&#96;&#96;&gt;&gt;&gt; t&#96;&#96;(&#96;&#96;&#39;a&#39;&#96;&#96;, &#96;&#96;&#39;b&#39;&#96;&#96;, [&#96;&#96;&#39;X&#39;&#96;&#96;, &#96;&#96;&#39;Y&#39;&#96;&#96;])</span><br></pre></td></tr></table></figure>

<p>这个tuple定义的时候有3个元素，分别是’a’，’b’和一个list。不是说tuple一旦定义后就不可变了吗？怎么后来又变了？</p>
<p>别急，我们先看看定义的时候tuple包含的3个元素：<br><img src="https://files.jb51.net/file_images/article/201403/2014031116262410.png" alt="tuple-0"><br>当我们把list的元素’A’和’B’修改为’X’和’Y’后，tuple变为：<br><img src="https://files.jb51.net/file_images/article/201403/2014031116262411.png" alt="tuple-1"><br>表面上看，tuple的元素确实变了，但其实变的不是tuple的元素，而是list的元素。tuple一开始指向的list并没有改成别的list，所以，tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向’a’，就不能改成指向’b’，指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的！<br>理解了“指向不变”后，要创建一个内容也不变的tuple怎么做？那就必须保证tuple的每一个元素本身也不能变。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python列表</title>
    <url>/2020/06/13/python%E5%88%97%E8%A1%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>python中有列表、元组、集合、字典这四种可以存放多个数据元素的集合，他们在总体功能上都起着存放数据的作用，却都有着各自的特点。本片文章中我们会对列表的用法做详细说明。</p>
<h2 id="演示环境："><a href="#演示环境：" class="headerlink" title="演示环境："></a>演示环境：</h2><p><strong>python3.6<br>pycharm中的python3.6</strong></p>
<hr>
<h2 id="第一部分：列表（list）："><a href="#第一部分：列表（list）：" class="headerlink" title="第一部分：列表（list）："></a>第一部分：列表（list）：</h2><p><strong>列表（list）用来存储不同的数据类型，使用 [ ]</strong></p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service &#x3D; [&#39;http&#39;,&#39;ssh&#39;,&#39;ftp&#39;]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>后续演示中的service都以上述为基础。<br><img src="https://img-blog.csdnimg.cn/2019070208255337.png" alt="在这里插入图片描述"><br><strong>列表的特性：<br>1.1：索引：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(service[1])    ##输出第二个元素，ssh</span><br><span class="line">print(service[-1])   ##输出最后一个元素，ftp</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702083130670.png" alt="在这里插入图片描述"></p>
<p><strong>1.2：切片：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(service[1:])   ##打印第一个元素之后的内容</span><br><span class="line">print(service[:-1])  ##打印最后一个元素之前的内容</span><br><span class="line">print(service[::-1])  ##倒序输出</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702083333487.png" alt="在这里插入图片描述"></p>
<p><strong>1.3：重复：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(service * 3)   ##输出三遍</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702083528540.png" alt="在这里插入图片描述"></p>
<p><strong>1.4：连接：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service1 &#x3D; [&#39;nfs&#39;,&#39;samba&#39;]</span><br><span class="line">print(service + service1)</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702083637542.png" alt="在这里插入图片描述"></p>
<p><strong>1.5：成员操作赋:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(&#39;nfs&#39; in service)   ##判断是否存在</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702083929891.png" alt="在这里插入图片描述"></p>
<p><strong>1.6：迭代:[for循环遍历]</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in service:</span><br><span class="line">	print(i)       ##遍历输出每个元素</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702084228880.png" alt="在这里插入图片描述"></p>
<p><strong>1.7列表里嵌套列表</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service2 &#x3D; [[&#39;abc&#39;,&#39;def&#39;,&#39;www&#39;],[1,2,3],[&#39;mike&#39;,&#39;tony&#39;,&#39;sun&#39;]]</span><br><span class="line"></span><br><span class="line">对其索引：print(service2[2][1])   ##第三个元素中的第二个元素</span><br><span class="line">对其切片：print(service2[:][1])   ##第二个元素</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702084706592.png" alt="在这里插入图片描述"></p>
<hr>
<p>对以上内容进行一个练习：<br>题目：输入一年中的某一天，判断这一天是这一年的第几天：【输入格式：YYYY-MM-DD】</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> User_input &#x3D; input(&#39;输入：年-月-日&#39;)</span><br><span class="line">Year &#x3D; int(User_input.split(&#39;-&#39;)[0])   ##得到年份</span><br><span class="line">Month &#x3D; int(User_input.split(&#39;-&#39;)[1])  ##得到月份</span><br><span class="line">Day &#x3D; int(User_input.split(&#39;-&#39;)[2])    ##得到天</span><br><span class="line"></span><br><span class="line">li &#x3D; [31,28,31,30,31,30,31,31,30,31,30,31]   ##所有平年各个月份的天数</span><br><span class="line">num &#x3D; 0    ##记录天数</span><br><span class="line">if ((Year % 4 &#x3D;&#x3D; 0) and (Year % 100 !&#x3D; 0) or (Year % 400 &#x3D;&#x3D; 0)):    ##当闰年时：</span><br><span class="line">    li[1] &#x3D; 29   ##将二月的天数改为29</span><br><span class="line">for i in range(12):  ##遍历月份</span><br><span class="line">	if Month &gt; i + 1:   ##i从0开始，假如是5月的某一天，i循环到3停止，经过0-1-2-3四次循环，取4个月份即取1-2-3-4月的所有天</span><br><span class="line">		num +&#x3D; li[i]   ##将1-4月总天数求和</span><br><span class="line">	else:            ##退出if判断后，当下一次循环时，i&#x3D;4，i+1不满足if的条件，进入else，将最后5月的第几天加入总天数中</span><br><span class="line">		num +&#x3D; Day</span><br><span class="line">		break</span><br><span class="line">print(&#39;这一天是%d年的第%d天&#39; %(Year,num))</span><br><span class="line">12345678910111213141516</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702085509368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20190702085515258.png" alt="在这里插入图片描述"></p>
<hr>
<p><strong>列表的增删改查：<br>1.增加：</strong></p>
<p>往列表里增加元素:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.print(service + [&#39;firewalld&#39;])   ##用连接的方式</span><br><span class="line"></span><br><span class="line">2.service.append(&#39;firewalld&#39;)   print(service)    ##append:追加一个元素到列表中</span><br><span class="line"></span><br><span class="line">3.extend:拉伸 追加多个元素到列表中  service.extend([&#39;mysql&#39;,&#39;firewalld&#39;])</span><br><span class="line"></span><br><span class="line">4.service.insert(1,&#39;samba&#39;)  ###在指定索引位置插入元素  ##在第二个元素的位置插入samba作为第二个元素</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702090216248.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>2.删除：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.service.pop()   ##弹出最后一个元素</span><br><span class="line">a &#x3D; service.pop(0)  ##弹出第1个元素  ###可以将其赋值</span><br><span class="line"></span><br><span class="line">2.service.remove(&#39;ssh&#39;) ##指定删除对象的名字  ##直接删除，不能将其赋值   ##不能指定序号，只能指定要删除对象的</span><br><span class="line"></span><br><span class="line">3. del service  ##删除列表</span><br><span class="line"></span><br><span class="line">del service   ##直接删除整个列表</span><br><span class="line">print(service)</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702090528650.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>3.赋值：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.service[0] &#x3D; &#39;mysql&#39;   ##通过索引 重新赋值</span><br><span class="line"></span><br><span class="line">2.service[:2] &#x3D; [&#39;samba&#39;,&#39;iscsi&#39;]  ##通过切片给前两个元素重新赋值</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702090751283.png" alt="在这里插入图片描述"></p>
<p><strong>4.查看：</strong><br>查看出现的次数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service.count(&#39;ssh&#39;)</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>查看指定元素的索引值</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service.index(&#39;iscsi&#39;)    ###最小索引值</span><br><span class="line">service.index(&#39;ssh&#39;,1,3)   ###从1-3中查找【第二个元素和第三个元素之间】【不取上限】</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702090955189.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>5.排序：</strong><br>sort 排序<br><strong>对字符串排序不区分大小写</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">names &#x3D; [&#39;alice&#39;,&#39;Bob&#39;,&#39;coco&#39;,&#39;Harry&#39;]</span><br><span class="line">names.sort()</span><br><span class="line">names      ###按照ASCLL排序   ###先排序首字母为大写的，再排序首字母是小写的</span><br><span class="line"></span><br><span class="line">names.sort(key&#x3D;str.lower)   ###对字符串排序不区分大小写，相当于将所有元素转换为小写，再排序</span><br><span class="line">names.sort(key&#x3D;str.upper)   ###相当于将所有元素转换为大写，再排序</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<p>乱序</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">li &#x3D; list(range(10))   ##生成0-9，将其转换为列表形式</span><br><span class="line">print(li)</span><br><span class="line">import random</span><br><span class="line">random.shuffle(li)   ##随机打乱</span><br><span class="line">print(li)    </span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702091349600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20190702091535992.png" alt="在这里插入图片描述"></p>
<hr>
<p><strong>练习：修改用户登陆系统：用户名和用户密码存放在两个列表里。用admin超级用户登陆后，可以进行添加，删除，查看用户的操作。<br>1.后台管理员admin 密码admin<br>2.管理员才能看到会员信息<br>3.会员信息包含<br>添加会员信息<br>删除会员信息<br>查看会员信息<br>退出</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">inuser &#x3D; input(&#39;UserName: &#39;)</span><br><span class="line">inpasswd &#x3D; input(&#39;Password: &#39;)</span><br><span class="line">users &#x3D; [&#39;root&#39;, &#39;westos&#39;]</span><br><span class="line">passwds &#x3D; [&#39;123&#39;, &#39;456&#39;]</span><br><span class="line"></span><br><span class="line">if inuser &#x3D;&#x3D; &#39;admin&#39; and inpasswd &#x3D;&#x3D; &#39;admin&#39;:</span><br><span class="line">    while True:</span><br><span class="line">        print(&quot;&quot;&quot;</span><br><span class="line">            菜单</span><br><span class="line">        1.添加会员信息</span><br><span class="line">        2.删除会员信息</span><br><span class="line">        3.查看会员信息</span><br><span class="line">        4.退出</span><br><span class="line">        &quot;&quot;&quot;)</span><br><span class="line">        choice &#x3D; input(&#39;请输入选择： &#39;)</span><br><span class="line">        if choice &#x3D;&#x3D; &#39;1&#39;:</span><br><span class="line">            Add_Name &#x3D; input(&#39;要添加的会员名: &#39;)</span><br><span class="line">            Add_Passwd &#x3D; input(&#39;设置会员的密码为： &#39;)</span><br><span class="line">            users &#x3D; users + [Add_Name]</span><br><span class="line">            passwds &#x3D; passwds + [Add_Passwd]</span><br><span class="line">            print(&#39;添加成功！&#39;)</span><br><span class="line"></span><br><span class="line">        elif choice &#x3D;&#x3D; &#39;2&#39;:</span><br><span class="line">            Remove_Name &#x3D; input(&#39;请输入要删除的会员名： &#39;)</span><br><span class="line">            if Remove_Name in users:</span><br><span class="line">                Remove_Passwd &#x3D; input(&#39;请输入该会员的密码： &#39;)</span><br><span class="line">                SuoYinZhi &#x3D; int(users.index(Remove_Name))</span><br><span class="line">                if Remove_Passwd &#x3D;&#x3D; passwds[SuoYinZhi]:</span><br><span class="line">                    users.remove(Remove_Name)</span><br><span class="line">                    passwds.pop(SuoYinZhi)</span><br><span class="line">                    print(&#39;成功删除！&#39;)</span><br><span class="line">                else:</span><br><span class="line">                    print(&#39;用户密码错误,无法验证身份,删除失败&#39;)</span><br><span class="line">            else:</span><br><span class="line">                print(&#39;用户错误！请输入正确的用户名&#39;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        elif choice &#x3D;&#x3D; &#39;3&#39;:</span><br><span class="line">            print(&#39;查看会员信息&#39;.center(50,&#39;*&#39;))</span><br><span class="line">            print(&#39;\t用户名\t密码&#39;)</span><br><span class="line">            usercount &#x3D; len(users)</span><br><span class="line">            for i in range(usercount):</span><br><span class="line">                print(&#39;\t%s\t%s&#39; %(users[i],passwds[i]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        elif choice &#x3D;&#x3D; &#39;4&#39;:</span><br><span class="line">            exit()</span><br><span class="line">        else:</span><br><span class="line">            print(&#39;请输入正确选择！&#39;)</span><br><span class="line">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849</span><br></pre></td></tr></table></figure>

<p>值是简单的列表使用练习，功能不全面，后续待改进。</p>
<hr>
<p>练习二：用python列表实现栈操作：<br>1.入栈<br>2.出栈<br>3.栈顶元素<br>4.栈长度<br>5.栈是否为空</p>
<p>“””<br>功能包括：<br>1.入栈 放到栈顶的位置<br>2.出栈 判断是不是栈顶元素，不是的话将其后元素遍历移除，再移走该元素，再将其他元素加回栈<br>3.栈顶元素 索引<br>4.栈长度 判断个数<br>5.栈是否为空 #栈顶有无元素<br>“””<br>#栈的特点：先进后出</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Zhan &#x3D; []  ##定义栈列表</span><br><span class="line"></span><br><span class="line">t &#x3D; []   ##定义出栈临时栈列表</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">    print(&quot;&quot;&quot;</span><br><span class="line">        菜单</span><br><span class="line">        1.入栈</span><br><span class="line">        2.出栈</span><br><span class="line">        3.查看栈顶元素</span><br><span class="line">        4.查看栈长度</span><br><span class="line">        5.查看栈中元素</span><br><span class="line">        6.退出</span><br><span class="line">&quot;&quot;&quot;)</span><br><span class="line">    choice &#x3D; input(&#39;请输入选择: &#39;)</span><br><span class="line">    if choice &#x3D;&#x3D; &#39;1&#39;:</span><br><span class="line">        Aim_Name &#x3D; input(&#39;请输入要入栈的元素名： &#39;)</span><br><span class="line">        Zhan &#x3D; Zhan+[Aim_Name]</span><br><span class="line">        print(&#39;入栈成功!&#39;)</span><br><span class="line">    elif choice &#x3D;&#x3D; &#39;2&#39;:</span><br><span class="line">        Del_Name &#x3D; input(&#39;请输入要出栈的元素名： &#39;)</span><br><span class="line">        if Del_Name in Zhan:</span><br><span class="line">            Length &#x3D; len(Zhan)</span><br><span class="line">            if Zhan.index(Del_Name) &#x3D;&#x3D; Length-1:   #如果为栈顶元素</span><br><span class="line">                Zhan.pop()</span><br><span class="line">            else:   #不为栈顶元素</span><br><span class="line">                SuoYin &#x3D; Zhan.index(Del_Name)</span><br><span class="line">                for i in range(Length-1-SuoYin):   #将要出栈元素后面的元素先保留</span><br><span class="line">                    t.append(Zhan.pop())    #原栈中最后一个元素变为了第一个，顺序颠倒</span><br><span class="line">                Zhan.pop()   #目标出栈</span><br><span class="line">                Zhan &#x3D; Zhan+t[::-1]  #将目标元素后的其他元素移回栈中</span><br><span class="line">        else:</span><br><span class="line">            print(&#39;栈中没有%s&#39; %Del_Name)</span><br><span class="line"></span><br><span class="line">    elif choice &#x3D;&#x3D; &#39;3&#39;:</span><br><span class="line">        Zhan_Top &#x3D; Zhan[-1]</span><br><span class="line">        print(&#39;栈顶元素为：%s&#39; %Zhan_Top)</span><br><span class="line"></span><br><span class="line">    elif choice &#x3D;&#x3D; &#39;4&#39;:</span><br><span class="line">        Length &#x3D; len(Zhan)</span><br><span class="line">        print(&#39;栈的长度为%s&#39; %Length)</span><br><span class="line"></span><br><span class="line">    elif choice &#x3D;&#x3D; &#39;5&#39;:</span><br><span class="line">        print(Zhan)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    elif choice &#x3D;&#x3D; &#39;6&#39;:</span><br><span class="line">        exit()</span><br><span class="line">    else:</span><br><span class="line">        print(&#39;请输入正确的选项！&#39;)</span><br><span class="line">    print(&#39;\n&#39;)</span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190702092914614.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20190702092921253.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">)<img src="https://img-blog.csdnimg.cn/20190702092928859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RkZHh4eQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<hr>
<p>关于python中列表的基础用法如上所述。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python字符串</title>
    <url>/2020/06/13/python%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> <strong>字符串</strong></p>
<p>字符串就是一系列字符。在Python中，单引号、双引号或者三引号里面的内容就是字符串。如何字符串中包括单引号或者双引号，python使用反斜线（）对字符串中的字符进行转义。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 单引号里面的文本就是字符串</span><br><span class="line"></span><br><span class="line">‘I am a boy’</span><br><span class="line"></span><br><span class="line"># 双引号其实和单引号一样，一般推荐使用单引号</span><br><span class="line"></span><br><span class="line">&quot;人生苦短，我用Python&quot;</span><br><span class="line"></span><br><span class="line"># 三引号表示的字符串，一般表示很长的文字，只要引号没有结束就可以一直写。</span><br><span class="line"></span><br><span class="line"># 一般用来写文本注释</span><br><span class="line"></span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">人生苦短，我用Python</span><br><span class="line">&#39;&#39;&#39;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python浮点数</title>
    <url>/2020/06/13/python%E6%B5%AE%E7%82%B9%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>浮点数</strong></p>
<p>带小数点的数字都是浮点数，也可以进行类型整数的运算，比如加减乘除等。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 加法</span><br><span class="line"></span><br><span class="line">add &#x3D; 0.2 + 0.1</span><br><span class="line"></span><br><span class="line">#Python中,format方法是格式化输出，也就是在&#123;&#125;的地方替换为变量的值。后面项目实战中经常用到</span><br><span class="line"></span><br><span class="line">print(&#39;0.2+0.1的值是&#123;&#125;&#39;.format(add))</span><br><span class="line"></span><br><span class="line">0.2+0.1的值是 0.30000000000000004</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python—整数语句</title>
    <url>/2020/06/13/python%E2%80%94%E6%95%B4%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>整数</strong></p>
<p>整数也就是int类型，在Python中，可以直接对整数进行算数运算</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 加法</span><br><span class="line"></span><br><span class="line">add &#x3D; 3 + 4</span><br><span class="line"></span><br><span class="line"># Python中,format方法是格式化输出，也就是在&#123;&#125;的地方替换为变量的值。后面项目实战中经常用到</span><br><span class="line"></span><br><span class="line">print(&#39;3+4的值是&#123;&#125;&#39;.format(add))</span><br><span class="line"></span><br><span class="line">运行结果为：</span><br><span class="line"></span><br><span class="line">3+4的值是 7</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python—循环语句</title>
    <url>/2020/06/13/python%E2%80%94%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>for循环</strong><br>for i in range（10）：</p>
<p>求阶乘</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#输出</span><br><span class="line">a &#x3D; int(input(&#39;请输入一个值:&#39;))</span><br><span class="line">#阶乘控制单位</span><br><span class="line">total &#x3D; 1</span><br><span class="line">#求阶乘</span><br><span class="line">for i in range(1,a+1,1): ##起始值为1，终止符为a+1，间隔为1求阶乘</span><br><span class="line">    total *&#x3D; i</span><br><span class="line">print(total)</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p>练习求1，2，3，4四个数字可以组成多少个不同的且不重复的三位数字</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">file:求1，2，3，4四个数可以组成多少个不重复且不相同的三位数字并打印</span><br><span class="line">date:2019-6-23 09:46</span><br><span class="line">description:</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">#不相同数字的数目</span><br><span class="line">num &#x3D; 0</span><br><span class="line">#对三位数字取值</span><br><span class="line">for g in range(1,5,1):</span><br><span class="line">    for s in range(1,5,1):</span><br><span class="line">        for b in range(1, 5, 1):</span><br><span class="line">#判断三个数字是否有相同数字，若没有则打印且num自加1</span><br><span class="line">            if(g !&#x3D; s and g !&#x3D; b and b !&#x3D; s ):</span><br><span class="line">                print(&#39;%d%d%d&#39; %(b,s,g))</span><br><span class="line">                num +&#x3D; 1</span><br><span class="line">#输出有多少个不重复数字</span><br><span class="line">print(&#39;共%d个不重复且不相同的数字&#39; %(num))</span><br><span class="line">1234567891011121314151617</span><br><span class="line">在这里插入代码片</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>跳出循环</strong><br>break：跳出循环<br>continue：continue后的程序不执行，但后续循化会继续执行<br>exit：终止程序运行（exit为函数）</p>
<p>for循环实现用户登录</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">1.输入用户和密码</span><br><span class="line">2.判断是否正确(name &#x3D; &#39;root&#39;,passwd &#x3D; &#39;westos&#39;)</span><br><span class="line">3.登陆仅有三次机会，超过三次则报错</span><br><span class="line"></span><br><span class="line">for循环实现用户登录</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">for i in range(3):</span><br><span class="line">    name &#x3D; input(&#39;用户名:&#39;)</span><br><span class="line">    passwd &#x3D; input(&#39;密码:&#39;)</span><br><span class="line">    if ((name &#x3D;&#x3D; &#39;root&#39;) and (passwd &#x3D;&#x3D; &#39;westos&#39;)):</span><br><span class="line">        print(&#39;登陆成功&#39;)</span><br><span class="line">        break</span><br><span class="line">    else:</span><br><span class="line">        print(&#39;登陆失败&#39;)</span><br><span class="line">        print(&#39;您还有%d次机会&#39; %(2-i))</span><br><span class="line"></span><br><span class="line">else:</span><br><span class="line">    print(&#39;失败超过三次，请稍后再试&#39;)</span><br><span class="line">12345678910111213141516171819</span><br></pre></td></tr></table></figure>

<p>简单实现shell命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import os</span><br><span class="line">for i in range(1000):</span><br><span class="line">    cmd &#x3D; input(&#39;[root@python ~]&#39;)</span><br><span class="line">    if cmd:</span><br><span class="line">        if cmd &#x3D;&#x3D; &#39;exit&#39;:</span><br><span class="line">            print(&#39;logout&#39;)</span><br><span class="line">        else:</span><br><span class="line">            os.system(cmd)</span><br><span class="line">    else:</span><br><span class="line">        continue</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>

<p>求最大公约数与最小公倍数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; int(input(&#39;输入第一个数:&#39;))</span><br><span class="line">b &#x3D; int(input(&#39;输入第二个数:&#39;))</span><br><span class="line">small &#x3D; min(a,b)</span><br><span class="line">big &#x3D; max(a,b)</span><br><span class="line">sum &#x3D; 1</span><br><span class="line">for i in range(1,small+1):</span><br><span class="line">    if (a % i &#x3D;&#x3D; 0) and (b % i &#x3D;&#x3D; 0):</span><br><span class="line">        sum &#x3D; 1 * i</span><br><span class="line">    continue</span><br><span class="line"></span><br><span class="line">print(&#39;最大公约数为:%d&#39; %(sum))</span><br><span class="line">print(&#39;最小公倍数为%d&#39; %(a*b&#x2F;sum))</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>

<p><strong>while</strong><br>while 条件：<br>条件满足时，做的事情<br>条件满足时，做的事情<br>…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eg:</span><br><span class="line">#1.定义计数器</span><br><span class="line">i &#x3D; 0</span><br><span class="line">#2.条件判断</span><br><span class="line">while i &lt; 3:</span><br><span class="line">	#3.处理计数器</span><br><span class="line">    i &#x3D; i + 1</span><br><span class="line">    print(&quot;%d&quot; %(i))</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p>while实现for循环编辑的简易用户登录</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">i &#x3D; 0</span><br><span class="line">while i &lt;&#x3D; 2:</span><br><span class="line">    name &#x3D; input(&#39;用户名:&#39;)</span><br><span class="line">    passwd &#x3D; input(&#39;密码:&#39;)</span><br><span class="line">    if ((name &#x3D;&#x3D; &#39;root&#39;) and (passwd &#x3D;&#x3D; &#39;westos&#39;)):</span><br><span class="line">        print(&#39;登陆成功&#39;)</span><br><span class="line">        break</span><br><span class="line">    else:</span><br><span class="line">        print(&#39;登陆失败&#39;)</span><br><span class="line">        print(&#39;您还有%d次机会&#39; %(2-i))</span><br><span class="line">        i &#x3D; i + 1</span><br><span class="line">else:</span><br><span class="line">    print(&#39;失败超过三次，请稍后再试&#39;)</span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<p><strong>while打印四种直角三角形</strong><br>第一行输出1颗星，每行依次加一颗星，直至第五行<br>第一种</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  row &#x3D; 1</span><br><span class="line"></span><br><span class="line">while row &lt;&#x3D; 5:</span><br><span class="line">    col &#x3D; 1</span><br><span class="line">    while col &lt;&#x3D; row:</span><br><span class="line">        print(&#39;*&#39;,end&#x3D;&#39;&#39;)</span><br><span class="line">        col +&#x3D; 1</span><br><span class="line">    print(&#39;&#39;)</span><br><span class="line">    row +&#x3D; 1</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190623113952321.png" alt="在这里插入图片描述"><br>第二种<br>倒序输出上题条件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">row &#x3D; 1</span><br><span class="line"></span><br><span class="line">while row &lt;&#x3D; 5:</span><br><span class="line">    col &#x3D; 5</span><br><span class="line">    while col &gt;&#x3D; row:</span><br><span class="line">        print(&#39;*&#39;,end&#x3D;&#39;&#39;)</span><br><span class="line">        col -&#x3D; 1</span><br><span class="line">    print(&#39;&#39;)</span><br><span class="line">    row +&#x3D; 1</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p>第三种<br><img src="https://img-blog.csdnimg.cn/20190623114615978.png" alt="在这里插入图片描述"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">row &#x3D; 1</span><br><span class="line">while row &lt;&#x3D; 5:</span><br><span class="line">    col &#x3D; 1</span><br><span class="line">    while col &lt; row:</span><br><span class="line">        print(&#39; &#39;,end&#x3D;&#39;&#39;)</span><br><span class="line">        col +&#x3D; 1</span><br><span class="line">    while col &gt;&#x3D; row and col &lt;&#x3D; 5:</span><br><span class="line">        print(&#39;*&#39;,end&#x3D;&#39;&#39;)</span><br><span class="line">        col +&#x3D; 1</span><br><span class="line">    print(&#39;&#39;)</span><br><span class="line">    row +&#x3D; 1</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190623132519565.png" alt="在这里插入图片描述"><br>第四种</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">row &#x3D; 1</span><br><span class="line">while row &lt;&#x3D; 5:</span><br><span class="line">    col &#x3D; 1</span><br><span class="line">    while col &lt;&#x3D; (5 - row):</span><br><span class="line">        print(&#39; &#39;,end&#x3D;&#39;&#39;)</span><br><span class="line">        col +&#x3D; 1</span><br><span class="line">    while (col &gt;(5-row) and col &lt;&#x3D;5):</span><br><span class="line">        print(&#39;*&#39;,end&#x3D;&#39;&#39;)</span><br><span class="line">        col +&#x3D; 1</span><br><span class="line">    print(&#39;&#39;)</span><br><span class="line">    row +&#x3D; 1</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190623133718870.png" alt="在这里插入图片描述"><br>打印乘法口诀表</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">row &#x3D; 1</span><br><span class="line">while row &lt;&#x3D; 9:</span><br><span class="line">    col &#x3D; 1</span><br><span class="line">    while col &lt;&#x3D; row:</span><br><span class="line">        print(&#39;%d * %d &#x3D; %d &#39; %(col,row,col*row),end&#x3D;&#39;&#39;)</span><br><span class="line">        col +&#x3D; 1</span><br><span class="line">    print(&#39;&#39;)</span><br><span class="line">    row +&#x3D; 1</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p>猜数字游戏<br>1.电脑随即输入1～100中的某个数字<br>2.玩家输入数字若正确则输出“congratulation”<br>3.若数字太大则提示“too big“<br>4.若数字太小则提示“too small”<br>5.共有五次机会</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import random</span><br><span class="line">num &#x3D; 0</span><br><span class="line">c &#x3D; int(random.randint(1, 100))</span><br><span class="line">while True and num &lt;&#x3D;4 :</span><br><span class="line">    print(&#39;您还有%d次机会&#39; % (5 - num))</span><br><span class="line">    i &#x3D; int(input(&#39;请输入数字:&#39;))</span><br><span class="line">    if i &#x3D;&#x3D; c:</span><br><span class="line">        print(&#39;congratulation&#39;)</span><br><span class="line">        break</span><br><span class="line">    elif i &gt; c:</span><br><span class="line">        print(&#39;too big&#39;)</span><br><span class="line">        num +&#x3D; 1</span><br><span class="line">    else:</span><br><span class="line">        print(&#39;too small&#39;)</span><br><span class="line">        num +&#x3D; 1</span><br><span class="line">if num &#x3D;&#x3D; 5:</span><br><span class="line">    print(&#39;数字为%d,你猜错啦&#39; %(c))</span><br><span class="line"></span><br><span class="line">123456789101112131415161718</span><br></pre></td></tr></table></figure>

<p><strong>字符串定义</strong><br>定义：<br>a = ‘hello’<br>b = “westos”<br>c = ‘let’s go’<br>d = “let’s go”<br>e = “””<br>1.打印<br>2.复制<br>3.copy<br>“””<br><strong>字符串特性</strong><br>###索引<br>#s = ‘hello’<br>#print(s[0])<br>#print(s[1])<br>#print(s[2])<br><img src="https://img-blog.csdnimg.cn/20190623151544109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRvd3N3b3JsZA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>###切片<br>#print(s[0:3])##输出1到第三个字符<br>#print(s[:3])<br>#print(s[0:4:2]) #s[start🔚step],从start开始，从end-1结束，补偿为step<br>#print(s[:])#打印全部字符串<br>#print(s[::-1])#反向输出字符串<br>#print(s[1:])#输出第二个到最后一个字符<br>#print(s[:-1])#除了最后一个字符都输出<br>#print(s[-1]) #只输出最后一个字符</p>
<p>#重复<br>#print(s * 5)<br>a = ‘hello’<br>hello hello hello hello hello</p>
<p>#连接<br>print(‘hello’+‘world’)<br>helloworld<br><strong>判断大小写与大小写转换和文件查找</strong><br>判断输出都为True与False<br>print(‘hello’.istitle()) ##判断hello是否为题目，首字母大写<br>print(‘hello’.isupper()) 判断hello是否为全大写<br>print(‘heLLo’.islower()) 判断heLLo是否为全小写</p>
<p>#大小写转换<br>print(‘hello’.upper()) 转换hello为大写<br>print(‘heLLo’.lower()) 转换heLLo为小写</p>
<p>#判断文件类型是否以.log结尾<br>filename = ‘hello.log’<br>if filename.endswith(’.log’):<br>print(filename)<br>else:<br>print(‘error’)<br><img src="https://img-blog.csdnimg.cn/20190623152608819.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRvd3N3b3JsZA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>a = ’ hello ’<br>b = ‘hello’<br>print(a)<br>print(a.strip())##去除两边的空格<br>print(a.lstrip())##去除左边的空格<br>print(a.rstrip())##去除右边的空格<br>print(b.lstrip(‘h’))##去除左边的h</p>
<p><img src="https://img-blog.csdnimg.cn/2019062315352289.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRvd3N3b3JsZA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>字符串的搜索和替换</strong><br>s = ‘hello world hello’<br>#find找到子串并返回最小的索引<br>print(s.find(‘hello’))<br>print(s.find(‘world’))<br>#find找到子串并返回最大的索引<br>print(s.rfind(‘hello’))<br>print(s.rfind(‘world’))</p>
<p>#字符串统计<br>print(s.count(‘l’))<br>print(s.count(“l”))</p>
<p>#字符串替换<br>print(s.replace(’ ‘,’ westos’)) 把‘ ’替换为westos</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; input(&#39;输入一串字符:&#39;)</span><br><span class="line">b &#x3D; input(&#39;输入另一串字符:&#39;)</span><br><span class="line">for i in b[:]:</span><br><span class="line">        a &#x3D; a.replace(i,&#39;&#39;)</span><br><span class="line">print(a)</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190623171305669.png" alt="在这里插入图片描述"></p>
<p>#字符串的分离和连接<br>s = ‘172.25.254.142’<br>s1 = s.split(’.’) #以点为分割符号切割s并将其赋值给s1<br>print(s1)<br>s2 = (s1[::-1]) # 将s1倒序赋值给s2<br>print(s1[::-1])<br>date = ‘2019-06-23’<br>date1 = date.split(’-’)<br>print(date1)</p>
<p>#连接<br>print(’-’.join(date1))<br>print(’.’.join(s2))</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python注释</title>
    <url>/2020/06/13/Python%E6%B3%A8%E9%87%8A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1、单行注释（行注释）"><a href="#1、单行注释（行注释）" class="headerlink" title="1、单行注释（行注释）"></a>1、单行注释（行注释）</h4><p><code>Python</code>中使用<code>#</code>表示单行注释。单行注释可以作为单独的一行放在被注释代码行<code>之上</code>，也可以放在语句或表达式<code>之后</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 这是单行注释</span></span><br></pre></td></tr></table></figure>

<ul>
<li>当单行注释作为单独的一行放在被注释代码行<code>之上</code>时，为了保证代码的可读性，建议在<code>#</code>后面添加<code>一个空格</code>，再添加<code>注释内容</code>。</li>
<li>当单行注释放在语句或表达式<code>之后</code>时，同样为了保证代码的可读性，建议<code>注释</code>和<code>语句</code>（或<code>注释</code>和<code>表达式</code>）之间<code>至少</code>要有<code>两个空格</code>。</li>
</ul>
<h4 id="2、多行注释（块注释）"><a href="#2、多行注释（块注释）" class="headerlink" title="2、多行注释（块注释）"></a>2、多行注释（块注释）</h4><p>当注释内容过多，导致<code>一行无法显示</code>时，就可以使用多行注释。<code>Python</code>中使用<code>三个单引号</code>或<code>三个双引号</code>表示多行注释。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">这是使用三个单引号的多行注释</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">这是使用三个双引号的多行注释</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<h4 id="3、注意"><a href="#3、注意" class="headerlink" title="3、注意"></a>3、注意</h4><ul>
<li><code>注释不是越多越好</code>。对于一目了然的代码，不需要添加注释。</li>
<li>对于<code>复杂的操作</code>，应该在操作<code>开始前</code>写上相应的注释。</li>
<li>对于<code>不是一目了然的代码</code>，应该在代码<code>之后</code>添加注释。</li>
<li>绝对<code>不要描述代码</code>。一般阅读代码的人都了解<code>Python</code>的语法，只是<code>不知道代码要干什么</code>。</li>
</ul>
<h4 id="4、关于代码规范"><a href="#4、关于代码规范" class="headerlink" title="4、关于代码规范"></a>4、关于代码规范</h4><p><code>Python</code>官方提供有一系列<code>PEP</code>文档，其中第<code>8</code>篇文档专门针对<code>Python</code>的<code>代码格式</code>给出了建议，也就是俗称的<code>PEP 8</code>。<a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noopener">PEP 8文档地址</a>。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python——print()函数</title>
    <url>/2020/06/13/Python%E2%80%94%E2%80%94print()%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>python版本：python3.5.1 ; IDE：pycharm2017.2</strong></p>
<p><strong>目录</strong></p>
<p><a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#一.print()函数概述" target="_blank" rel="noopener">一、print()函数概述</a></p>
<p><a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#二、变量的输出" target="_blank" rel="noopener">二、变量的输出</a></p>
<p><a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#三、数据的格式化输出" target="_blank" rel="noopener">三、数据的格式化输出</a></p>
<p>[3.1 %字符](<a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#3.1" target="_blank" rel="noopener">https://blog.csdn.net/sinat_28576553/article/details/81154912#3.1</a> %字符)</p>
<p>[3.2 最小字段宽度和精度](<a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#3.2" target="_blank" rel="noopener">https://blog.csdn.net/sinat_28576553/article/details/81154912#3.2</a> 最小字段宽度和精度)</p>
<p>[3.3 转换标志](<a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#3.3" target="_blank" rel="noopener">https://blog.csdn.net/sinat_28576553/article/details/81154912#3.3</a> 转换标志)</p>
<p>[3.4 格式字符归纳](<a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#" target="_blank" rel="noopener">https://blog.csdn.net/sinat_28576553/article/details/81154912#</a> 3.4 格式字符归纳)</p>
<p><a href="https://blog.csdn.net/sinat_28576553/article/details/81154912#四、换行与防止换行" target="_blank" rel="noopener">四、换行与防止换行</a></p>
<hr>
<h1 id="一、print-函数概述"><a href="#一、print-函数概述" class="headerlink" title="一、print()函数概述"></a><strong>一、print()函数概述</strong></h1><p><strong>print()</strong> 方法用于打印输出，是python中最常见的一个函数。</p>
<p>该函数的语法如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(*objects, sep=<span class="string">' '</span>, end=<span class="string">'\n'</span>, file=sys.stdout)</span><br></pre></td></tr></table></figure>

<p>参数的具体含义如下：</p>
<p>objects –表示输出的对象。输出多个对象时，需要用 , （逗号）分隔。</p>
<p>sep – 用来间隔多个对象。</p>
<p>end – 用来设定以什么结尾。默认值是换行符 \n，我们可以换成其他字符。</p>
<p>file – 要写入的文件对象。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="number">1</span>)  <span class="comment">#数值类型可以直接输出</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">运行结果如下</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"Hello World"</span>)  <span class="comment">#字符串类型可以直接输出</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">运行结果如下：</span></span><br><span class="line"><span class="string">Hello World</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b=<span class="string">"Hello World"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(a, b)  <span class="comment">#可以一次输出多个对象，对象之间用逗号分隔</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">运行结果如下：</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1 Hello World</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果直接输出字符串，而不是用对象表示的话，可以不使用逗号</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"Duan"</span><span class="string">"Yixuan"</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"Duan"</span>,<span class="string">"Yixuan"</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">运行结果如下：</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">DuanYixuan</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Duan Yixuan</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">可知，不添加逗号分隔符，字符串之间没有间隔</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">"www"</span>, <span class="string">"snh48"</span>, <span class="string">"com"</span>, sep=<span class="string">"."</span>)  <span class="comment"># 设置间隔符</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">运行结果如下：</span></span><br><span class="line"><span class="string">www.snh48.com</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<h1 id="二、变量的输出"><a href="#二、变量的输出" class="headerlink" title="二、变量的输出"></a>二、变量的输出</h1><p>无论什么类型的数据，包括但不局限于：数值型，布尔型，列表变量，字典变量…都可以直接输出。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#例如：</span></span><br><span class="line"></span><br><span class="line">num = <span class="number">19</span></span><br><span class="line"></span><br><span class="line">print(num)    <span class="comment">#19  输出数值型变量</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">'Duan Yixuan'</span></span><br><span class="line"></span><br><span class="line">print(str)  <span class="comment">#Duan Yixuan  输出字符串变量</span></span><br><span class="line"></span><br><span class="line">list = [<span class="number">1</span>,<span class="number">2</span>,<span class="string">'a'</span>]</span><br><span class="line"></span><br><span class="line">print(list)   <span class="comment">#[1, 2, 'a']  输出列表变量</span></span><br><span class="line"></span><br><span class="line">tuple = (<span class="number">1</span>,<span class="number">2</span>,<span class="string">'a'</span>)</span><br><span class="line"></span><br><span class="line">print(tuple)    <span class="comment">#(1, 2, 'a') 输出元组变量</span></span><br><span class="line"></span><br><span class="line">dict = &#123;<span class="string">'a'</span>:<span class="number">1</span>, <span class="string">'b'</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line">print(dict)   <span class="comment"># &#123;'a': 1, 'b': 2&#125; 输出字典变量</span></span><br></pre></td></tr></table></figure>

<h1 id="三、数据的格式化输出"><a href="#三、数据的格式化输出" class="headerlink" title="三、数据的格式化输出"></a>三、数据的格式化输出</h1><p>在C语言中，我们可以使用printf(“%-.4f”,a)之类的形式，实现数据的的格式化输出。</p>
<p>在python中，我们同样可以实现数据的格式化输出。我们可以先看一个简单的例子：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s=<span class="string">'Duan Yixuan'</span></span><br><span class="line"></span><br><span class="line">x=len(s)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'The length of %s is %d'</span> %(s,x))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'The length of %s is %d' 这部分叫做：格式控制符</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">(s,x) 这部分叫做：转换说明符</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">% 字符，表示标记转换说明符的开始</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">输出如下：</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The length of Duan Yixuan is 11</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<p>和C语言的区别在于，Python中格式控制符和转换说明符用%分隔，C语言中用逗号。</p>
<p>接下来我们仔细探讨一下格式化输出</p>
<h2 id="3-1-字符"><a href="#3-1-字符" class="headerlink" title="3.1 %字符"></a>3.1 %字符</h2><p>(1).%字符：标记转换说明符的开始。</p>
<p>%字符的用法可参考上例，不再赘述。</p>
<h2 id="3-2-最小字段宽度和精度"><a href="#3-2-最小字段宽度和精度" class="headerlink" title="3.2 最小字段宽度和精度"></a>3.2 最小字段宽度和精度</h2><p>最小字段宽度：转换后的字符串至少应该具有该值指定的宽度。如果是*（星号），则宽度会从值元组中读出。</p>
<p>点(.)后跟精度值：如果需要输出实数，精度值表示出现在小数点后的位数。如果需要输出字符串，那么该数字就表示最大字段宽度。如果是*，那么精度将从元组中读出。</p>
<p>可参考C语言的实现方式。</p>
<p><strong>注：字段宽度中，小数点也占一位。</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">PI = <span class="number">3.141592653</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%10.3f'</span>%PI)  <span class="comment">#字段宽10，精度3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#     3.142</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#精度为3，所以只显示142，指定宽度为10，所以在左边需要补充5个空格，以达到10位的宽度</span></span><br><span class="line"></span><br><span class="line">PI=<span class="number">3.1415926</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"PI=%.*f"</span>%(<span class="number">3</span>,PI))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#用*从后面的元组中读取字段宽度或精度,可以读取出来精度是3位</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#PI=3.142 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#没有指定宽度，所以不需要缩进</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">"PI=%*.3f"</span>%(<span class="number">10</span>,PI))   <span class="comment">#精度为3，总长为10.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PI=     3.142</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#* 所处的位置不同，读取的内容也不同</span></span><br></pre></td></tr></table></figure>

<h2 id="3-3-转换标志"><a href="#3-3-转换标志" class="headerlink" title="3.3 转换标志"></a>3.3 转换标志</h2><p>转换标志：-表示左对齐；+表示在数值前要加上正负号；” “(空白字符)表示正数之前保留空格()；0表示转换值若位数不够则用0填充。</p>
<p>具体的我们可以看一下例子：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">PI=<span class="number">3.1415926</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%-10.3f'</span> %PI)  <span class="comment">#左对齐，还是10个字符，但空格显示在右边。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3.142</span></span><br><span class="line">PI=<span class="number">3.1415926</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%+f'</span> % PI)  <span class="comment">#显示正负号  #+3.141593</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类型f的默认精度为6位小数。</span></span><br><span class="line">PI=<span class="number">3.1415926</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%010.3f'</span>%PI) <span class="comment">#字段宽度为10，精度为3，不足处用0填充空白</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#000003.142   0表示转换值若位数不够则用0填充</span></span><br></pre></td></tr></table></figure>

<h2 id="3-4-格式字符归纳"><a href="#3-4-格式字符归纳" class="headerlink" title="3.4 格式字符归纳"></a>3.4 格式字符归纳</h2><p>格式字符  说明                 格式字符   说明</p>
<p>%s 字符串采用str()的显示         %x 十六进制整数</p>
<p>%r 字符串(repr())的显示          %e 指数（基底写e）</p>
<p>%c 单个字符                   %E  指数（基底写E）</p>
<p>%b 二进制整数                  %f,%F   浮点数</p>
<p>%d 十进制整数                  %g  指数(e)或浮点数(根据显示长度)</p>
<p>%i 十进制整数                  %G 指数(E)或浮点数(根据显示长度)</p>
<p>%o 八进制整数                   %% 字符%</p>
<h1 id="四、换行与防止换行"><a href="#四、换行与防止换行" class="headerlink" title="四、换行与防止换行"></a>四、换行与防止换行</h1><p>在python中，输出函数总是默认换行，比如说：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<p>而显然，这种输出太占“空间”，我们可以进行如下改造：</p>
<p>参考文本第一部分对end参数的描述：<em>end – 用来设定以什么结尾。默认值是换行符 \n，我们可以换成其他字符。</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#0 1 2 3 4 </span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#0,1,2,3,4,</span></span><br></pre></td></tr></table></figure>

<p>但如果，我们同时运行上面两段代码，结果会如下所示，可知：我们需要在两次输出间，实现换行。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#0 1 2 3 4 0,1,2,3,4,</span></span><br></pre></td></tr></table></figure>

<p>我们比较以下几种方式</p>
<p><strong>方式一：</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'\n'</span>)  </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">0 1 2 3 4 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">0,1,2,3,4,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<p>之所以出现上面这种情况，是因为print()本身就是默认换行的，再加上换行符，相当于换行两次。</p>
<p><strong>方式二：</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line">print()  <span class="comment">#本身自带换行，完美输出</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line"></span><br><span class="line">    print(x, end=<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">0 1 2 3 4 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">0,1,2,3,4,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>最全的Markdown语法汇总在这里</title>
    <url>/2020/05/30/%E6%9C%80%E5%85%A8%E7%9A%84Markdown%E8%AF%AD%E6%B3%95%E6%B1%87%E6%80%BB%E5%9C%A8%E8%BF%99%E9%87%8C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Markdown-语法汇总精要"><a href="#Markdown-语法汇总精要" class="headerlink" title="Markdown 语法汇总精要"></a>Markdown 语法汇总精要</h1><h3 id="1-斜体和粗体"><a href="#1-斜体和粗体" class="headerlink" title="1. 斜体和粗体"></a>1. 斜体和粗体</h3><p>使用 * 和 ** 表示斜体和粗体。</p>
<p>示例：</p>
<p>这是 <em>斜体</em>，这是 <strong>粗体</strong>。</p>
<h3 id="2-分级标题"><a href="#2-分级标题" class="headerlink" title="2. 分级标题"></a>2. 分级标题</h3><p>使用 === 表示一级标题，使用 — 表示二级标题。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">这是一个一级标题</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">这是一个二级标题</span><br><span class="line">--------------------------------------------------</span><br><span class="line"></span><br><span class="line">### 这是一个三级标题</span><br></pre></td></tr></table></figure>

<p>你也可以选择在行首加井号表示不同级别的标题 (H1-H6)，例如：# H1, ## H2, ### H3，#### H4。</p>
<h3 id="3-外链接"><a href="#3-外链接" class="headerlink" title="3. 外链接"></a>3. 外链接</h3><p>使用 <a href="链接地址">描述</a> 为文字增加外链接。</p>
<p>示例代码：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">这是去往 [<span class="string">本人github</span>](<span class="link">https://github.com/GW-Lazybones/Lazybones.github.io</span>) 的链接。</span><br></pre></td></tr></table></figure>

<p>效果：<br>这是去往 <a href="https://github.com/GW-Lazybones/Lazybones.github.io" target="_blank" rel="noopener">本人github</a> 的链接。</p>
<h3 id="4-无序列表"><a href="#4-无序列表" class="headerlink" title="4. 无序列表"></a>4. 无序列表</h3><p>使用 *，+，- 表示无序列表。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- 无序列表项 一</span><br><span class="line">- 无序列表项 二</span><br><span class="line">- 无序列表项 三</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li>无序列表项 一</li>
<li>无序列表项 二</li>
<li>无序列表项 三</li>
</ul>
<h3 id="5-有序列表"><a href="#5-有序列表" class="headerlink" title="5. 有序列表"></a>5. 有序列表</h3><p>使用数字和点表示有序列表。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. 有序列表项 一</span><br><span class="line">2. 有序列表项 二</span><br><span class="line">3. 有序列表项 三</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ol>
<li>有序列表项 一</li>
<li>有序列表项 二</li>
<li>有序列表项 三</li>
</ol>
<h3 id="6-文字引用"><a href="#6-文字引用" class="headerlink" title="6. 文字引用"></a>6. 文字引用</h3><p>使用 &gt; 表示文字引用。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; 野火烧不尽，春风吹又生。</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<blockquote>
<p>野火烧不尽，春风吹又生。</p>
</blockquote>
<h3 id="7-行内代码块"><a href="#7-行内代码块" class="headerlink" title="7. 行内代码块"></a>7. 行内代码块</h3><p>使用 <code>代码</code> 表示行内代码块。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">让我们聊聊 &#96;html&#96;。</span><br></pre></td></tr></table></figure>

<p>效果：<br>让我们聊聊 <code>html</code>。</p>
<h3 id="8-代码块"><a href="#8-代码块" class="headerlink" title="8. 代码块"></a>8. 代码块</h3><p>使用 四个缩进空格 表示代码块。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">这是一个代码块，此行左侧有四个不可见的空格。</span><br></pre></td></tr></table></figure>

<p>效果：<br>这是一个代码块，此行左侧有四个不可见的空格。</p>
<h3 id="9-插入图像"><a href="#9-插入图像" class="headerlink" title="9. 插入图像"></a>9. 插入图像</h3><p>使用 <img src="%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80" alt="描述"> 插入图像。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">![我的头像](https:&#x2F;&#x2F;avatars3.githubusercontent.com&#x2F;u&#x2F;10223537?s&#x3D;460&amp;v&#x3D;4)</span><br></pre></td></tr></table></figure>

<p>效果：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC" alt="我的头像"></p>
<h2 id="Markdown-高阶语法"><a href="#Markdown-高阶语法" class="headerlink" title="Markdown 高阶语法"></a>Markdown 高阶语法</h2><h3 id="1-内容目录"><a href="#1-内容目录" class="headerlink" title="1. 内容目录"></a>1. 内容目录</h3><p>在段落中填写 <code>[TOC]</code> 以显示全文内容的目录结构。</p>
<p>[TOC]</p>
<h3 id="2-标签分类"><a href="#2-标签分类" class="headerlink" title="2. 标签分类"></a>2. 标签分类</h3><p>在编辑区任意行的列首位置输入以下代码给文稿标签：</p>
<p>标签： 数学 英语 Markdown</p>
<p>或者</p>
<p>Tags： 数学 英语 Markdown</p>
<h3 id="3-删除线"><a href="#3-删除线" class="headerlink" title="3. 删除线"></a>3. 删除线</h3><p>使用 ~~ 表示删除线。</p>
<p>这是一段错误的文本。</p>
<h3 id="4-注脚"><a href="#4-注脚" class="headerlink" title="4. 注脚"></a>4. 注脚</h3><p>使用 [^keyword] 表示注脚。</p>
<p>这是一个注脚<a href="http://www.imooc.com/article/280979?block_id=tuijian_wz#fn1" target="_blank" rel="noopener">1</a>的样例。</p>
<p>这是第二个注脚<a href="http://www.imooc.com/article/280979?block_id=tuijian_wz#fn2" target="_blank" rel="noopener">2</a>的样例。</p>
<h3 id="5-LaTeX-公式"><a href="#5-LaTeX-公式" class="headerlink" title="5. LaTeX 公式"></a>5. LaTeX 公式</h3><p>$ 表示行内公式：</p>
<p>质能守恒方程可以用一个很简洁的方程式 E=mc2E=mc^2<em>E</em>=<em>m*</em>c*2 来表达。</p>
<p>$$ 表示整行公式：</p>
<p>∑i=1nai=0\sum_{i=1}^n a_i=0<em>i</em>=1∑<em>n<strong>a</strong>i</em>=0</p>
<p>f(x1,xx,…,xn)=x12+x22+⋯+xn2f(x_1,x_x,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2<em>f</em>(<em>x</em>1,<em>x**x</em>,…,<em>x**n</em>)=<em>x</em>12+<em>x</em>22+⋯+<em>x*</em>n*2</p>
<p>∑k=0j−1γ^kjzk\sum^{j-1}<em>{k=0}{\widehat{\gamma}</em>{kj} z_k}<em>k</em>=0∑<em>j</em>−1<em>γ<strong>k</strong>j<strong>z</strong>k</em></p>
<p>访问 <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="noopener">MathJax</a> 参考更多使用方法。</p>
<h3 id="6-加强的代码块"><a href="#6-加强的代码块" class="headerlink" title="6. 加强的代码块"></a>6. 加强的代码块</h3><p>支持四十一种编程语言的语法高亮的显示，行号显示。</p>
<p>非代码示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install vim-gnome</span><br></pre></td></tr></table></figure>

<p>Python 示例：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@requires_authorization</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">somefunc</span><span class="params">(param1=<span class="string">''</span>, param2=<span class="number">0</span>)</span>:</span></span><br><span class="line">    <span class="string">'''A docstring'''</span></span><br><span class="line">    <span class="keyword">if</span> param1 &gt; param2: <span class="comment"># interesting</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'Greater'</span></span><br><span class="line">    <span class="keyword">return</span> (param2 - param1 + <span class="number">1</span>) <span class="keyword">or</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>message = <span class="string">'''interpreter</span></span><br><span class="line"><span class="string"><span class="meta">... </span>prompt'''</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 示例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* nth element in the fibonacci series.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param </span>n &gt;= 0</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return </span>the nth element, &gt;= 0.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> tmp;</span><br><span class="line">  <span class="keyword">while</span> (--n &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    tmp = a;</span><br><span class="line">    a += b;</span><br><span class="line">    b = tmp;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(fib(<span class="number">10</span>));</span><br></pre></td></tr></table></figure>

<h3 id="7-流程图"><a href="#7-流程图" class="headerlink" title="7. 流程图"></a>7. 流程图</h3><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">st&#x3D;&gt;start: Start:&gt;https:&#x2F;&#x2F;www.zybuluo.com</span><br><span class="line">io&#x3D;&gt;inputoutput: verification</span><br><span class="line">op&#x3D;&gt;operation: Your Operation</span><br><span class="line">cond&#x3D;&gt;condition: Yes or No?</span><br><span class="line">sub&#x3D;&gt;subroutine: Your Subroutine</span><br><span class="line">e&#x3D;&gt;end</span><br><span class="line"></span><br><span class="line">st-&gt;io-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;sub-&gt;io</span><br></pre></td></tr></table></figure>


<h3 id="8-序列图"><a href="#8-序列图" class="headerlink" title="8. 序列图"></a>8. 序列图</h3><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例 1"></a>示例 1</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Alice-&gt;Bob: Hello Bob, how are you?</span><br><span class="line">Note right of Bob: Bob thinks</span><br><span class="line">Bob--&gt;Alice: I am good thanks!</span><br></pre></td></tr></table></figure>

<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例 2"></a>示例 2</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Title: Here is a title</span><br><span class="line">A-&gt;B: Normal line</span><br><span class="line">B--&gt;C: Dashed line</span><br><span class="line">C-&gt;&gt;D: Open arrow</span><br><span class="line">D--&gt;&gt;A: Dashed open arrow</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h3 id="9-甘特图"><a href="#9-甘特图" class="headerlink" title="9. 甘特图"></a>9. 甘特图</h3><p>甘特图内在思想简单。基本是一条线条图，横轴表示时间，纵轴表示活动（项目），线条表示在整个期间上计划和实际的活动完成情况。它直观地表明任务计划在什么时候进行，及实际进展与计划要求的对比。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title 项目开发流程</span><br><span class="line">section 项目确定</span><br><span class="line">    需求分析       :a1, 2016-06-22, 3d</span><br><span class="line">    可行性报告     :after a1, 5d</span><br><span class="line">    概念验证       : 5d</span><br><span class="line">section 项目实施</span><br><span class="line">    概要设计      :2016-07-05  , 5d</span><br><span class="line">    详细设计      :2016-07-08, 10d</span><br><span class="line">    编码          :2016-07-15, 10d</span><br><span class="line">    测试          :2016-07-22, 5d</span><br><span class="line">section 发布验收</span><br><span class="line">    发布: 2d</span><br><span class="line">    验收: 3d</span><br></pre></td></tr></table></figure>

<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><h3 id="10-Mermaid-流程图"><a href="#10-Mermaid-流程图" class="headerlink" title="10. Mermaid 流程图"></a>10. Mermaid 流程图</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A[Hard edge] --&gt;|Link text| B(Round edge)</span><br><span class="line">B --&gt; C&#123;Decision&#125;</span><br><span class="line">C --&gt;|One| D[Result one]</span><br><span class="line">C --&gt;|Two| E[Result two]</span><br></pre></td></tr></table></figure>

<h4 id="-2"><a href="#-2" class="headerlink" title=""></a></h4><h3 id="11-Mermaid-序列图"><a href="#11-Mermaid-序列图" class="headerlink" title="11. Mermaid 序列图"></a>11. Mermaid 序列图</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Alice-&gt;John: Hello John, how are you?</span><br><span class="line">loop every minute</span><br><span class="line">    John--&gt;Alice: Great!</span><br><span class="line">end</span><br></pre></td></tr></table></figure>



<h3 id="12-表格支持"><a href="#12-表格支持" class="headerlink" title="12. 表格支持"></a>12. 表格支持</h3><table>
<thead>
<tr>
<th align="left">项目</th>
<th align="left">价格</th>
<th align="left">数量</th>
</tr>
</thead>
<tbody><tr>
<td align="left">计算机</td>
<td align="left">$1600</td>
<td align="left">5</td>
</tr>
<tr>
<td align="left">手机</td>
<td align="left">$12</td>
<td align="left">12</td>
</tr>
<tr>
<td align="left">管线</td>
<td align="left">$1</td>
<td align="left">234</td>
</tr>
</tbody></table>
<h3 id="13-定义型列表"><a href="#13-定义型列表" class="headerlink" title="13. 定义型列表"></a>13. 定义型列表</h3><ul>
<li><p>名词 1</p>
<p>定义 1（左侧有一个可见的冒号和四个不可见的空格）</p>
</li>
<li><p>代码块 2</p>
<p>这是代码块的定义（左侧有一个可见的冒号和四个不可见的空格）<code>代码块（左侧有八个不可见的空格）</code></p>
</li>
</ul>
<h3 id="14-Html-标签"><a href="#14-Html-标签" class="headerlink" title="14. Html 标签"></a>14. Html 标签</h3><p>本站支持在 Markdown 语法中嵌套 Html 标签，譬如，你可以用 Html 写一个纵跨两行的表格：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th rowspan&#x3D;&quot;2&quot;&gt;值班人员&lt;&#x2F;th&gt;</span><br><span class="line">        &lt;th&gt;星期一&lt;&#x2F;th&gt;</span><br><span class="line">        &lt;th&gt;星期二&lt;&#x2F;th&gt;</span><br><span class="line">        &lt;th&gt;星期三&lt;&#x2F;th&gt;</span><br><span class="line">    &lt;&#x2F;tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;李强&lt;&#x2F;td&gt;</span><br><span class="line">        &lt;td&gt;张明&lt;&#x2F;td&gt;</span><br><span class="line">        &lt;td&gt;王平&lt;&#x2F;td&gt;</span><br><span class="line">    &lt;&#x2F;tr&gt;</span><br><span class="line">&lt;&#x2F;table&gt;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">值班人员</th>
<th align="left">星期一</th>
<th align="left">星期二</th>
<th align="left">星期三</th>
</tr>
</thead>
<tbody><tr>
<td align="left">李强</td>
<td align="left">张明</td>
<td align="left">王平</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="15-内嵌图标"><a href="#15-内嵌图标" class="headerlink" title="15. 内嵌图标"></a>15. 内嵌图标</h3><p>本站的图标系统对外开放，在文档中输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;icon-weibo&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure>

<p>即显示微博的图标： </p>
<p>替换 上述 <code>i 标签</code> 内的 <code>icon-weibo</code> 以显示不同的图标，例如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;icon-renren&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure>

<p>即显示人人的图标：</p>
<p>更多的图标和玩法可以参看 <a href="http://fortawesome.github.io/Font-Awesome/3.2.1/icons/" target="_blank" rel="noopener">font-awesome</a> 官方网站。</p>
<h3 id="16-待办事宜-Todo-列表"><a href="#16-待办事宜-Todo-列表" class="headerlink" title="16. 待办事宜 Todo 列表"></a>16. 待办事宜 Todo 列表</h3><p>使用带有 [ ] 或 [x] （未完成或已完成）项的列表语法撰写一个待办事宜列表，并且支持子列表嵌套以及混用Markdown语法，例如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- [ ] **Cmd Markdown 开发**</span><br><span class="line">    - [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</span><br><span class="line">    - [ ] 支持以 PDF 格式导出文稿</span><br><span class="line">    - [x] 新增Todo列表功能 [语法参考](https:&#x2F;&#x2F;github.com&#x2F;blog&#x2F;1375-task-lists-in-gfm-issues-pulls-comments)</span><br><span class="line">    - [x] 改进 LaTex 功能</span><br><span class="line">        - [x] 修复 LaTex 公式渲染问题</span><br><span class="line">        - [x] 新增 LaTex 公式编号功能 [语法参考](http:&#x2F;&#x2F;docs.mathjax.org&#x2F;en&#x2F;latest&#x2F;tex.html#tex-eq-numbers)</span><br><span class="line">- [ ] **七月旅行准备**</span><br><span class="line">    - [ ] 准备邮轮上需要携带的物品</span><br><span class="line">    - [ ] 浏览日本免税店的物品</span><br><span class="line">    - [x] 购买蓝宝石公主号七月一日的船票</span><br></pre></td></tr></table></figure>

<p>对应显示如下待办事宜 Todo 列表：</p>
<ul>
<li>Cmd Markdown 开发<ul>
<li>改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>
<li>支持以 PDF 格式导出文稿</li>
<li>新增Todo列表功能 <a href="https://github.com/blog/1375-task-lists-in-gfm-issues-pulls-comments" target="_blank" rel="noopener">语法参考</a></li>
<li>改进 LaTex 功能<ul>
<li>修复 LaTex 公式渲染问题</li>
<li>新增 LaTex 公式编号功能 <a href="http://docs.mathjax.org/en/latest/tex.html#tex-eq-numbers" target="_blank" rel="noopener">语法参考</a></li>
</ul>
</li>
</ul>
</li>
<li>七月旅行准备<ul>
<li>准备邮轮上需要携带的物品</li>
<li>浏览日本免税店的物品</li>
<li>购买蓝宝石公主号七月一日的船票</li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>hexo</title>
    <url>/2020/05/30/hexo/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>你是否想过自己开发一个网站？你是否想过免费获得一个自己的域名？hexo只需1分钟就可以实现这个目标**</p>
<p>民间有传言，没有手撸过个人网站的程序员不是一个好的前端开发工程师，可是！hexo完全免费，hexo你直接带回家。通过hexo，可以快速构建个人博客，并搭建到<br>github 上供他人访问，三秒真男人，我们开始吧！</p>
<p>Hexo是一个快速、简洁且高效的博客框架。Hexo 使用<br>Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。即把用户的markdown文件，按照指定的主题解析成静态网页。</p>
<p>先上源代码：</p>
<p>hexo init</p>
<p>hexo s</p>
<p>#如果里面有玄学因素就不怪我了（此代码不包含环境以及相关的一些npm下载的东西）</p>
<p>正文开始：</p>
<p>（一些环境可能有些同学还不清楚，我就重头开始讲）</p>
<ol>
<li><strong>安装Git Bash</strong></li>
</ol>
<p>下载地址：<a href="https://git-for-windows.github.io" target="_blank" rel="noopener">https://git-for-windows.github.io</a></p>
<p>安装步骤：双击下载好的exe文件，一路next就好啦</p>
<p><img src="https://pic.downk.cc/item/5ed1bdb1c2a9a83be5e5c687.png" alt="git version"></p>
<p>然后你就可以在这里发挥你的聪明才智了</p>
<ol>
<li><strong>安装NodeJs</strong></li>
</ol>
<p>Hexo是基于nodeJS环境的静态博客，里面的npm工具很有用啊，所以还是老老实实把这玩意儿装了吧</p>
<p>地址：<a href="https://nodejs.org/en" target="_blank" rel="noopener">https://nodejs.org/en</a> (说明：LTS为长期支持版，Current为当前最新版)</p>
<p>安装步骤：反正下载好msi文件后，双击打开安装，也是一路next，不过在Custom<br>Setup这一步记得选 Add to PATH ,这样你就不用自己去配置电脑上环境变量了</p>
<p><img src="https://pic.downk.cc/item/5ed1bdb0c2a9a83be5e5c67e.png" alt="node-version"></p>
<p>又到自由发挥的时候了</p>
<ol>
<li><strong>安装hexo</strong></li>
</ol>
<p>看到这么多安装，千万不要紧张，小哥哥小姐姐们一定要稳住，别怕，因为后面的东西都是在gitbash中用npm工具安装就好了。</p>
<p>先创建一个文件夹（用来存放所有blog的东西），然后<strong>cd</strong>到该文件夹下。</p>
<p>安装hexo命令：npm i -g hexo</p>
<p><strong>（这里说一下，nmp的速度太慢了，国内的镜像有很多的bug，所以用cnpm——淘宝镜像）</strong></p>
<p><strong>cnpm安装：</strong></p>
<p>命令行输入：npm install cnpm -g –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
<p>（就这么简单。。。然后以后输入的时候npm就在前面加一个c就OK）</p>
<p>初始化命令：hexo init ，初始化完成之后打开所在的文件夹可以看到以下文件：</p>
<p><img src="https://pic.downk.cc/item/5ed1bdbdc2a9a83be5e5d650.png" alt="myblog"></p>
<p>解释一下：</p>
<p>node_modules：是依赖包</p>
<p>public：存放的是生成的页面</p>
<p>scaffolds：命令生成文章等的模板</p>
<p>source：用命令创建的各种文章</p>
<p>themes：主题</p>
<p>_config.yml：整个博客的配置</p>
<blockquote>
<p>  db.json：source解析所得到的</p>
</blockquote>
<p>package.json：项目所需模块项目的配置信息</p>
<p>做好这些前置工作之后接下来的就是各种配配配置了。</p>
<p><strong>一些hexo常用指令</strong></p>
<p>（有时候会因为一些插件的原因冲突，自行百度就好或者cmd输入hexo看看一共有什么命令）</p>
<p># 本地预览</p>
<p>hexo s</p>
<p># 根据配置文件和主题，将 root/source/_post 下的 markdown 文件生成 html 内容</p>
<p>hexo g</p>
<p># 清空 hexo g 生成的内容，内容在 root/public</p>
<p>hexo clean</p>
<p># 将本地生成 url 链接推送到百度，让百度爬取其中的内容进行索引</p>
<p>hexo d</p>
<p># 根据 标题名称 在root/source/_post 生成 markdown 文件</p>
<p>hexo new post 标题名称</p>
<p>（在一些编程语言中”#”也代表着注释，文件<strong>_config.yml</strong>里面的#就表示注释）</p>
<ol>
<li><strong>部署</strong></li>
</ol>
<p>没账号的创建账号（这我不多说），有账号的看下面</p>
<p>创建一个repo，名称为yourname.github.io,<br>其中yourname是你的github名称，按照这个规则创建才有用哦，如下：</p>
<p><img src="https://pic.downk.cc/item/5ed1bdc1c2a9a83be5e5db52.png" alt="new-repo"></p>
<p><img src="https://pic.downk.cc/item/5ed1beedc2a9a83be5e771d6.png" alt="create-repo"></p>
<p>回到gitbash中，配置github账户信息（YourName和YourEail都替换成你自己的）：</p>
<p><img src="https://pic.downk.cc/item/5ed1bdc1c2a9a83be5e5db68.png" alt="username"></p>
<p><img src="https://pic.downk.cc/item/5ed1bdb0c2a9a83be5e5c681.png" alt="email"></p>
<p>创建SSH</p>
<p>在gitbash中输入：ssh-keygen -t rsa -C<br>“youremail@example.com，生成ssh。然后按下图的方式找到id_rsa.pub文件的内容。</p>
<p><img src="https://pic.downk.cc/item/5ed1bdc1c2a9a83be5e5db60.png" alt="ssh-key"></p>
<p>将上面获取的ssh放到github中：</p>
<p><img src="https://pic.downk.cc/item/5ed1bdb0c2a9a83be5e5c679.png" alt="settings"></p>
<p><img src="https://pic.downk.cc/item/5ed1bdbdc2a9a83be5e5d656.png" alt="ssh-key"></p>
<p>添加一个 New SSH key ，title随便取，key就填刚刚那一段。</p>
<p>在gitbash中验证是否添加成功：ssh -T git@github.com</p>
<p>完成下一步你就成功啦！</p>
<p><strong>5.一步之遥</strong></p>
<p>用编辑器打开你的blog项目，修改<strong>_config.yml</strong>文件的一些配置(冒号之后都是有一个半角空格的)：</p>
<p>deploy:</p>
<p>​    type: git</p>
<p>​    repo: <a href="https://github.com/YourgithubName/YourgithubName.github.io.git" target="_blank" rel="noopener">https://github.com/YourgithubName/YourgithubName.github.io.git</a></p>
<p>​    branch: master</p>
<p>回到gitbash/cmd中，进入你的blog目录，分别执行以下命令：</p>
<p>​    hexo clean</p>
<p>​    hexo generate</p>
<p>​    hexo server</p>
<p>​    #hexo clean 不是必要的，有时候需要加一些自己的东西，如果hexo<br>​        clean后自己的东西就不见了，如果自己的东西，那就推荐hexo clean</p>
<p>注：hexo 3.0把服务器独立成个别模块，需要单独安装：npm i hexo-server</p>
<p>输入完hexo server后，打开浏览器输入：<a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a></p>
<p>（如果该端口有其他的东西，可以调到其他的端口，自行百度，官网有，我就不在这多说了）</p>
<p><strong>到这一步，你就可以搭建一个自己的内网的网站</strong></p>
<p><strong>上传到github</strong></p>
<p>先安装一波：npm install hexo-deployer-git<br>–save（这样才能将你写好的文章部署到github服务器上并让别人浏览到）</p>
<p>执行命令(建议每次都按照如下步骤部署)：</p>
<p>​    hexo clean</p>
<p>​    hexo generate</p>
<p>​    hexo deploy</p>
<p>注意deploy的过程中要输入你的username及passward。如下：</p>
<p><img src="https://pic.downk.cc/item/5ed1bdc1c2a9a83be5e5db56.png" alt="deploy"></p>
<p>在浏览器中输入<strong><a href="http://yourgithubname.github.io" target="_blank" rel="noopener">http://yourgithubname.github.io</a></strong>就可以看到你的个人博客啦，是不是很兴奋！</p>
<p>感觉gitbash中东西太多的时候输入clear命令清空。</p>
<p><strong>（部署完后大概3分钟左右就可以访问到新的内容）</strong></p>
<p><strong>6.优化</strong></p>
<p><strong>一，coding（因为篇幅较长，我就不加图片，如果需要就找度娘或找我）</strong></p>
<p>Coding与Github相似，都是基于Git的代码托管平台，GitHub大家应该都很熟悉，相对与Coding来说，GitHub面向英语系国家程序员，Coding面向中国程序猿，而且Coding的私有库可免费使用这是最大的区别。两者的用法和操作其实大同小异。（Coding的优势是服务器在国内，访问速度快，缺点是有时候有一些玄学的因素，域名无法控制。。。）</p>
<p>新建仓库：</p>
<ol>
<li><p>打开coding主页，创建新项目</p>
</li>
<li><p>新建一个名为yourname.coding.me的项目，其中这里的yourname最好是coding注册时的username，等项目部署成功后它就是你博客的访问地址。如下所示coding可以创建私有仓库，GitHub中是要收费的。</p>
</li>
<li><p>开启Pages服务，开启后我们就可以通过<br>用户名+网站后缀来访问博客，而且还可以绑定域名通过固定域名来访问。进入项目-&gt;代码-&gt;Pages服务</p>
</li>
<li><p>在管理Git项目时，无论是GitHub还是Coding我们可以通过SSH、HTTPS两种方式来clone或者push代码，当使用HTTPS的方式来管理代码，每次操作时都需要验证用户名和密码；而使用SSH方式Push代码之前需要配置个人的SSH<br>key,这样就可以省掉繁琐的验证步骤。</p>
</li>
<li><p>当然，我们也可以选择通过HTTPS方式来进行项目的管理，那么请跳过SSH<br>key的配置步骤，直接阅读项目部署步骤的内容。</p>
</li>
<li><p>_config.yml文件的配置和GitHub大同小异，我不多说了</p>
</li>
</ol>
<p><strong>二，主题</strong></p>
<p>风格不喜欢？换之。</p>
<p>这是 hexo<br>默认的主题，我们需要修改这个主题，那么我们可以去找一些符合我们个人爱好的一些主题<em>选</em>择一个自己喜欢的<br>Hexo 主题：<strong><a href="https://hexo.io/themes/" target="_blank" rel="noopener">https://hexo.io/themes/</a></strong></p>
<p>更换主题流程：下载主题 -&gt; 配置主题，以 xoxo 为例（不要想歪了！）</p>
<p># 下载到themes文件夹下</p>
<p>git clone <a href="https://github.com/KevinOfNeu/hexo-theme-xoxo" target="_blank" rel="noopener">https://github.com/KevinOfNeu/hexo-theme-xoxo</a> xoxo</p>
<p># 修改 _config.yml 配置</p>
<p>theme: xoxo</p>
<p>很多的主题都会有一定的介绍，根据介绍摸索也可以的（我就是自己摸索的）</p>
<p><strong>三，插件</strong></p>
<p>Hexo中有很多优质的插件，具体可以在我做的社团网站欣赏：<strong>GW-Lazybones.github.io</strong></p>
<p>里面有很多我认为优质的东西，比如说，二次元看板娘，音乐播放的实现，语法高亮的实现等等</p>
<p><img src="https://pic.downk.cc/item/5ed1bdc1c2a9a83be5e5db5c.png" alt=""></p>
<p><img src="https://pic.downk.cc/item/5ed1bdb0c2a9a83be5e5c674.png" alt=""></p>
<p>插件推荐：hexo-generator-searchdb: 用于搜索</p>
<p>hexo-generate-feed: 用于生成RSS订阅</p>
<p>hexo-generator-index-pin-top: 用于文章置顶</p>
<p>hexo-blog-encrypt：用于文章加密</p>
<p>hexo-tag-aplayer：用于播放音乐</p>
<p>hexo-tag-aplayer：用于播放音乐</p>
<p>hexo-helper-live2d：二次元看板娘</p>
<p>更多插件请见 hexo插件市场</p>
<p><strong>四，其他</strong></p>
<p>还有一些东西，比如说评论的接口，访问的统计，如何被百度等搜索引擎给收录等等，都可以单独拿出来讲，</p>
<p>这常常会有很多很<strong>玄学</strong>的东西，如果遇到了一些<strong>bug</strong>我可能有一点帮助。</p>
<p>其实绝大部分的东西在官网就可以解决，而且浏览<strong>hexo</strong>官网会有很多意想不到的发现，为自己的网站更加的完善</p>
<p>如果有兴趣的可以加我<strong>qq：503404172 （直接在大群里也OK）</strong></p>
<p>还有我们社团的新的网站：<a href="https://gw-lazybones.github.io" target="_blank" rel="noopener">https://gw-lazybones.github.io</a></p>
<p>如果有Markdown特别感兴趣的同学可以和我联系（为社团网站添砖加瓦）</p>
<p><strong>大家可以积极投稿，我们都会展示到社团网站的，因为我年纪小，刚刚做副社，所以有很多东西没有那么熟练，请各位谅解，并且提出有益的意见，谢谢。</strong></p>
<p><strong>关于我：一个喜欢搞UE4的（复刻GW，结果发现我不是第一个。。。）</strong></p>
<p><strong>会一点点C++，Python，一点点网页，知道一点点网安</strong></p>
<p><strong>其实上面的部署可以自己写一个程序，用Windows.h就OK了（源码太简单，我就不打出来了）</strong></p>
<p><strong>以后的社团活动通知会发在Q群上，每次课的知识都会发，请留意。</strong></p>
<p><strong>UE4项目进展（以前项目的工程文件还没用拿到，所以重新开了一个）：</strong></p>
<blockquote>
<p>  模式是第一人称和第三人称，内网联机在技术上是可行的（暂时还没有弄，外网的以后再说吧），我用了光线追踪，最高画质，所以对配置的要求较高，（以后会搞画质调节相关的），现在UI还没有做，支持win7以上的64位系统，安装包800M左右，安装下来差不多1.4G，最低配置：i5-4，内存6G。推荐i5-7以上，内存8G不卡。</p>
</blockquote>
<p>（这纸还有挺多空位的如果想记就记‘亿’点点笔记吧）**</p>
<p><strong>Attention：这张纸以后要用，所以请保留好，谢谢</strong></p>
<p><strong>大家希望以后讲什么，可以在群里@我也可以私信</strong></p>
<p><strong>在最后，祝大家的代码没有BUG</strong></p>
]]></content>
  </entry>
  <entry>
    <title>别撞柱子</title>
    <url>/2020/05/30/%E5%88%AB%E6%92%9E%E6%9F%B1%E5%AD%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="c-自制游戏之一——别撞柱子"><a href="#c-自制游戏之一——别撞柱子" class="headerlink" title="c++自制游戏之一——别撞柱子"></a>c++自制游戏之一——别撞柱子</h1><iframe height="500" width="600" src="//player.bilibili.com/player.html?aid=87867948&bvid=BV1g741147dX&cid=150098835&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><a href="https://space.bilibili.com/484783563" target="_blank" rel="noopener">up主页</a></p>
<p><a href="https://space.bilibili.com/443705061" target="_blank" rel="noopener">我的主页</a></p>
]]></content>
  </entry>
  <entry>
    <title>编程社本学期第一篇公告</title>
    <url>/2020/05/23/%E7%BC%96%E7%A8%8B%E7%A4%BE%E6%9C%AC%E5%AD%A6%E6%9C%9F%E7%AC%AC%E4%B8%80%E7%AF%87%E5%85%AC%E5%91%8A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>因为疫情的原因，我社很久没有开展社团活动了，</p>
<p>我们将在下个星期向老师申请场地， </p>
<p>并且尽量固定场地。</p>
<p>下周社团活动的通知正常来说会贴在饭堂门口，</p>
<p>请留意。</p>
<p>​     </p>
<p>此为社团网站，</p>
<p>开启了留言功能，</p>
<p>欢迎在下方留言。</p>
<p>​     </p>
<p>因为没钱买服务器和域名</p>
<p>所以就凑合着用吧</p>
<p>​     </p>
<p>在网站中调用了网易云音乐的接口，</p>
<p>所以会有音乐</p>
<p>​     </p>
<p>还有电脑端会有一个看板娘在右下角，</p>
<p>挺好玩的，就加了</p>
<p>（在作死的边缘试探）</p>
<p>​     </p>
<p>​                                                                  ——广外编程社的一个”新副社长“</p>
]]></content>
  </entry>
</search>
