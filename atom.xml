<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>广外编程社官网</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-06-20T02:23:33.193Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>广外编程社</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>（置顶）GZFLS LazyBones 简介</title>
    <link href="http://yoursite.com/2020/06/30/%EF%BC%88%E7%BD%AE%E9%A1%B6%EF%BC%89GZFLS%20LazyBones%20%E7%AE%80%E4%BB%8B/"/>
    <id>http://yoursite.com/2020/06/30/%EF%BC%88%E7%BD%AE%E9%A1%B6%EF%BC%89GZFLS%20LazyBones%20%E7%AE%80%E4%BB%8B/</id>
    <published>2020-06-30T01:35:12.000Z</published>
    <updated>2020-06-20T02:23:33.193Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>八十年代，卡内基梅隆大学计算机系的学生们住在一楼，需要跑到三楼的自动贩卖机那里去买可乐。因为可乐的供货量不足，他们经常扑空。为了改变这种状况，懒惰的学生们给贩卖机安装了一组开关，再通过网络把这组开关连接到一楼的电脑上。这样他们在一楼就可以知道三楼的贩卖机里还剩几罐可乐。改变世界的互联网开始形成。</p><p>今天，广州外国语学校LazyBones广外编程社正如其名，以懒惰为动力。通过编程快速解决数学难题、进行繁琐的等分统计工作、制作全自动化运行的excel运算脚本、逃脱头发太多难以清洗的噩运……</p><p>线下批改试卷太繁琐，我们就上线调查系统，印刷传单太麻烦，我们就开发门户网站。高考提分太难，我们就参加自主招生……</p><p>走进编程的世界，懒人高效触手可及。</p><p>我们始终信奉，懒惰是第一生产力。</p><h2 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h2><p>编程部：</p><p>请通过以下链接查看</p><p>[GitHub项目](<a href="https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload" target="_blank" rel="noopener">https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload</a> files)</p><p><a href="https://github.com/aoapc-book/aoapc-bac2nd" target="_blank" rel="noopener">算法竞赛入门经典</a></p><p>游戏部：</p><p>请通过以下链接查看：</p><p>[GitHub项目](<a href="https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload" target="_blank" rel="noopener">https://github.com/LazyBonesMembers/Learning-Material/tree/lessons/upload</a> files)</p><p><a href="https://rpg.blue/" target="_blank" rel="noopener">RPG Maker国内论坛</a></p><p><a href="https://forums.rpgmakerweb.com/index.php" target="_blank" rel="noopener">RPG Maker国外论坛</a></p><h2 id="项目进展简介"><a href="#项目进展简介" class="headerlink" title="项目进展简介"></a>项目进展简介</h2><h3 id="目前，社团主要致力于使用以下引擎开发项目："><a href="#目前，社团主要致力于使用以下引擎开发项目：" class="headerlink" title="目前，社团主要致力于使用以下引擎开发项目："></a>目前，社团主要致力于使用以下引擎开发项目：</h3><h5 id="1-RPG-Maker"><a href="#1-RPG-Maker" class="headerlink" title="1.RPG Maker"></a>1.RPG Maker</h5><p>RPG Maker是基于HTML5的，使用JavaScript的，具有图形界面的2D游戏引擎</p><p>我们已经成功地使用该引擎开发或参与开发了“摩尔勇士复刻版”、“广外主题游戏”</p><h5 id="2-Cocos-2dx"><a href="#2-Cocos-2dx" class="headerlink" title="2.Cocos-2dx"></a>2.Cocos-2dx</h5><p>Cocos-2dx是基于c++的开源免费2D游戏引擎</p><p>我们使用该引擎开发了微信打飞机游戏复刻版</p><h5 id="3-HTML5网页语言和Markdown语言"><a href="#3-HTML5网页语言和Markdown语言" class="headerlink" title="3.HTML5网页语言和Markdown语言"></a>3.HTML5网页语言和Markdown语言</h5><p>由于需要维护及更新社团的网站，我们需要熟悉网页代码以及markdown语言的人才</p><p>此项目的成员会参与到社团网站的维护与更新</p><h5 id="4-基于c-的dos界面游戏开发"><a href="#4-基于c-的dos界面游戏开发" class="headerlink" title="4.基于c++的dos界面游戏开发"></a>4.基于c++的dos界面游戏开发</h5><p>少于400行短小精悍的代码，就可以构成一个有趣好玩的dos游戏！</p><p>我们由此方法复刻了经典的扫雷、打飞机、躲避柱子游戏</p><p>不仅如此，我们还可以为需要开发c++图形界面的社员提供支持。</p><h5 id="5-基于UE4引擎的3D项目开发"><a href="#5-基于UE4引擎的3D项目开发" class="headerlink" title="5.基于UE4引擎的3D项目开发"></a>5.基于UE4引擎的3D项目开发</h5><p>Unreal Engine 4 ，当今无比强大的基于c++的游戏引擎。</p><p>LazyBomes社员们有一个宏愿，就是希望使用UE4开发以我们的母校——广州外校为主题的游戏</p><p>这是一个复杂的系统工程，需要持续至少两年以上的努力</p><p>涉及到无数个精密的3D模型，成千上万行准确无误的代码，甚至是价格不菲的专业图形显卡……</p><p>我们非常清楚，这个项目所需要的巨大努力，需要我们倾其所有</p><p>但是，对母校的热爱，对技术的执着推动着我们不断前行</p><p>同时，我们希望团结一切可以团结的力量</p><p>我们迫切地需要3D建模、UE4引擎的人才</p><p>如果你我同时广州外国语学校学子，又有意向参与到这个宏大的项目中来，或者具有这方面的才能</p><p>请一定要联系我们</p><p>项目负责人qq：2364045898</p><p>想要更多地了解UE4引擎，请进入文末的UE4官网链接</p><h4 id="公告栏"><a href="#公告栏" class="headerlink" title="公告栏"></a>公告栏</h4><p>此网站是基于GitHub免费的境外服务器</p><p>请各位社员妥善使用，请勿外传，以免服务器压力过大影响使用</p><p>社团活动时间：周三中午</p><p>社团活动地点：凤凰楼四楼计算机教室</p><h4 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h4><p>请各位活跃社员尽快加入社团QQ群</p><p>群号：855055234</p><p>并留意此网站上的活动通知</p><hr><p>实用链接:</p><p><a href="https://gw-lazybones.github.io" target="_blank" rel="noopener">Lazybones社员网站</a></p><p><a href="http://www.chgzfls.com/szhxy/web/PortalDataAction_initPortalIndex.do" target="_blank" rel="noopener">广州外国语学校官网</a></p><p><a href="https://www.runoob.com/" target="_blank" rel="noopener">菜鸟教程</a></p><p><a href="https://typora.io/" target="_blank" rel="noopener">markdown语言编辑器Typora</a></p><p><a href="https://www.unrealengine.com/zh-CN/" target="_blank" rel="noopener">UE4官网</a></p><p><a href="https://www.runoob.com/cplusplus/cpp-tutorial.html" target="_blank" rel="noopener">C++</a></p><ul><li><p> —游戏制作（RPGMakerMV，资源请自行寻找，建议正版）</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/" target="_blank" rel="noopener">  ╚汉化教程</a></p></li><li><p><a href="https://rpg.blue/" target="_blank" rel="noopener">  ╚国内论坛</a></p></li><li><p><a href="https://forums.rpgmakerweb.com/" target="_blank" rel="noopener">  ╚国外论坛（英语）</a></p></li><li><p>—编程练习题目</p></li><li><p><a href="https://www.luogu.org/" target="_blank" rel="noopener">洛谷</a></p></li><li><p><a href="http://oj.noi.cn/oj/#main/home" target="_blank" rel="noopener">CCF OJ</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="置顶" scheme="http://yoursite.com/tags/%E7%BD%AE%E9%A1%B6/"/>
    
  </entry>
  
  <entry>
    <title>Anaconda是什么？香吗？</title>
    <link href="http://yoursite.com/2020/06/20/Anaconda%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E9%A6%99%E5%90%97%EF%BC%9F/"/>
    <id>http://yoursite.com/2020/06/20/Anaconda%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E9%A6%99%E5%90%97%EF%BC%9F/</id>
    <published>2020-06-20T13:26:28.000Z</published>
    <updated>2020-06-20T13:46:40.394Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Anaconda是什么？香吗？"><a href="#Anaconda是什么？香吗？" class="headerlink" title="Anaconda是什么？香吗？"></a>Anaconda是什么？香吗？</h1><blockquote><p>用Anaconda是不可能用Anaconda的，这辈子都不可能用Anaconda的。——鲁迅</p></blockquote><p>（本文由吃核桃不吐核桃壳编写，未经许可不允许转载）</p><h3 id="Anaconda是什么？？？"><a href="#Anaconda是什么？？？" class="headerlink" title="Anaconda是什么？？？"></a>Anaconda是什么？？？</h3><p>有很多人在网上问：“装了Anaconda还需要Python吗？”每次听到这个问题，我就傻了——<br>Anaconda不就是Python吗？<br>Anaconda其实就是一个Python的发行版，她自带了Ipython，Cython等Python解释器，以及例如numpy，panda等有关数据分析的常用第三方库，spyder，Jupyter等工具，当然还有最终于的库管理神奇：conda。<br>一开始，我一直在使用官网的Cython解释器，听说Anaconda的时候，也只是看看而已，甚至还有一些抵触情感。比普通的Python解释器更大的大小，多出来的无用的功能，都让我觉得仿佛失去了Python的灵魂。直到我真的尝试了一下Anaconda……</p><blockquote><p>真香。——鲁迅</p></blockquote><h3 id="吹爆Anaconda！"><a href="#吹爆Anaconda！" class="headerlink" title="吹爆Anaconda！"></a>吹爆Anaconda！</h3><p>Anaconda是最令人省心的Python解释器。我以前一直不相信，直到我入门了机器学习领域。<br>机器学习需要用到的是大量的第三方库，然而Anaconda已经帮你解决了这些繁琐的安装。<br>一步到位，捷足先登。</p><p>开源，没啥好说的。</p><p>安装的过程非常的简单！连环境变量都不需要自己设置！</p><p>拥有免费的社区支持。每天有无数个程序员在参与Anaconda的更新与建设！</p><p>而且臃肿的功能也得到了解决，如果和我一样不希望拥有一个很大的Python解释器，可以下载Miniconda这个较小的发行版，仅仅包含了Python和conda。但不可否认，这样极端的处理方式的确是Anaconda的一个缺点，如果能够通过选择自己所属的领域和需要的库来生成安装包就完美了！</p><p>同时，Anaconda还有虚拟版本等等很强大的功能，我将会在下文为大家介绍。</p><h3 id="安装Anaconda"><a href="#安装Anaconda" class="headerlink" title="安装Anaconda"></a>安装Anaconda</h3><p>这里只提及Windows下的anaconda安装，至于Mac和Linux可以参考这篇文章<a href="https://www.jianshu.com/p/62f155eb6ac5" target="_blank" rel="noopener">Anaconda介绍、安装及使用教程</a></p><ol><li>去<a href="https://www.anaconda.com/products/individual#windows" target="_blank" rel="noopener">官网</a>下载。选择适合自己的安装包下载。（64位or32位，python3.7or2.7）</li><li>双击安装包文件开始安装~</li></ol><ul><li>Info<ol><li>如果在安装过程中遇到任何问题，那么暂时地关闭杀毒软件，并在安装程序完成之后再打开。</li><li>如果在安装时选择了“为所有用户安装”，则卸载Anaconda然后重新安装，只为“我这个用户”安装。<br>选择“Next”。</li></ol></li></ul><ol start="3"><li><p>阅读许可证协议条款，然后勾选“I Agree”并进行下一步。</p></li><li><p>除非是以管理员身份为所有用户安装，否则仅勾选“Just Me”并点击“Next”。</p></li><li><p>在“Choose Install Location”界面中选择安装Anaconda的目标路径，然后点击“Next”。</p></li><li><p>在“Advanced Installation Options”中<strong>不要</strong>勾选“Add Anaconda to my PATH environment variable.”（“添加Anaconda至我的环境变量。”）。因为如果勾选，则将会影响其他程序的使用。如果使用Anaconda，则通过打开Anaconda Navigator或者在开始菜单中的“Anaconda Prompt”（类似macOS中的“终端”）中进行使用。</p><p>除非你打算使用多个版本的Anaconda或者多个版本的Python，否则便勾选“Register Anaconda as my default Python 3.6”。</p><p>然后点击“Install”开始安装。如果想要查看安装细节，则可以点击“Show Details”。</p><p><img src="//upload-images.jianshu.io/upload_images/5101171-a621039fb2be3b40.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/986/format/webp" alt="image"></p></li><li><p>点击“Next”。</p></li><li><p>进入“Thanks for installing Anaconda!”界面则意味着安装成功，点击“Finish”完成安装。</p></li></ol><ul><li><p>注意：如果你不想了解“Anaconda云”和“Anaconda支持”，则可以<strong>不勾选</strong>“Learn more about Anaconda Cloud”和“Learn more about Anaconda Support”。</p><p><img src="//upload-images.jianshu.io/upload_images/5101171-1dc25adbbaa08295.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/982/format/webp" alt="image"></p></li></ul><ol start="10"><li><p>验证安装结果。可选以下任意方法：</p><ol><li><p>“开始 → Anaconda3（64-bit）→ Anaconda Navigator”，若可以成功启动Anaconda Navigator则说明安装成功。</p></li><li><p>“开始 → Anaconda3（64-bit）→ 右键点击Anaconda Prompt → 以管理员身份运行”，在Anaconda Prompt中输入<code>conda list</code>，可以查看已经安装的包名和版本号。若结果可以正常显示，则说明安装成功。</p></li></ol></li><li><p>自行添加环境变量（可选）<br>为了保证其他程序的正常运行，我们没有勾选“Add Anaconda to my PATH environment variable.”但是在cmd里打Python却打不开的感觉真的很不舒服。所以我们来自行添加一下环境变量。</p><ol><li><p>右键“此电脑”，属性。<br><img src="https://upload-images.jianshu.io/upload_images/18902823-7c3c7bd2b2ed8c5d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="打开的窗口"></p></li><li><p>单击左侧的高级系统设置<br><img src="https://upload-images.jianshu.io/upload_images/18902823-4e97ca020401c4e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="系统属性"></p></li><li><p>点击环境变量<br><img src="https://upload-images.jianshu.io/upload_images/18902823-823fc67c7cd6e291.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="环境变量"></p></li><li><p>找到path环境变量，并添加这四行（根据自己的安装路径添加，我这里是D:\Anaconda）<br><img src="https://upload-images.jianshu.io/upload_images/18902823-5f75c9aca135d5fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="添加环境变量"></p></li><li><p>win+R输入cmd回车打开命令行，输入python，你会看到这个：<br><img src="https://upload-images.jianshu.io/upload_images/18902823-4821e3bb49179953.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p></li></ol></li></ol><p>Yep！We got it！到这里，我们的安装就正式结束了，享受它给你带来的便利以及你的编程之旅吧！</p><p>（先去喝杯可乐，听一首歌吧（我这里在听Don‘t look back，啊这好像是废话，不应该写到blog里的））</p><h3 id="conda的使用"><a href="#conda的使用" class="headerlink" title="conda的使用"></a>conda的使用</h3><p><img src="https://upload-images.jianshu.io/upload_images/18902823-48fb5db2f2982f7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p>我们来看一下conda。</p><p>conda和pip一样，是库管理工具。<br>但相比pip，conda有以下的优点：<br>→ 依赖项检查</p><ul><li>pip：<ul><li>不一定会展示所需其他依赖包。</li><li>安装包时或许会直接忽略依赖项而安装，仅在结果中提示错误。</li></ul></li><li>conda：<ul><li>列出所需其他依赖包。<ul><li>安装包时自动安装其依赖项。（哇塞这个真的舒服啊）</li><li>可以便捷地在包的不同版本中自由切换。<br>→ 环境管理</li><li>pip：维护多个环境难度较大。</li><li>conda：比较方便地在不同环境之间进行切换，环境管理较为简单。<br>→ 对系统自带Python的影响</li><li>pip：在系统自带Python中包的<strong>更新/回退版本/卸载</strong>将影响其他程序。</li><li>conda：不会影响系统自带Python。<br>→ 适用语言</li><li>pip：仅适用于Python。</li><li>conda：适用于Python, R, Ruby, Lua, Scala, Java, JavaScript, C/C++, FORTRAN。</li></ul></li></ul></li></ul><h5 id="conda的常用姿势"><a href="#conda的常用姿势" class="headerlink" title="conda的常用姿势"></a>conda的常用姿势</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure><p>这一条命令会输出conda的版本，如果没有报错说明的你conda可以正常使用。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update conda</span><br></pre></td></tr></table></figure><p>更新conda</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update --all</span><br></pre></td></tr></table></figure><p>更新所有的包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install &lt;packet-name&gt;</span><br></pre></td></tr></table></figure><p>安装某一个包，这里会自动安装依赖项，不用担心。（这里的<packet-name>并不是让你打“<packet-name>”，而是代表包的名字，下文同）<br>这里可能会出现请求失效或者404错误，需要还成国内的源，步骤如下：</p><ol><li>添加清华的镜像源，命令如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;free&#x2F;</span><br><span class="line">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;conda-forge </span><br><span class="line">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;msys2&#x2F;</span><br><span class="line"></span><br><span class="line"># 设置搜索时显示通道地址</span><br><span class="line">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure>哦对了，如果需要安装pytorch，还要多加一个源:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;pytorch&#x2F;</span><br></pre></td></tr></table></figure></li></ol><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda list</span><br></pre></td></tr></table></figure><p>列出已经安装的包</p><p>更多的命令可以输入<code>conda help</code>查看</p><h3 id="重头戏，环境管理。"><a href="#重头戏，环境管理。" class="headerlink" title="重头戏，环境管理。"></a>重头戏，环境管理。</h3><p>想象一下，你千辛万苦的搞定了python3.7的环境，忽然接到同事的电话，告诉你有一个新的项目，用的python2.7。<br><strong>是不是心态崩了呢？？？</strong><br>难道需要再安装一个2.7的python解释器吗？当然不用，环境管理正是anaconda的拿手好戏。</p><ol><li>创建一个新的环境<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name &lt;env_name&gt; &lt;package_names&gt;</span><br></pre></td></tr></table></figure>这一条命令将会创建一个新的python环境。</li></ol><ul><li><p>注意：</p><ul><li><p><env_name>即创建的环境名。建议以英文命名，且不加空格，名称两边不加尖括号“&lt;&gt;”。</p></li><li><p><package_names>即安装在环境中的包名。名称两边不加尖括号“&lt;&gt;”。</p></li><li><p>如果要安装指定的版本号，则只需要在包名后面以=和版本号的形式执行。如：conda create –name python2 python=2.7，即创建一个名为“python2”的环境，环境中安装版本为2.7的python。</p></li><li><p>如果要在新创建的环境中创建多个包，则直接在<package_names>后以空格隔开，添加多个包名即可。如：conda create -n python3 python=3.5 numpy pandas，即创建一个名为“python3”的环境，环境中安装版本为3.5的python，同时也安装了numpy和pandas。</p></li><li><p>–name同样可以替换为-n。</p></li></ul></li></ul><p>提示：默认情况下，新创建的环境将会被保存在anaconda目录下的envs目录下。</p><ol start="2"><li><p>切换环境</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">activate &lt;env_name&gt;</span><br></pre></td></tr></table></figure><p>这一步需要在anaconda prompt里运行。<br><img src="https://upload-images.jianshu.io/upload_images/18902823-b8243ba788dcff00.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p></li><li><p>列出已经创建的环境</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda info --envs</span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="尾声"><a href="#尾声" class="headerlink" title="尾声"></a>尾声</h3><p>这一篇博客到这里就要结束了。希望能帮助各位，在这里祝愿大家能够把编程坚持学下去，我也会在这一条路上帮助大家的。</p><p>参考资料：</p><ol><li><a href="https://www.jianshu.com/p/62f155eb6ac5" target="_blank" rel="noopener">https://www.jianshu.com/p/62f155eb6ac5</a></li><li><a href="https://zhuanlan.zhihu.com/p/67745160" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/67745160</a></li><li><a href="https://www.anaconda.com/products/individual" target="_blank" rel="noopener">https://www.anaconda.com/products/individual</a></li><li><a href="https://conda.io/en/latest/" target="_blank" rel="noopener">https://conda.io/en/latest/</a></li><li><a href="https://en.wikipedia.org/wiki/Pip_(package_manager)#External_links" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Pip_(package_manager)#External_links</a></li><li><a href="https://pip.pypa.io/en/stable/" target="_blank" rel="noopener">https://pip.pypa.io/en/stable/</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="pyrhon" scheme="http://yoursite.com/tags/pyrhon/"/>
    
  </entry>
  
  <entry>
    <title>RPG Maker MV 帮助文档中文汉化版</title>
    <link href="http://yoursite.com/2020/06/20/RPG%20Maker%20MV%20%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3%E4%B8%AD%E6%96%87%E6%B1%89%E5%8C%96%E7%89%88/"/>
    <id>http://yoursite.com/2020/06/20/RPG%20Maker%20MV%20%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3%E4%B8%AD%E6%96%87%E6%B1%89%E5%8C%96%E7%89%88/</id>
    <published>2020-06-20T03:26:28.000Z</published>
    <updated>2020-06-20T02:46:46.273Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="RPG-Maker-MV-帮助文档中文汉化版"><a href="#RPG-Maker-MV-帮助文档中文汉化版" class="headerlink" title=" RPG Maker MV 帮助文档中文汉化版"></a><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_img01.png" alt="img"> RPG Maker MV 帮助文档中文汉化版</h1><p>本帮助文档含有对「RPG Maker MV」所具有的功能的说明。<br>窗口的左侧为帮助的目录。在左侧选择你想要阅读的项目。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_img02.png" alt="img"></p><p>此外，本软件大部分项目都有弹出的提示。把鼠标指针停留在编辑器上的项目一段时间之后，就会显示简单的说明。请善于运用这个功能。</p><h1 id="更新历史"><a href="#更新历史" class="headerlink" title="更新历史"></a>更新历史</h1><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>更新历史</p></li></ul><h2 id="2017-年-6-月-8-日更新"><a href="#2017-年-6-月-8-日更新" class="headerlink" title="2017 年 6 月 8 日更新"></a>2017 年 6 月 8 日更新</h2><ul><li><p>Added “Edit as Text” option to the Plugin Manager context menu.</p><p>・［RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p01" target="_blank" rel="noopener">How to Use Aid Tools</a>］</p></li><li><p>Added several search options for all context menus: “Search”, “Search Next”, and “Search Previous”.</p><p>・［RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_03.html#p03" target="_blank" rel="noopener">Basic Editor Controls</a>］</p></li><li><p>Added the “Community_Basic” plugin.</p><p>・Documentation［<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_10.html#m13" target="_blank" rel="noopener">Using Official Plugins</a>］</p></li></ul><h2 id="2017-年-3-月-21-日更新"><a href="#2017-年-3-月-21-日更新" class="headerlink" title="2017 年 3 月 21 日更新"></a>2017 年 3 月 21 日更新</h2><ul><li><p>It is now possible to use RPG Maker MV Tools in conjunction with RPG Maker MV.</p><p>・［RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_04.html#renew02" target="_blank" rel="noopener">The Menu Bar</a>］ ・［RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p10" target="_blank" rel="noopener">How to Use Aid Tools</a>］</p></li><li><p>Added tutorials (beta).</p><p>・［RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_04.html#renew01" target="_blank" rel="noopener">The Menu Bar</a>］ ・［RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p09" target="_blank" rel="noopener">How to Use Aid Tools</a>］</p></li><li><p>RPG Maker MV is now available for Linux.</p><p>・［RPG Maker MV］→［About RPG Maker MV］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_01_02.html" target="_blank" rel="noopener">System Requirements</a>］ ・Documentation［<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_04.html#renew2017_031701" target="_blank" rel="noopener">Deployment</a>］ ・Documentation［<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_14.html" target="_blank" rel="noopener">RPG Maker MV for Linux</a>］ ・Documentation［RPG Maker MV for Linux］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_14.html#p04" target="_blank" rel="noopener">Graphics Driver Installation</a>］ ・Documentation［RPG Maker MV for Linux］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_14.html#p05" target="_blank" rel="noopener">Running Games</a>］</p></li></ul><h2 id="2016-年-11-月-24-日更新"><a href="#2016-年-11-月-24-日更新" class="headerlink" title="2016 年 11 月 24 日更新"></a>2016 年 11 月 24 日更新</h2><ul><li><p>Added an option to generate child characters in the Character Generator.</p><p>・［How to use Aid Tools］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p05" target="_blank" rel="noopener">Character Generator</a>］<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_00_img02.png" alt="img"></p></li></ul><h2 id="2016-年-8-月-4-日更新"><a href="#2016-年-8-月-4-日更新" class="headerlink" title="2016 年 8 月 4 日更新"></a>2016 年 8 月 4 日更新</h2><ul><li><p>You now have the option to use encryption for deployment.</p><p>・Documentation［<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_04.html#renew2016_062301" target="_blank" rel="noopener">Output Formats</a>］</p></li><li><p>Added an Object Selector option.</p><p>［How to Use Aid Tools］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p08" target="_blank" rel="noopener">Options</a>］</p></li><li><p>Added options to “Copy as Text” and “Copy as HTML tags” to the context menu of the Contents section on the Event Page.</p><p>Events ［Map Event Settings］→［Editing Contents］→［<a href="http://miaowm5.github.io/RMMV-F1/page/01_09_03.html#renew01" target="_blank" rel="noopener">Controls via the Context Menu</a>］</p></li></ul><h2 id="2016-年-4-月-21-日更新"><a href="#2016-年-4-月-21-日更新" class="headerlink" title="2016 年 4 月 21 日更新"></a>2016 年 4 月 21 日更新</h2><ul><li><p>You can now handle files in batches with the Resource Manager tool. A [DLC] button has been added to the Resource Manager. (For Steam versions only)</p><p>[How to Use Aid Tools]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#renew01" target="_blank" rel="noopener">Resource Manager</a>]</p></li><li><p>Added a counterclockwise rotation function to the event command [Rotate Picture].</p><p>・Event Commands[Picture]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#renew03" target="_blank" rel="noopener">Rotate Picture</a>]</p></li><li><p>Added [Options] to [Tools].</p><p>[How to Use Aid Tools]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p08" target="_blank" rel="noopener">Options</a>]</p></li><li><p>Added an editor DPI scaling function to the Windows version.</p><p>The UI display in the editor is automatically adjusted when you change the DPI settings in Windows.</p></li><li><p>Added a scroll wheel zoom in/zoom out function for the map.</p><p>(For Windows users) Ctrl + Scroll Wheel (For Mac users) Command + Scroll Wheel</p></li><li><p>Added [Refresh] to the Plugin Manager.</p><p>Documentation →[Enabling Plugins]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_09.html#m04" target="_blank" rel="noopener">Refreshing Plugins</a>]</p></li><li><p>Fixed a bug in the looping for part of the music data.</p></li></ul><ul><li>The [Passage] indicator for Tileset [B] on the upper-left of the tile has been fixed to ☆.</li></ul><ul><li>Added and updated plugins.</li></ul><h2 id="2016-年-3-月-1-日更新"><a href="#2016-年-3-月-1-日更新" class="headerlink" title="2016 年 3 月 1 日更新"></a>2016 年 3 月 1 日更新</h2><ul><li><p>合成方式新增正片叠底。</p><p>・数据库 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_09.html#renew01" target="_blank" rel="noopener">动画设置</a>]  ・事件指令 [移动]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06_01.html#renew01" target="_blank" rel="noopener">设置移动路线</a>] [图片]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#renew01" target="_blank" rel="noopener">显示图片</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#renew02" target="_blank" rel="noopener">移动图片</a>]</p></li><li><p>现在可以通过右键菜单打开插件帮助界面。</p><p>・数据库 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_01.html#renew01" target="_blank" rel="noopener">角色设置</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_02.html#renew01" target="_blank" rel="noopener">职业设置</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_03.html#renew01" target="_blank" rel="noopener">技能设置</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_04.html#renew01" target="_blank" rel="noopener">物品设置</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_05.html#renew01" target="_blank" rel="noopener">武器/防具设置</a>] [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_06.html#renew01" target="_blank" rel="noopener">敌人设置</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_08.html#renew01" target="_blank" rel="noopener">状态设置</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_10.html#renew01" target="_blank" rel="noopener">图块组设置</a>]  ・事件指令 [信息]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p01" target="_blank" rel="noopener">显示文字</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p05" target="_blank" rel="noopener">显示滚动文字</a>] [流程控制]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#renew01" target="_blank" rel="noopener">条件分歧</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p08" target="_blank" rel="noopener">注释</a>] [高级]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_16.html#p01" target="_blank" rel="noopener">脚本</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_16.html#p02" target="_blank" rel="noopener">插件命令</a>]</p></li><li><p>当变更角色职业时，你可以选择保留职业变更前的等级。</p><p>事件指令[角色]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p12" target="_blank" rel="noopener">更改职业</a>]</p></li><li><p>你可以通过右键菜单查看图标列表。</p><p>・事件指令 [信息]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p01" target="_blank" rel="noopener">显示文字</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p05" target="_blank" rel="noopener">显示滚动文字</a>] [高级]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_16.html#p01" target="_blank" rel="noopener">脚本</a>][<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_16.html#p02" target="_blank" rel="noopener">插件命令</a>]  ・[如何使用辅助工具]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p01" target="_blank" rel="noopener">插件管理器</a>]</p></li></ul><ul><li><p>新增素材管理器。</p><p>・[如何使用辅助工具]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p07" target="_blank" rel="noopener">素材管理器</a>]</p></li><li><p>发布平台中新增 [Web Browsers（网页浏览器）]。 打包界面新增 [Exclude unused files（不包含未使用文件）] 选项。</p><p>・资料集 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_04.html" target="_blank" rel="noopener">输出格式</a>]</p></li><li><p>新增 触屏UI、扭蛋、老虎机插件。</p><p>・资料集 [使用官方插件]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_10.html#m10" target="_blank" rel="noopener">TouchUI</a>] [使用官方插件]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_10.html#m11" target="_blank" rel="noopener">Gacha / GachaBook</a>] [使用官方插件]→[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_10.html#m12" target="_blank" rel="noopener">SlotMachine</a>]</p></li><li><p>动画设置中新增洋葱皮功能。</p><p>在控制帧预览界面可以同时显示多个帧的内容。</p></li><li><p>退出编辑时弹出提示对话框。</p><p>当你在编辑 事件/数据库/插件管理器 的内容时，点击取消键或者关闭按钮时会弹出提示对话框。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_00_img01.png" alt="img">※ 若选择了 [Yes（确定）], 窗口将关闭，未保存的内容将丢失。</p></li><li><p>支持 Home/End 键。</p><p>当你在编辑事件页时，你可以使用键盘上的 Home/End 键来快速跳转到事件的 开头/末尾 。</p></li><li><p>压缩音频文件和图像文件的体积。</p></li></ul><ul><li>纸娃娃生成器中增加更多部件。</li></ul><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_img03.png" alt="img"></p><h1 id="初识-RPG-Maker-MV"><a href="#初识-RPG-Maker-MV" class="headerlink" title="初识 RPG Maker MV"></a>初识 RPG Maker MV</h1><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>初识 RPG Maker MV</p></li></ul><p>RPG Maker MV 是专为制作角色扮演游戏而生的制作工具。<br>本工具制成的游戏，即使玩家没有工具也可以游玩。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img01.png" alt="img"> <img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_05_img01.png" alt="img"></p><h1 id="支持格式"><a href="#支持格式" class="headerlink" title="支持格式"></a>支持格式</h1><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初始 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>支持格式</p></li></ul><h2 id="RPG-Maker-MV-Mac-版"><a href="#RPG-Maker-MV-Mac-版" class="headerlink" title="RPG Maker MV Mac 版"></a>RPG Maker MV Mac 版</h2><p>用户期盼已久的RPG制作大师Mac版终于推出！软件的整体界面也针对Mac做出了调整，用户将能在熟悉的界面上制作游戏。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_01_img01.png" alt="img"></p><h2 id="支持多种输出格式"><a href="#支持多种输出格式" class="headerlink" title="支持多种输出格式"></a>支持多种输出格式</h2><p>本作的游戏将输出为 HTML5 格式，使用这一格式，完成的游戏将可以发布在 Windows、Mac OS X、安卓、iOS平台，甚至作为网页游戏在线发布。<br>更多信息请参考 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_04.html" target="_blank" rel="noopener">输出格式</a>] 部分。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_11_04_img01.png" alt="img">)<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_img01.png" alt="img">地图</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初识 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>地图</p></li></ul><p>整个游戏世界以一张张地图作为舞台。在 RPG Maker MV 中，地图绘制的功能得到了大幅强化，得益于此，您将能创造出更加丰富的世界。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_02_img01.png" alt="img"></p><h2 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h2><h3 id="更丰富的世界"><a href="#更丰富的世界" class="headerlink" title="更丰富的世界"></a>更丰富的世界</h3><ul><li><p>游戏分辨率从 544x416 扩展到了 816x624。</p></li><li><p>上层的两个图块组将能自动合并。</p></li><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_02_img02.png" alt="img"><br>RPG Maker VX Ace</p></li><li></li><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_02_img03.png" alt="img"><br>RPG Maker MV</p></li></ul><h3 id="区域编辑功能强化"><a href="#区域编辑功能强化" class="headerlink" title="区域编辑功能强化"></a>区域编辑功能强化</h3><p>您可以使用地图着色工具进入区域编辑模式。区域的最大数量则从63增加至了255，现在，您将可以编辑区域的更多细节。</p><h3 id="地图保存成图片"><a href="#地图保存成图片" class="headerlink" title="地图保存成图片"></a>地图保存成图片</h3><p>在地图列表中右键选择[Save as Image]将能够把您的地图保存成图片。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_02_img04.png" alt="img"></p><p> 插件脚本</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初识 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>插件脚本</p></li></ul><p>传统的脚本编辑器已经移除，取而代之的将是一个更简单的脚本管理工具。<br>在新工程中已经预置了一部分官方脚本，您可以直接使用。<br>* 更多的内容请参考 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_09.html" target="_blank" rel="noopener">开启脚本</a>] 以及 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_10.html" target="_blank" rel="noopener">使用官方脚本</a>] 。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_03_img01.png" alt="img"></p><p>* 另外， [<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_03.html" target="_blank" rel="noopener">脚本规格</a>] 部分包含数据库</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初识 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>数据库</p></li></ul><p>包括游戏角色、物品、技能与魔法在内游戏主要的数据都能在数据库中编辑和管理。</p><h2 id="主要特点"><a href="#主要特点" class="headerlink" title="主要特点"></a>主要特点</h2><ul><li><p>增加数据库最大值</p><p>数据库内容的最大值已经增加。 现在，技能、物品、武器、防具、敌人和敌群数据最多都将达到2000条。 （相比前代增加了1000条）</p></li><li><p>简单而又强大的功能</p><p>数据库的复制功能支持多选。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_04_img01.png" alt="img">之前只能通过脚本修改的提示文字也能通过 [用语] 部分修改。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_04_img02.png" alt="img">装备类型（手部装备，脚部装备等）现在可以通过 [属性] 部分进行增删。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_04_img03.png" alt="img">游戏中菜单部分显示的选项可以通过 [系统] 部分进行修改。[物品] 部分可以设置 [物品类型] 为 [隐藏物品 A, B] 。</p></li></ul><p>了脚本相关规格的说明。横版战斗</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初识 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>横版战斗</p></li></ul><p>在保留了前作纵版战斗的基础上，现在还可以使用横版战斗模式。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_05_img01.png" alt="img"></p><h2 id="横版战斗需要设置的内容"><a href="#横版战斗需要设置的内容" class="headerlink" title="横版战斗需要设置的内容"></a>横版战斗需要设置的内容</h2><p>需要使用横版战斗模式时，您需要额外进行以下的设置来定制角色以及画面的外观。</p><ul><li><p>系统: Use Side-view Battle</p><p>该选项打勾时，游戏中的战斗将使用横版战斗模式。 请查看数据库一节的: [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_12.html" target="_blank" rel="noopener">系统设置</a>] 部分来获取更多信息。</p></li><li><p>系统: Magic Skills</p><p>在这里设置技能的类型以设置战斗时角色的咏唱动作。 请查看数据库一节的: [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_12.html" target="_blank" rel="noopener">系统设置</a>] 部分来获取更多信息。</p></li><li><p>系统: Attack Motions</p><p>设置各个属性技能攻击时播放的动画。 请查看数据库一节的: [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_12.html" target="_blank" rel="noopener">系统设置</a>] 部分来获取更多信息。</p></li><li><p>角色: Battler</p><p>设置角色在战斗时显示的图片。 请查看数据库一节的: [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_01.html" target="_blank" rel="noopener">角色设置</a>] 部分来获取更多信息。</p></li><li><p>状态: Motion</p><p>设置角色在特定状态时显示的图片。 请查看数据库一节的: [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_08.html" target="_blank" rel="noopener">状态设置</a>] 部分来获取更多信息。</p></li><li><p>状态: Overlay</p><p>设置角色在特定状态时显示在角色上方的图片。 请查看数据库一节的: [<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_08.html" target="_blank" rel="noopener">状态设置</a>] 部分来获取更多信息。例如，当玩家与NPC对话或者打开一个宝箱时，一个事件便发生了。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_06_img01.png" alt="img"></p><h2 id="主要特点-1"><a href="#主要特点-1" class="headerlink" title="主要特点"></a>主要特点</h2><ul><li><p>事件测试功能</p><p>不运行游戏即可方便地测试图片的显示、移动以及旋转。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_06_img02.png" alt="img"> <img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_06_img03.png" alt="img"></p></li><li><p>事件指令增加</p><p>事件指令增加了以下几条：Actor: [Change Profile（更改角色说明）]Actor: [Change TP（更改TP）]System Settings: [Change Vehicle BGM（更改交通工具BGM）]System Settings: [Change Defeat ME（更改战败ME）]Battle: [Change Enemy TP（更改敌人TP）]Advanced: [Plugin Commands（插件脚本指令）]</p></li><li><p>显示选项功能强化</p><p>选项的最大个数从4个增加到了6个，你还可以设置选项窗口的位置和不透明度。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_06_img04.png" alt="img">其他</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初识 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>其他</p></li></ul><h2 id="事件搜索"><a href="#事件搜索" class="headerlink" title="事件搜索"></a>事件搜索</h2><p>新增了事件搜索功能。<br>请参考 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p03" target="_blank" rel="noopener">使用辅助工具</a>] 部分来获取更多的内容。</p><h2 id="声音设置部分新增声场设置"><a href="#声音设置部分新增声场设置" class="headerlink" title="声音设置部分新增声场设置"></a>声音设置部分新增声场设置</h2><p>声音设置部分可以设置背景音乐（BGM）、背景声音（BGS）、音效（SE）的声场位置。<br>通过改变声场，您将能调整声音在扬声器左右声道的音量大小。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_10_11_img01.png" alt="img">运行游戏</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_01.html" target="_blank" rel="noopener">初识 RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>主要功能</p></li><li></li><li><p>&gt;</p></li><li></li><li><p>运行游戏</p></li></ul><p>使用RMMV制作出来的游戏同样得到了增强。</p><h2 id="主要特点-2"><a href="#主要特点-2" class="headerlink" title="主要特点"></a>主要特点</h2><ul><li><p>您将可以通过拉伸窗口调整游戏画面的大小。</p></li><li><p>按住确定键将能快速跳过事件。</p></li><li><p>游戏菜单中新增了 [Option（设置）] 指令。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img01.png" alt="img"></p></li><li><p>相比前作，本作的战斗节奏加快。</p></li><li><p>战斗过程中，选择指定角色时该角色的图像将会变亮。</p></li><li><p>受到的伤害值将会直接显示在战斗画面中。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img02.png" alt="img"></p></li><li><p>敌人的状态图标将直接显示在其图像的上方。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img03.png" alt="img"></p></li><li><p>上一次使用的技能将被记忆。</p></li><li><p>如果地图和战斗界面背景音乐相同时，背景音乐将会继续播放。</p></li><li><p>游戏标题将保存在存档中，你可以根据游戏的进行在标题栏显示不同的标题。</p></li><li><p>最大存档数目从16个增加至20个。</p></li><li><p>编辑游戏目录下的CSS文件(/fonts/gamefont.css)即可更换游戏的字体。</p><p>* 要更换字体还需把字体文件复制到该目录下。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img04.png" alt="img"></p></li><li><p>在测试模式下，按F8可以打开开发者工具。</p><p>请参考 [</p><p>如何使用开发者工具</p><p>] 部分来获取更多信息。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img05.png" alt="img"></p></li><li><p>将游戏目录上传到服务器后您可以在线进行游戏。<br>请参考 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_04.html#p01_01" target="_blank" rel="noopener">运行游戏所需的系统要求</a>] 部分来获取更多信息。本作的配置需求如下：</p><table><thead><tr><th align="left">操作系统</th><th>Windows 7/8/8.1/10 (32 位/64 位) Mac OS X 10.10 及其更高版本 Debian 8 及其更高版本 (2017 年 3 月 21 日更新)</th></tr></thead><tbody><tr><td align="left">CPU</td><td>Intel Core 2 双核或以上</td></tr><tr><td align="left">内存</td><td>至少2GB</td></tr><tr><td align="left">硬盘</td><td>至少 2GB 的空余硬盘空间</td></tr><tr><td align="left">显卡</td><td>需要支持 OpenGL</td></tr><tr><td align="left">显示器</td><td>1280×768 分辨率或更高</td></tr></tbody></table><ul><li>产品验证需要通过网络进行。</li><li>顺畅游玩所需要的配置因作品内容而异。</li><li>Linux 系统请通过 Debian8 而非 SteamOS 来运行 RPG Maker MV。</li></ul></li></ul></li></ul><p>准备开始制作你的游戏</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>准备开始制作你的游戏</p></li></ul><h2 id="创建新工程"><a href="#创建新工程" class="headerlink" title="创建新工程"></a>创建新工程</h2><p>要开始制作你自己的游戏，首先你需要创建一个“工程”。一个工程包含了所有构成一个游戏的数据和资料。当然，你也可以导入你自己的文件，例如图片和音乐，以便在工程当中使用。</p><p>创建工程的方法如下。</p><ul><li><p>(1) 创建新的工程</p><p>在工具栏中点击[New Project]按钮，或者点击菜单栏上的[File]然后选择[New Project]选项。</p></li><li><p>(2) 输入储存的位置和工程标题</p><p>输入工程的名字 (建议输入半角英文数字字符),并在[Game Title]标签下输入你的游戏标题。工程的存储位置会显示在[Location]标签下。要变更储存位置，点击右边的[Choose… ]按钮来指定一个新的存储位置。</p></li></ul><p>当完成上面的设定后，点击[OK]，这样一个样本游戏就会被创建，之后你就可以开始制作你的游戏了。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_02_img01.png" alt="img"> <img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_02_img02.png" alt="img"></p><h2 id="管理工程"><a href="#管理工程" class="headerlink" title="管理工程"></a>管理工程</h2><ul><li><p>保存/打开工程</p><p>当你在制作游戏过程中需要休息一下时，确保你已经保存了工程然后再关闭它。当你点击[Save Project]按钮(或者点击菜单栏中的[File]并选择[Save Project]选项)，当前正在编辑的工程会被最新内容覆盖，整个工程就被保存下来了。  要继续制作游戏，点击[Open Project]按钮(点击菜单栏中的[File]并选择[Load Project]选项)，然后选择[Game]文件(或者[Game.rpgproject])并点击[Open].</p></li><li><p>备份/删除</p><p>工程的内容会被保存在你最初建立新工程时指定的文件夹中。要备份此工程，你需要将整个文件夹的内容复制到闪存盘或者其他设备上。当你不再需要一个工程时，直接删除这个文件夹即可。</p></li></ul><h2 id="继续制作你的游戏"><a href="#继续制作你的游戏" class="headerlink" title="继续制作你的游戏"></a>继续制作你的游戏</h2><p>本软件所制作的RPG游戏由很多部分组成，例如屏幕上的图片，玩家控制的角色，道具和魔法的设置，进攻行为的设置以及故事剧情。</p><p>在本软件中，这些元素由三种数据类型制作，这些数据是你游戏的核心：地图[Map]，这是你游戏的舞台；事件[Events]决定着游戏中发生了些什么；还有数据库[Database]，这决定了一些游戏对象(如角色)的基本设定。</p><p>制作游戏没有特定的顺序。如果这是你第一次使用本软件制作游戏，建议你先学会如何绘制地图。然后，你就可以为游戏内容添加事件和角色了。</p><h1 id="基本编辑器控制"><a href="#基本编辑器控制" class="headerlink" title="基本编辑器控制"></a>基本编辑器控制</h1><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>基本编辑器控制</p></li></ul><h2 id="各个窗口组件的名称和功能"><a href="#各个窗口组件的名称和功能" class="headerlink" title="各个窗口组件的名称和功能"></a>各个窗口组件的名称和功能</h2><p>打开工程后显示的窗口称为“主窗口”。主窗口主要用于编辑地图和事件。例如[Database]这样的工具箱就是在主窗口菜单中打开的。各个组件的功能如下。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_03_img01.png" alt="img"></p><ul><li><p>(1) 菜单栏</p><p>这个软件的可用功能可以从这里选择。</p></li><li><p>(2) 工具栏</p><p>一些特定功能可以通过点击上面的按钮来打开。</p></li><li><p>(3) 图块板</p><p>绘制地图的可用图块都在这里显示。你可以利用下面的标签来切换成组/区域编辑模式。</p></li><li><p>(4) 地图列表</p><p>显示当前游戏所创建的所有地图数据的列表。</p></li><li><p>(5) 地图预览</p><p>显示当前所选择的地图中的内容。它主要被用来绘制地图和指定事件放置的位置。</p></li><li><p>(6) 状态栏</p><p>显示当前所选功能的详细信息，地图名和地图坐标。</p></li></ul><h2 id="编辑参数"><a href="#编辑参数" class="headerlink" title="编辑参数"></a>编辑参数</h2><p>在使用本软件制作游戏时，制作过程的核心是在各类窗口中调节对象的可用参数，并指定像文本和道具这样的游戏内容。下面是可设定的项目以及他们的编辑方式。</p><ul><li><p>输入文本</p><p>当你点击设置区域，”|”光标就会出现。在这种状态下使用键盘输入文本，文本会出现在光标的位置上。你也可以使用键盘上的方向键移动光标。输入文本的方式取决于你所使用的输入法。</p></li><li><p>输入数值</p><p>就像输入文本一样，当点击参数的区域时，”|”光标就会出现。在这种状态下使用键盘输入半角数字。通过点击设置区域右边的[∧] 和[∨]按钮，你可以增加或减少数值。</p></li><li><p>单选框</p><p>从多个项目中选择一项。点击[○]按钮后，中间有黑点的选项处于选中状态。</p></li><li><p>复选框</p><p>启用/禁用旁边所显示的参数。点击[□]按钮后，对应参数被启用。再次点击一次会撤销选中的状态。</p></li><li><p>下拉列表</p><p>从列表中选择一项。你可以通过点击设置区域右侧的[∨] 箭头来打开列表。</p></li><li><p>列表框</p><p>在列表中显示多项设定。通过双击一个项目，你可以增添或变更窗口中的内容。</p></li><li><p>[…]按钮</p><p>有些项目的详细信息在另外的独立窗口中显示，这些项目的设置区域右侧会有一个[…]按钮。点击[…]按钮，并在打开的窗口中设置你的参数。</p></li><li><p>[OK] [Cancel] [Apply]按钮</p><p>当你要完成你所做的更改时，应该使用这些按钮。点击[OK]按钮确认更改并关闭窗口，点击[Cancel]放弃当前更改并关闭窗口，而点击[Apply]按钮则是确认更改但不关闭窗口。</p></li></ul><h2 id="Searching-via-a-Context-Menu-June-8th-2017-Update"><a href="#Searching-via-a-Context-Menu-June-8th-2017-Update" class="headerlink" title="Searching via a Context Menu (June 8th, 2017 Update)"></a>Searching via a Context Menu (June 8th, 2017 Update)</h2><p>The context menu can be opened by right clicking on a map or database. From there, you can select the [Search] option.</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_03_img02.png" alt="img"></p><p>The [Search] window will then open. After searching once, you can select [Search Next] or [Search Previous] to continue searching for the same text.</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_03_img03.png" alt="img">)<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_02_img03.png" alt="img"></p><p> 菜单栏</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>菜单栏</p></li></ul><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_04_img01.png" alt="img"></p><p>有关主窗口菜单栏中的选项的细节如下。</p><h3 id="File-菜单"><a href="#File-菜单" class="headerlink" title="[File]菜单"></a>[File]菜单</h3><ul><li><p>New Project</p><p>创建新的工程。如果一个工程已经被打开，那么当创建新工程的同时，这个工程将会被关闭。</p></li><li><p>Open Project</p><p>打开保存的工程，这使得你可以继续编辑你的游戏。进入到你的工程目录，并在[open]窗口中选择你的<a href="或者[Game.rpgproject]">Game</a>文件。</p></li><li><p>Close Project</p><p>关闭当前打开的工程。如果数据未保存，那么你将会看到一个确认对话框。点击[Yes]将保存并关闭工程，点击[No]将关闭工程，但是不保存。</p></li><li><p>Save Project</p><p>保存你当前正编辑的工程的内容。</p></li><li><p>Deployment</p><p>根据你所选发布平台建立你的工程。具体请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_04.html" target="_blank" rel="noopener">输出格式</a>]。</p></li><li><p>Exit RPG Maker MV</p><p>关闭程序。和[Close Project]一样，如果有未储存的数据，那么你将会看到一个确认窗口。</p></li></ul><h3 id="Edit-菜单"><a href="#Edit-菜单" class="headerlink" title="[Edit] 菜单"></a>[Edit] 菜单</h3><ul><li><p>Undo</p><p>允许你撤销刚刚的操作，将工程恢复到一步之前的状态。你至多可以撤销20步操作。</p></li><li><p>Cut</p><p>将你选中的内容(例如地图数据和地图事件)删除，并把它们复制到剪贴板上。</p></li><li><p>Copy</p><p>将你选中的内容(例如地图数据和地图事件)复制到剪贴板上。</p></li><li><p>Paste</p><p>将剪贴板上的内容(例如地图数据和地图事件)添加到所选位置。</p></li><li><p>Delete</p><p>删除选中的数据(例如地图数据和地图事件)。</p></li></ul><h3 id="Mode-菜单"><a href="#Mode-菜单" class="headerlink" title="[Mode] 菜单"></a>[Mode] 菜单</h3><ul><li><p>Map</p><p>切换到地图设计器模式。</p></li><li><p>Event</p><p>切换到事件编辑模式。在此模式下，地图上会出现网格，网格的大小和图块大小相当。 * 在图块窗口选择[R]标签可以进入区域编辑模式，在此模式下你可以决定敌人将出现在何区域(遇敌区域)。 </p></li></ul><h3 id="Draw-菜单"><a href="#Draw-菜单" class="headerlink" title="[Draw] 菜单"></a>[Draw] 菜单</h3><p>在图块上绘制的工具已经可以在地图编辑模式下使用了。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_07_01.html" target="_blank" rel="noopener">编辑地图</a>] 。</p><h3 id="Scale-菜单"><a href="#Scale-菜单" class="headerlink" title="[Scale] 菜单"></a>[Scale] 菜单</h3><ul><li><p>Zoom In</p><p>当你每次选择“放大”时，地图预览窗的内容会变得更大。</p></li><li><p>Zoom Out</p><p>当你每次选择“缩小”时，地图预览窗的内容会变得更小。</p></li><li><p>Actual Size</p><p>以标准大小显示地图(实际大小和当前编辑器中的大小相同).</p></li></ul><h3 id="Tool-菜单"><a href="#Tool-菜单" class="headerlink" title="[Tool] 菜单"></a>[Tool] 菜单</h3><ul><li><p>Database</p><p>打开[Database]窗口，以便创建/编辑游戏数据(例如角色和道具)。</p></li><li><p>Plugin Manager</p><p>你在这里管理你的插件。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p01" target="_blank" rel="noopener">如何使用辅助工具</a>]。</p></li><li><p>Sound Test</p><p>你可以播放导入到工程中测试声音。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p02" target="_blank" rel="noopener">如何使用辅助工具</a>]。</p></li><li><p>Event Searcher</p><p>你可以使用各种各样的条件搜索事件。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p03" target="_blank" rel="noopener">如何使用辅助工具</a>]。</p></li><li><p>Character Generator</p><p>将事先做好的素材组合起来，生成角色脸谱，行走图，战斗图。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p05" target="_blank" rel="noopener">如何使用辅助工具</a>]。</p></li><li><p>Resource Manager</p><p>you are able to manage resources included in your project. Please see [<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p07" target="_blank" rel="noopener">How to use Aid Tools</a>] for more information.</p></li><li><p>RPG Maker MV Tools (March 21st, 2017 Update)</p><p>Organize tools to help you create games in RPG Maker MV. Please see [<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p10" target="_blank" rel="noopener">How to use Aid Tools</a>] for more information.</p></li></ul><h3 id="Game-菜单"><a href="#Game-菜单" class="headerlink" title="[Game] 菜单"></a>[Game] 菜单</h3><ul><li><p>Playtest</p><p>开始游戏测试。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p04" target="_blank" rel="noopener">如何使用辅助工具</a>]。</p></li><li><p>Open Folder</p><p>打开工程所在的文件夹。当你要查看工程文件夹的位置或者手动将文件移动到工程文件夹中时，请使用这个功能。</p></li></ul><h3 id="Help-菜单"><a href="#Help-菜单" class="headerlink" title="[Help] 菜单"></a>[Help] 菜单</h3><ul><li><p>Contents</p><p>显示帮助窗口(本窗口)。</p></li><li><p>About</p><p>显示此软件的版本信息。</p></li><li><p>Tutorials (Beta) (March 21st, 2017 Update)</p><p>Users can now view tutorials (beta) in-game. Please see [<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p09" target="_blank" rel="noopener">How to use Aid Tools</a>] for more information.</p><p>如何使用辅助工具</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>如何使用辅助工具</p></li></ul><h2 id="Plugin-Manager（插件管理器）"><a href="#Plugin-Manager（插件管理器）" class="headerlink" title="Plugin Manager（插件管理器）"></a>Plugin Manager（插件管理器）</h2><p>选择[Tools（工具）] → [Plugin Manager（插件管理器）]就可以打开[Plugin Manager（插件管理器）]，使用[Plugin Manager（插件管理器）]你就可以管理官方插件和你自制的插件。</p><p>当你点击列表中显示的一个插件时，会出现一个对话框。在对话框中你可以启用/禁用此插件或者调节一些参数值。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img01.png" alt="img"></p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img02.png" alt="img"></p><p>(2016 年 3 月 1 日更新)<br>当输入参数时，右键打开菜单，选择[IconSet Viewer…]可以显示图标查看器。</p><p>(2017 年 6 月 8 日更新)</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img02_01.png" alt="img"></p><p>Click one of the plugin parameters to open the menu.</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img02_02.png" alt="img"></p><p>You can make edits to plugin parameters on the [File] and the [Text] tabs.</p><h2 id="Sound-Test（声音测试）"><a href="#Sound-Test（声音测试）" class="headerlink" title="Sound Test（声音测试）"></a>Sound Test（声音测试）</h2><p>选择[Tools（工具）] → [Sound Test（声音测试）]你就可以打开[Sound Test（声音测试）]窗口，在这里你可以测试工程中的音乐和声音文件。当你关闭声音测试窗口时，音乐会继续播放。因此你可以使用此功能来在制作游戏的同时播放背景音乐。</p><p>窗口被分为四个标签页：BGM（背景音乐），BGS（背景声音），ME（音效）和 SE（声效）。你可以在各个标签页的文件列表中选择音乐。当你点击[Play（播放）]按钮时音乐就会开始播放。点击[Stop（停止）]按钮时音乐播放就会停止。</p><p>你可以通过旁边的滑动条来分别调节声音的 Volume（音量）（0 ~ 100%），Pitch（音调）（50 ~ 150%）和 Pan（声场定位）（-100 ~ 100）。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img03.png" alt="img"></p><h2 id="Event-Searcher（事件查找器）"><a href="#Event-Searcher（事件查找器）" class="headerlink" title="Event Searcher（事件查找器）"></a>Event Searcher（事件查找器）</h2><p>选择[Tools（工具）] → [Event Searcher（事件查找器）]你就可以打开[Event Searcher（事件查找器）]，在这里你可以通过开关，变量，名称来查找事件，并把它们显示在列表当中。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img04.png" alt="img"></p><h2 id="Character-Generator（角色生成器）-2016-年-11-月-24-日更新"><a href="#Character-Generator（角色生成器）-2016-年-11-月-24-日更新" class="headerlink" title="Character Generator（角色生成器）(2016 年 11 月 24 日更新)"></a>Character Generator（角色生成器）(2016 年 11 月 24 日更新)</h2><p>选择[Tools（工具）] → [Character Generator（角色生成器）]来打开角色生成器。在这里你可以生成角色的图形，并把它们分配到主角和事件中去。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img05.png" alt="img"></p><p>点击[Male（男）]、[Female（女）]或[Kid（儿童）]标签来改变体型，并根据你想要的特点来选择变化和颜色。你的选择也会在[Preview（预览）]区域中显示。</p><ul><li><p>Randomize（随机）</p><p>随机设置所有部分。</p></li><li><p>Face Image（头像）</p><p>打开角色头像的导出窗口。</p></li><li><p>Walk Character（角色行走图）</p><p>打开角色行走图的导出窗口。</p></li><li><p>Damage Character（角色倒地图）</p><p>打开角色倒地图的导出窗口。</p></li><li><p>Battler（战斗图）</p><p>打开横版战斗图的导出窗口。</p></li><li><p>Save Settings（保存设置）</p><p>存储所制作的角色数据。</p></li><li><p>Load Settings（载入设置）</p><p>载入保存的角色数据。</p></li></ul><h3 id="导出窗口"><a href="#导出窗口" class="headerlink" title="导出窗口"></a>导出窗口</h3><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img07.png" alt="img"></p><ul><li><p>Import</p><p>从文件中导入一张待修改的基础素材图，并将当前制作的新素材插入其中。</p></li><li><p>Export</p><p>将当前图像导出为文件。</p></li></ul><h2 id="Generate-Dungeon（迷宫生成器）"><a href="#Generate-Dungeon（迷宫生成器）" class="headerlink" title="Generate Dungeon（迷宫生成器）"></a>Generate Dungeon（迷宫生成器）</h2><p>右键点击地图列表中的地图并选择[Generate Dungeon（迷宫生成器）]即可打开迷宫生成器。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img08.png" alt="img"></p><p>当你选择墙体和地板图块时，地图会自动被绘制成迷宫的样子。由于要在所选地图上生成一个迷宫，因此当你要生成大型迷宫时，你需要增加地图尺寸。如果地图尺寸太小，那么生成出来的地图会不太像一个迷宫。</p><ul><li><p>Type（种类）</p><p>有[Rooms（房间）]和[Maze（迷宫）]两种风格可选。当你选择[Rooms（房间）]，迷宫生成器就会生成一个带有房间和过道的迷宫；当你选择[Maze（迷宫）]，那么生成的迷宫只会有过道（也就是所谓真正意义上的迷宫）。</p></li><li><p>Options（选项）</p><p>Add Margins（添加边缘）当选择此选项时，地图的上、下、左、右会自动添加边缘。Wide passages（通道加宽）当选择此选项时，迷宫中的过道会变宽。</p></li><li><p>Wall</p><p>选择填充墙体的图块。 * 从正在使用的 A4 (墙体) 图块组中选择。</p></li><li><p>Floor</p><p>选择填充地板的图块。 * 从正在使用的 A5 (地板) 图块组中选择。</p></li></ul><h2 id="Playtest（游戏测试）"><a href="#Playtest（游戏测试）" class="headerlink" title="Playtest（游戏测试）"></a>Playtest（游戏测试）</h2><p>你可以在制作游戏过程中的任何阶段使用[Playtest（游戏测试）]功能来测试你的游戏，这项功能可以在菜单栏中的[Game（游戏）] → [Playtest（游戏测试）]找到。通过进行游戏测试，你可以在游戏发布之前查看游戏的背景和事件是否按照预期进行运作。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img06.png" alt="img"></p><ul><li><p>使用调试功能</p><p>当运行游戏测试时，按下键盘上的 F9 会打开调试窗口。在这里你可以改变屏幕中所显示的开关和变量的值。 * 在调试界面再按下[F9]即可返回游戏测试。  要改变变量的值，你需要选择目标开关/变量，（上方的 S 表示开关，下方的 V 表示变量，旁边的数字表示编号范围），然后按下决定键，右侧的目标开关/变量窗口会出现一个光标。使用决定键来改变开关的 ON/OFF 值，使用左右方向键和 L/R 来改变变量的值。</p></li><li><p>如何使用开发者工具</p><p>在游戏测试中按下 F8 键可以打开开发者工具。开发者工具的功能基本上与 Google Chrome 的相似。你可以检查任何使用 HTML5 编写的游戏中的元素。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_01_01_08_img05.png" alt="img"></p></li><li><p>退出游戏测试</p><p>要退出游戏测试，按下窗口上的 X 按钮以关闭窗口。</p></li></ul><h2 id="Resource-Manager（资源管理器）-（2016-年-3-月-1-日更新）"><a href="#Resource-Manager（资源管理器）-（2016-年-3-月-1-日更新）" class="headerlink" title="Resource Manager（资源管理器） （2016 年 3 月 1 日更新）"></a>Resource Manager（资源管理器） （2016 年 3 月 1 日更新）</h2><p>选择[Tools（工具）] → [Resource Manager（资源管理器）]即可打开资源管理器。在[Resource Manager（资源管理器）]中, 你能够管理工程中包含的资源。窗口中各个按钮的功能将在下面说明。想要在游戏中使用你自己的原创文件（包括图片/音频等），你的素材需要有特定的标准。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_01.html" target="_blank" rel="noopener">素材标准</a>]。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img09.png" alt="img"></p><ul><li><p>文件夹列表</p><p>窗口的左侧会显示包含资源文件的文件夹。当导入资源文件时，你需要根据你使用的目的来选择目标文件夹。</p></li><li><p>文件列表</p><p>窗口的右侧会显示所选文件夹中的文件列表。</p></li><li><p>Preview（预览）</p><p>预览[文件列表]中选中的图片文件。如果想要检查声音文件，请使用[Sound Test（声音测试）]工具。</p></li><li><p>Import（导入）</p><p>向工程中导入资源文件。首先你要在[文件夹列表]中选择要导入资源文件的位置，然后再选择文件进行导入。 你可以通过多选来一次性导入多个文件。(2016 年 4 月 21 日更新)</p></li><li><p>Export（导出）</p><p>将工程中的资源文件保存到工程之外。导出后，工程中依然含有导出的资源文件。</p></li><li><p>Delete（删除）</p><p>删除[文件列表]中的资源文件。文件一旦删除无法恢复，因此删除前请仔细考虑。 你可以使用 Shift 键选择多个文件来行进批量删除。(2016 年 4 月 21 日更新)</p></li><li><p>DLC (仅限 Steam 版本) (2016 年 4 月 21 日更新)</p><p>你能从网络上下载资源来用于你自己的游戏中。</p></li></ul><h2 id="Options-April-21th-2016-Update"><a href="#Options-April-21th-2016-Update" class="headerlink" title="Options (April 21th, 2016 Update)"></a>Options (April 21th, 2016 Update)</h2><p>You can open the [Options] window by going to [Tools] → [Options]. Here, you can change the Transparent Color settings as well as the Map Grid settings.</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img10.png" alt="img"></p><ul><li><p>Transparent Color</p><p>Sets the color to use as the transparency background in the editor.</p></li><li><p>Map Grid</p><p>By checking off the [Show] box, the Map Editor grid will be activated.</p></li><li><p>UI</p><p>ThemeChanges the appearance of the editor.Object Selector (August 4th, 2016 Update)Choose an object selector for selecting in-game objects in the editor like Items, Weapons, Armors, and so on. ［Dropdown］・・・Optimized for less than 100 objects. ［Extended］・・・Optimized for hundreds of objects. ［Smart］・・・Chooses one based on the amount of objects automatically.</p></li></ul><h2 id="Tutorials-Beta-March-21st-2017-Update"><a href="#Tutorials-Beta-March-21st-2017-Update" class="headerlink" title="Tutorials (Beta) (March 21st, 2017 Update)"></a>Tutorials (Beta) (March 21st, 2017 Update)</h2><p>You can see a list of available tutorials by opening [Tools]→[Tutorials (Beta)]→[Select Tutorial (Beta)]. Choose the topic that you would like to learn more about, then start the tutorial (beta).</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img11.png" alt="img"></p><p>Follow the on-screen instructions to proceed through the tutorial (beta).</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img12.png" alt="img"></p><h2 id="RPG-Maker-MV-Tools-March-21st-2017-Update"><a href="#RPG-Maker-MV-Tools-March-21st-2017-Update" class="headerlink" title="RPG Maker MV Tools (March 21st, 2017 Update)"></a>RPG Maker MV Tools (March 21st, 2017 Update)</h2><p>You can manage tools via [Tools]→[RPG Maker MV Tools].<br>*Requires RPG Maker MV Tools (sold separately.)</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img13.png" alt="img"></p><ul><li><p>Additional Tools</p><p>View a list of tools that have been added.DeleteYou can delete tools by selecting them from the list.Additional tools can be used via the [Tools] option in the menu.<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_05_img14.png" alt="img"></p></li><li><p>Found Tools</p><p>Searches for and displays tools found in RPG Maker MV Tools.AddAdds the selected tool to the list of Additional Tools.Select PathIf a tool does not automatically appear in the list of Additional Tools, it is possible to manually add it by clicking [Select Path] and navigating to the folder where the tool was installed.</p><p>玩你的游戏</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>玩你的游戏</p></li></ul><h2 id="基本控制"><a href="#基本控制" class="headerlink" title="基本控制"></a>基本控制</h2><h3 id="运行你的游戏"><a href="#运行你的游戏" class="headerlink" title="运行你的游戏"></a>运行你的游戏</h3><p>如何运行本软件所开发的游戏取决于取决于游戏的发布方式。</p><ul><li><p>使用 Windows</p><p>在游戏文件夹中双击文件名为<a href="或[Game]">Game.exe</a>的可执行程序。</p></li><li><p>使用 Mac OS X</p><p>在游戏文件夹中双击文件名为<a href="或[Game]">Game.app</a>的可执行程序。</p></li><li><p>在 Android/iOS 系统上</p><p>参考 <a href="http://miaowm5.github.io/RMMV-F1/page/01_11_05.html" target="_blank" rel="noopener">转换为 Android 程序</a>和<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_06.html" target="_blank" rel="noopener">转换为 iOS 程序</a>.</p></li></ul><p>* 当游戏为网页游戏时，参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_11_08.html" target="_blank" rel="noopener">建立本地服务器</a>]以在本地环境中查看你的游戏。</p><h3 id="控制"><a href="#控制" class="headerlink" title="控制"></a>控制</h3><p>作为标准，本软件制作的游戏控制将使用 4 按钮的游戏手柄。这些按钮的名字以 Xbox 360 手柄为基准。如下是标准游戏所支持的手柄按钮/键盘按键。游戏手柄上的十字键和键盘上的方向键被用来控制角色和光标的移动。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_06_img01.png" alt="img"></p><table><thead><tr><th align="left">控制</th><th align="left">游戏手柄 *1</th><th align="left">键盘</th><th align="left">鼠标</th><th align="left">触屏</th></tr></thead><tbody><tr><td align="left">移动</td><td align="left">十字键</td><td align="left">方向键， 数字小键盘</td><td align="left">直接点击目的地 *2</td><td align="left">轻触目的地 *2</td></tr><tr><td align="left">动作</td><td align="left">A</td><td align="left">Z, Enter, 空格</td><td align="left">点击目标</td><td align="left">轻触目标</td></tr><tr><td align="left">取消</td><td align="left">B</td><td align="left">X, Esc, 数字小键盘 0</td><td align="left">右键</td><td align="left">双指轻触</td></tr><tr><td align="left">菜单</td><td align="left">Y</td><td align="left">X, Esc, 数字小键盘 0</td><td align="left">右键</td><td align="left">双指轻触</td></tr><tr><td align="left">快跑</td><td align="left">X</td><td align="left">Shift</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">上一页</td><td align="left">LB</td><td align="left">Q, Page up</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">下一页</td><td align="left">RB</td><td align="left">W, Page down</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">页面滚动</td><td align="left">十字键</td><td align="left">方向键，数字小键盘</td><td align="left">从页面内部向外部拖动/鼠标滚轮</td><td align="left">从页面内部向外部滑动屏幕</td></tr></tbody></table><p>*1 当在 Windows 系统上使用手柄控制游戏时，手柄必须要支持 XInput 标准。<br>建议使用：Xbox 360 Controller for Windows</p><p>*2 在地图中，你可以通过在屏幕内不断点击/轻触目的地的方式，来达到一直向某个方向行走的目的。</p><h3 id="特殊控制"><a href="#特殊控制" class="headerlink" title="特殊控制"></a>特殊控制</h3><table><thead><tr><th align="left">键位</th><th align="left">功能</th></tr></thead><tbody><tr><td align="left">F2</td><td align="left">打开/关闭 FPS 和 Drawing Mode[这是什么模式？待讨论]的显示</td></tr><tr><td align="left">F3</td><td align="left">打开/关闭 拉伸模式</td></tr><tr><td align="left">F4</td><td align="left">打开/关闭 全屏模式</td></tr><tr><td align="left">F5</td><td align="left">重新载入</td></tr><tr><td align="left">F8</td><td align="left">打开开发者工具(仅在游戏测试中有效)</td></tr><tr><td align="left">F9</td><td align="left">打开调试界面(仅在游戏测试中有效)</td></tr><tr><td align="left">Ctrl + 方向键</td><td align="left">角色可以穿过障碍物(仅在游戏测试中有效)</td></tr><tr><td align="left">滚轮</td><td align="left">滚动页面</td></tr></tbody></table><h2 id="游戏内的菜单控制"><a href="#游戏内的菜单控制" class="headerlink" title="游戏内的菜单控制"></a>游戏内的菜单控制</h2><h3 id="标题菜单"><a href="#标题菜单" class="headerlink" title="标题菜单"></a>标题菜单</h3><p>标题画面在你运行游戏后出现。选择下面的选项以继续你的游戏。</p><ul><li><p>New Game(新游戏)</p><p>从头开始一个新游戏。</p></li><li><p>Continue(继续)</p><p>从旧存档处开始游戏。接下来需要选择存档。</p></li><li><p>Options(选项)</p><p>调整游戏全局设置，例如 BGM 的音量。</p></li></ul><h3 id="游戏时的主菜单-待讨论，原文是Menu-During-Movement，直译感觉会造成误解"><a href="#游戏时的主菜单-待讨论，原文是Menu-During-Movement，直译感觉会造成误解" class="headerlink" title="游戏时的主菜单[待讨论，原文是Menu During Movement，直译感觉会造成误解]"></a>游戏时的主菜单[待讨论，原文是Menu During Movement，直译感觉会造成误解]</h3><p>当玩家在地图中移动时，按下菜单键(也就是取消按钮，游戏手柄除外)就会显示这个主菜单。你在菜单中可以使用道具来恢复角色的状态，或者是存储游戏进度，这些命令可以在左侧窗口中找到。各个命令的详细信息如下。</p><ul><li><p>Item(物品)</p><p>查看/使用队伍所拥有的物品。要使用一件物品，从列表当中选中它即可(此操作取决于你使用的物品，有些物品选中后还要指定使用的目标才能发挥效果)。</p></li><li><p>Skill(技能)</p><p>查看/使用技能(魔法，等等)。要使用一个技能，从列表当中选中它即可(此操作取决于你使用的技能，有些技能选中后还要指定使用的目标才能发挥效果)。</p></li><li><p>Equip(装备)</p><p>查看/变更装备。当选择一个角色并改变他的装备时，你会同时选中要换下的装备和即将穿到角色身上的装备(或者是选择空白项来卸下装备)。</p></li><li><p>Status(状态)</p><p>查看角色的状态。你需要选择你想查看的角色。</p></li><li><p>Formation(编队)</p><p>更改队伍成员的顺序。</p></li><li><p>Options(选项)</p><p>调整游戏全局设置，例如 BGM 的音量。</p></li><li><p>Save(存档)</p><p>保存当前游戏状态。从 20 个存档位置中选一个你希望将游戏进度存储的位置。</p></li><li><p>Game End(结束游戏)</p><p>退出游戏。从 [To Title(返回标题画面)] 或 [Cancel(取消)] (亦可使用取消键)中选择一项。</p></li></ul><h3 id="战斗菜单"><a href="#战斗菜单" class="headerlink" title="战斗菜单"></a>战斗菜单</h3><p>当玩家遇敌时，游戏会切换到战斗画面中。你可以利用下面的命令进行战斗。当所有队员的 HP 降至 0 时，游戏结束。</p><ul><li><p>队伍指令</p><p>每一回合都会显示的指令。选择[Fight(战斗)]以继续战斗，或者是[Escape(逃跑)]来从敌群中撤退出来。但是，如果敌人来攻击你，即便是你选择了[Escape(逃跑)]，在本回合也只有敌人才能行动。</p></li><li><p>角色指令</p><p>当你选择了[Fight(战斗)]指令时，你需要为队伍中每位成员下达指令。主要的行动为<a href="使用当前装备的武器攻击敌人">Attack(攻击)</a>，<a href="自我防护以减少所受伤害">Guard(防御)</a>和<a href="使用当前所拥有的物品">Item(物品)</a>。可选的行动种类取决于角色的设定。</p></li></ul><h3 id="商店菜单"><a href="#商店菜单" class="headerlink" title="商店菜单"></a>商店菜单</h3><p>在商店你可以购买或出售物品，武器，防具等。</p><ul><li><p>购买</p><p>当你选择[Buy(购买)]时，屏幕中会出现可购买的物品，武器，防具等。选择物品及其数量然后按下 OK 按钮确认购买。  所持数/可装备此装备的角色队伍所持该物品的数量会显示在右侧窗口中。  当购买武器和防具时，队员会显示在右边，无法装备此装备的成员会显示为灰色。当你的队员数在 5 或以上时，你可以利用冲刺键或点击(轻触)右侧窗口来显示第五名队员后面的成员。</p></li><li><p>出售</p><p>当你选择[Sell(出售)]并选择[Item(物品)]，[Weapon(武器)]，[Armor(防具)]，[Key Item(重要物品)]，你当前拥有的物品会显示在屏幕中。选择你想出售的物品并输入数量，按下 OK 按钮确认出售。</p></li><li><p>输入数量</p><p>十字键/方向键功能右+1 物品数量左-1 物品数量上+10 物品数量下-10 物品数量* 当使用触屏设备控制时，你可以通过轻触下面的按钮来改变数量。按钮功能<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_06_img02.png" alt="img">+1 物品数量<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_06_img03.png" alt="img">-1 物品数量<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_06_img04.png" alt="img">+10 物品数量<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_06_img05.png" alt="img">-10 物品数量<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_06_img06.png" alt="img">OK</p></li></ul><h3 id="开发者工具"><a href="#开发者工具" class="headerlink" title="开发者工具"></a>开发者工具</h3><p>在游戏测试时，按下 F8 可以打开开发者工具。 详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_05.html#p04_01" target="_blank" rel="noopener">如何使用开发者工具</a>]的内容。</p><p> 地图</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>地图</p></li></ul><h2 id="什么是地图？"><a href="#什么是地图？" class="headerlink" title="什么是地图？"></a>什么是地图？</h2><p>地图是用来表示你游戏的背景和环境的数据。当玩游戏时，地图会随着玩家所到区域而显示出来。</p><p>设计地图，就是将一些部分拼接起来，这些部分叫做“图块”。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_img01.png" alt="img"></p><h2 id="地图基本说明"><a href="#地图基本说明" class="headerlink" title="地图基本说明"></a>地图基本说明</h2><h3 id="图块的作用"><a href="#图块的作用" class="headerlink" title="图块的作用"></a>图块的作用</h3><p>图块是决定地图外观的图像，并且你可以设置哪些图块玩家可以穿过，哪些不可以。</p><p>在一张地图当中，许多块图块被组织到一起包装成一整块数据，形成所谓的“图块组”。它是设计地图轮廓的基础。通过改变你所使用的图块组，你可以即时更改地图的外观。要编辑图块组的数据内容，你可以使用[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_10.html" target="_blank" rel="noopener">数据库</a>]。</p><h3 id="图块分类"><a href="#图块分类" class="headerlink" title="图块分类"></a>图块分类</h3><p>在一个图块组中，总共可以包含 5 种不同类型的图块，它们的编号为 A ~ E。A 是最低的一层，它代表地形和地面；B ~ E 则是较高层次的图块，它们用于表示地表上的元素，例如树木，灌木丛，或者标志牌。</p><p>你可以将上层图块和下层图块放在地图的同一个位置上。使用这样的两层设计，你可以创造极其精致复杂的地图。</p><p>作为标准，表示海洋，草地，地板，墙体的图块是底层图块，而上层图块被用来装饰底层图块的内容。<br>此外，你还可以将两种上层的图块重叠在一起。因此在这个版本的 RPG Maker 中，地图会变得更加多样。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_img02.png" alt="img"></p><h3 id="地图尺寸和显示方法"><a href="#地图尺寸和显示方法" class="headerlink" title="地图尺寸和显示方法"></a>地图尺寸和显示方法</h3><p>地图的尺寸以图块为单位，宽度和高度可分别设置为 0 ~ 256 个图块。</p><p>当游戏运行时，屏幕中可看到的图块数量为 17×13 。在大于此尺寸的地图中，显示区域会自动以主角为中心(卷动处理)。此外，通过连接地图的边缘，你可以做出循环地图的效果，就好像玩家身处一个星球上一样(循环处理)。</p><h3 id="地图定位"><a href="#地图定位" class="headerlink" title="地图定位"></a>地图定位</h3><p>地图上图块的位置代表着[地图坐标]。地图的原点位于左上角，坐标为(0,0)，X 坐标轴向右延伸，Y 坐标轴向下延伸。例如，在一个尺寸为 100×100 的地图中，右下角的坐标为(99,99)。当前编辑的图块坐标会显示在底部的状态栏上。</p><p>地图坐标可被用于一些事件指令当中，这些事件指令监测当前队伍的所在位置或者是以变量指定的移动地点。</p><p> 编辑地图</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_07.html" target="_blank" rel="noopener">地图</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>编辑地图</p></li></ul><h2 id="基本编辑方法"><a href="#基本编辑方法" class="headerlink" title="基本编辑方法"></a>基本编辑方法</h2><h3 id="切换到编辑模式"><a href="#切换到编辑模式" class="headerlink" title="切换到编辑模式"></a>切换到编辑模式</h3><p>要编辑地图布局，点击工具栏上的[Map(地图)]按钮(或者在主菜单中选择[Mode(模式)] → [Map(地图)])来切换到地图编辑模式。</p><h3 id="选择地图数据"><a href="#选择地图数据" class="headerlink" title="选择地图数据"></a>选择地图数据</h3><p>从地图列表中选择地图数据，地图列表可以在窗口左下角的窗口里找到。地图的布局会在右边地图窗口中显示出来。</p><h3 id="选择图块"><a href="#选择图块" class="headerlink" title="选择图块"></a>选择图块</h3><p>从图块调色板上选择你想绘制的图块。当前选中的图块会被白色方框标注。当你点击图块调色板下方的 A ~ E 标签时，所显示的图块内容会随着你选择的标签而切换。</p><p>你可以同时选择多个图块，操作的方法为在图块调色板上进行拖动选择。</p><h3 id="选择绘制工具来绘制地图"><a href="#选择绘制工具来绘制地图" class="headerlink" title="选择绘制工具来绘制地图"></a>选择绘制工具来绘制地图</h3><p>要在地图上绘制图块，你可以在工具栏中选择适当的绘制工具(总共是下面的 5 种工具)。此外，当你在窗口右侧的显示区域(地图预览)中点击或拖动鼠标时，图块就被绘制出来了。你也可以在[Draw(绘制)]菜单中找到这些工具。</p><p>你可以利用透明图块来擦除已有的图块。透明图块的位置为 B 标签图块的左上角。</p><ul><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_01_img01.png" alt="img"> Pencil(铅笔)</p><p>在点击的位置上绘制所选图块。</p></li><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_01_img02.png" alt="img"> Rectangle(矩形)</p><p>当你沿着对角线方向拖动鼠标时，鼠标的始末位置(两个点)会形成一个矩形。所选图块会被绘制在这个矩形区域当中。</p></li><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_01_img03.png" alt="img"> Ellipse(椭圆)</p><p>当你沿着对角线方向拖动鼠标时，鼠标的始末位置(两个点)会决定一个椭圆。所选图块会被绘制在这个椭圆区域当中。</p></li><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_01_img04.png" alt="img"> Flood Fill(颜料桶)</p><p>图块会填满点击区域中所有相同的其他图块。</p></li><li><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_01_img05.png" alt="img"> Shadow Pen(阴影笔)</p><p>添加或删除所点击区域的阴影，例如墙体的阴影。</p></li></ul><h2 id="其他编辑功能"><a href="#其他编辑功能" class="headerlink" title="其他编辑功能"></a>其他编辑功能</h2><ul><li><p>自动元件</p><p>图块调色板的 A 标签上有一种特殊功能的图块，这种图块称为[Autotile(自动原件)]。使用自动图块，可以让一种图块中包含多个图案。根据自动图块的放置位置，它们所在区域的边界会自动调节。在数据库的[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_10.html" target="_blank" rel="noopener">图块组</a>]，自动图块被安放在[A1] ~ [A4]的位置上。  此外，当使用吸管工具复制图块或者在绘制图块时按住[Shift]键时，自动图块功能将暂时失效。</p></li><li><p>自动阴影</p><p>使用自动图块时，如果将两个或更多的图块竖直放置，那么图块的右下角会自动补上阴影。然而，一些特定的图块不会自动绘制阴影。</p></li><li><p>阴影笔</p><p>阴影笔用于为建筑或墙体绘制阴影。你可以将图块 1/4 处的色调变暗。  点击工具栏上的[Shadow Pen(阴影笔)]按钮(或者点击菜单上的[Draw(绘制)] → [Shadow Pen(阴影笔)])，然后在地图窗口点击。如果一个位置上没有阴影，点击此位置后将绘制阴影；如果一个位置上有阴影，点击此位置后将清除阴影。<img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_01_img06.png" alt="img"></p></li><li><p>上层图块的特殊说明</p><p>你最多可以将两种不同的上层(B-E)图块放置在同一位置。 * 当放置第三个图块时，最先放置的上层图块就消失了。 * 当第三个图块和第二个图块相同时，最先放置的图块不会消失。 * 只有 B 标签中左上角的图块可以擦除其他上层图块。当可通行图块和不可通行图块放置在同一位置时，考虑通行度时将优先考虑最后放置的图块。 * 即便是标有 ☆ 的可通行图块在底部，它依然会被显示在最上面。 * 当放置一个标有 ☆ 的可通行图块时，考虑通行度时将优先考虑不可通行的图块。</p></li><li><p>底层图块的特殊说明</p><p>在图块调色板的 [A] 标签页中，[A2] 位置的图块的优先度分成[Base(基础)](左起 1 ~ 4，也就是左半边的图块)和[Decoration(装饰)]图块，(左起 5 ~ 8 ，也就是右半边的图块)。装饰图块可以被放在基础图块上。  然后，对于那些优先度[Mode(模式)]为[World Type(世界类型)]的[Tilesets(图块组)]来说，当将装饰图块放在第二列或者第四列的基础图块上时，基础图块自动会变成第一列或第三列的样子。</p></li></ul><p> 地图属性</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_07.html" target="_blank" rel="noopener">地图</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>地图属性</p></li></ul><h2 id="地图详细信息"><a href="#地图详细信息" class="headerlink" title="地图详细信息"></a>地图详细信息</h2><p>当你新建一个地图，或者右键点击一个已有地图然后选择“编辑”时，地图属性窗口就会打开。在本窗口中，你可以编辑地图大小，所用的工具，背景音乐，遇敌条件(触发战斗的条件)和游戏的行为。</p><h2 id="属性详细信息"><a href="#属性详细信息" class="headerlink" title="属性详细信息"></a>属性详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_03_img01.png" alt="img"></p><h3 id="常规设置"><a href="#常规设置" class="headerlink" title="常规设置"></a>常规设置</h3><h3 id="Name-名字"><a href="#Name-名字" class="headerlink" title="Name(名字)"></a>Name(名字)</h3><p>地图的名字。这个属性只在编辑器中使用(不会影响游戏)。</p><h3 id="Display-Name-显示名称"><a href="#Display-Name-显示名称" class="headerlink" title="Display Name(显示名称)"></a>Display Name(显示名称)</h3><p>在角色进入地图时显示在屏幕上的地图名。</p><h3 id="Tileset-图块组"><a href="#Tileset-图块组" class="headerlink" title="Tileset(图块组)"></a>Tileset(图块组)</h3><p>指定地图布局所使用的图块组。</p><h3 id="Width-Height-宽度-高度"><a href="#Width-Height-宽度-高度" class="headerlink" title="Width/Height(宽度/高度)"></a>Width/Height(宽度/高度)</h3><p>地图的尺寸。[Width(宽度)] 和 [Height(高度)] 的设置范围为 0 ~ 256。当缩小地图尺寸时，地图以外的部分将被删除。</p><h3 id="Scroll-Type-滚动模式"><a href="#Scroll-Type-滚动模式" class="headerlink" title="Scroll Type(滚动模式)"></a>Scroll Type(滚动模式)</h3><p>决定地图如何循环滚动。当设置为循环模式时，角色可以从地图的一边循环走到另一边。</p><ul><li><p>No Loop(不循环)</p><p>地图不是循环的。</p></li><li><p>Loop Vertically(垂直循环)</p><p>地图的上下边界会连接起来。</p></li><li><p>Loop Horizontally(水平循环)</p><p>地图的上下边界会连接起来。</p></li><li><p>Loop Both(水平/垂直循环)</p><p>上下边界，左右边界都会连接起来。</p></li></ul><h3 id="Encounter-Steps-遇敌步数"><a href="#Encounter-Steps-遇敌步数" class="headerlink" title="Encounter Steps(遇敌步数)"></a>Encounter Steps(遇敌步数)</h3><p>决定主角随机遇敌的频率。设定值为主角平均走多少步就会遇敌敌人(范围为 1 ~ 999，一步的含义就是移动一个图块的距离)。如果你想要怪物频繁出现，请把此数值下调。</p><h3 id="Autoplay-BGM-Autoplay-BGS-自动播放-BGM-BGS"><a href="#Autoplay-BGM-Autoplay-BGS-自动播放-BGM-BGS" class="headerlink" title="Autoplay BGM/ Autoplay BGS(自动播放 BGM/BGS)"></a>Autoplay BGM/ Autoplay BGS(自动播放 BGM/BGS)</h3><p>启用时，主角进入该地图后，BGM(背景音乐)和 BGS(背景声音)将会自动播放。请分别选择你想要播放的声音文件。<br>如图地图的 BGM 和战斗 BGM 相同，切换场景时，音乐不会停止。</p><h3 id="Specify-Battleback-指定战斗背景"><a href="#Specify-Battleback-指定战斗背景" class="headerlink" title="Specify Battleback(指定战斗背景)"></a>Specify Battleback(指定战斗背景)</h3><p>启用时，你可以使用两种图像的组合来指定此地图战斗的背景。<br>未指定时，战斗背景会自动和地形一致。对其他地图来讲，战斗背景图也可能是处理过的地图画面。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_03_img02.png" alt="img"></p><h3 id="Disable-Dashing-禁止加速"><a href="#Disable-Dashing-禁止加速" class="headerlink" title="Disable Dashing(禁止加速)"></a>Disable Dashing(禁止加速)</h3><p>启用时，玩家不能在这个地图上加速跑。</p><h3 id="Parallax-Background-远景图"><a href="#Parallax-Background-远景图" class="headerlink" title="Parallax Background(远景图)"></a>Parallax Background(远景图)</h3><p>出现在地图透明处的图像。点击[…]按钮后，在弹出的窗口中选择你想使用的文件。</p><p>当你启用[Loop Vertically(垂直循环)] 或 [Loop Horizontally(水平循环)]时，背景也会随着主角移动方向而卷动。并且，如果你设置的滚动值不是 0 (范围为 -32 ~ 32)，它也会自动滚动。如果滚动值时正数，它会向左或向上滚动，如果滚动值时负数，它会向右或向下滚动。数值的绝对值越大，滚动速度越快。</p><p>如果你启用[Show in the Editor(在编辑器中显示)]，那么你就会在编辑器中看到远景图预览。然而，显示的内容并不总是和实际游戏中的相同。</p><p>此外，如果你在远景图文件名的前面加上”!”，该图的视差会变为 0。</p><h3 id="Note-备注"><a href="#Note-备注" class="headerlink" title="Note(备注)"></a>Note(备注)</h3><p>在制作游戏时，你可以随便在这里添加备注。这个属性仅仅在编辑器中有效(不会影响游戏)。</p><h3 id="Encounters-遇敌"><a href="#Encounters-遇敌" class="headerlink" title="Encounters(遇敌)"></a>Encounters(遇敌)</h3><p>这个列表显示了所有角色在地图上移动时随机遇到的敌群。双击空行会打开一个窗口，你可以设定以下内容。当右键点击一个已有的敌群时，你可以在右键菜单中做复制或删除等操作。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_03_img03.png" alt="img"></p><ul><li><p>Troops(敌群)</p><p>定义你想要设置的敌群。</p></li><li><p>Weight(权重)</p><p>设置遇敌时此敌群出现的优先顺序(0 ~ 100)。权重越高，当定义多个敌群时，遇到这一组敌群的可能就越大。  敌群的遇敌概率计算取决于此敌群权重的所占比例。例如，敌群 A 的权重为 9，敌群 B 的权重为 7 ，敌群 C 的权重为 4。这种情况下，遇到敌群 A 的概率为 9/20(总权重为 9+7+4)，也就是 0.45。换句话说，它会有 45% 的几率出现。相似地，敌群 B 出现几率为 7/20(35%)，敌群 C 的为 20%。 </p></li><li><p>Range(范围)</p><p>敌群出现的区域。如果遇敌范围和区域无关，请选择”Entire Map(整个地图)”。如果要指定仅在特定区域遇敌，请选择”Specify by Region ID(由区域 ID 指定)”，并指定区域的 ID(最多指定 3 个区域)。设置区域的方法如下。</p></li></ul><h2 id="设置区域"><a href="#设置区域" class="headerlink" title="设置区域"></a>设置区域</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_07_03_img04.png" alt="img"></p><p>在地图的遇敌设置中指定的[Region(区域)]表明在此区域你将遇到何种敌人。一张地图可以分成至多 255 个区域。</p><p>要设置区域，首先在图块调色板上选择 R 标签，切换到编辑模式。之后，在窗口的左上方选择区域的 ID(1 ~ 255)，然后在地图上点击就可以设置相应图块的区域。一个图块只能设置一个区域 ID。</p><h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>数据库</p></li></ul><h2 id="什么是数据库？"><a href="#什么是数据库？" class="headerlink" title="什么是数据库？"></a>什么是数据库？</h2><p>数据库将所有游戏成分（地图和地图事件除外）组织到了一起，例如玩家控制的角色，物品，魔法，属性。这些成分可大致分为下面 15 种数据。</p><p>除了[System(系统)]、[Types(属性)]与[Terms(用语)]之外，所有数据均以游戏中登场的单位分别设置。例：“恢复药水”和“钥匙”这类物品，每个物品都在[Items(物品)]中制作数据，设置各自的名称、图像、使用时的效果之类的特征。</p><table><thead><tr><th align="left">Actors(角色)</th><th>玩家可控制的角色。</th></tr></thead><tbody><tr><td align="left">Class(职业)</td><td>每个角色的特点(特性，成长条件等)。</td></tr><tr><td align="left">Skills(技能)</td><td>行动与特殊技能(普通攻击，特技，魔法)。</td></tr><tr><td align="left">Item(物品)</td><td>玩家拥有的物品(药水，钥匙等)。</td></tr><tr><td align="left">Weapons(武器)</td><td>角色用于进攻的装备(剑，杖，弓等)。</td></tr><tr><td align="left">Armors(防具)</td><td>角色用于防御的装备(护甲，盾牌，装饰品等)。</td></tr><tr><td align="left">Enemies(敌人)</td><td>会和主角发生战斗的角色。</td></tr><tr><td align="left">Troops(敌群)</td><td>出现在游戏中的敌人队伍。</td></tr><tr><td align="left">States(状态)</td><td>角色，敌人的状态(中毒，战斗不能等)。</td></tr><tr><td align="left">Animations(动画)</td><td>一些视觉效果(例如发动技能时)。</td></tr><tr><td align="left">Tileset(图块组)</td><td>创建地图时，用于管理图块的数据。</td></tr><tr><td align="left">Common Events(公共事件)</td><td>处理公共使用的事件。</td></tr><tr><td align="left">System(系统)</td><td>游戏的全局基础设定，例如初始设定和音乐。</td></tr><tr><td align="left">Types(属性)</td><td>设定元素，技能，武器，防具，装备的属性。</td></tr><tr><td align="left">Terms(用语)</td><td>一些游戏指令和参数的文字内容。</td></tr></tbody></table><h2 id="编辑数据库"><a href="#编辑数据库" class="headerlink" title="编辑数据库"></a>编辑数据库</h2><h3 id="显示编辑窗口"><a href="#显示编辑窗口" class="headerlink" title="显示编辑窗口"></a>显示编辑窗口</h3><p>数据库的内容要在[Database(数据库)]窗口编辑。要显示数据库窗口，点击工具栏上的[Database(数据库)]按钮(或选择菜单栏中的[Tools(工具)] → [Database(数据库)])。</p><h3 id="组织编辑窗口"><a href="#组织编辑窗口" class="headerlink" title="组织编辑窗口"></a>组织编辑窗口</h3><p>你可以根据数据的类型在[Database(数据库)]窗口的侧边菜单中选择数据。要创建和编辑数据，请点击侧边菜单上的按钮切换屏幕显示的内容。</p><p>当编辑除[System(系统)]，[Types(属性)]，[Terms(用语)]以外的数据时，首先在屏幕左侧的数据列表中选择你要编辑的数据。在这之后，编辑窗口右侧的参数以进一步确定数据的特性。</p><p>当按下键盘上的[F4] 或 [F5]键时，你可以在当前的数据列表中切换上一个数据和下一个数据。</p><h3 id="更改数据条目的数量"><a href="#更改数据条目的数量" class="headerlink" title="更改数据条目的数量"></a>更改数据条目的数量</h3><p>技能，物品，武器，敌人，敌群的最大值被设定为 2000，其余类型的数据则是 1000。要改变数据条目的总数，点击数据列表下的[Change Maximum(更改最大值)]按钮，然后输入新的数据条目数量。当减少数据条目的最大值时，超过这个最大值的数据将被删除。</p><h3 id="通过右键菜单控制"><a href="#通过右键菜单控制" class="headerlink" title="通过右键菜单控制"></a>通过右键菜单控制</h3><p>当你右键点击数据列表中的一项时，会出现一个菜单。你可以进行例如复制数据这样的操作。如下是每一项命令的详细信息。</p><ul><li><p>Copy(复制)</p><p>将选中数据的详细参数信息复制到剪贴板上。 当你按住[Shift]键进行选择时，可以复制多份数据。</p></li><li><p>Paste(粘贴)</p><p>将剪贴板上的详细参数信息应用(覆盖)到所选数据上。所选数据之前的参数信息将会被丢失。</p></li><li><p>Clear(清除)</p><p>删除本数据所有详细参数信息。</p></li></ul><h3 id="有关数据-ID"><a href="#有关数据-ID" class="headerlink" title="有关数据 ID"></a>有关数据 ID</h3><p>在每项数据记录前面显示的数字被称作它的数据 ID(这个数字是独一无二的)。当在事件指令中利用变量指定数据时，ID 就会派上用场。</p><h3 id="利用备注区域"><a href="#利用备注区域" class="headerlink" title="利用备注区域"></a>利用备注区域</h3><p>在某些数据中(actors(角色)/classes(职业)/skills(技能)/items(物品)/weapons(武器)/armors(防具)/enemies(敌人)/states(状态)/tilesets(图块组))，有一处[Note(备注)]区域。在制作游戏时你可以随便在这里写下备注。和前面一样，这不会影响游戏，在一些插件中，你可以利用备注来定义额外的信息。</p><h1 id="角色设置"><a href="#角色设置" class="headerlink" title="角色设置"></a>角色设置</h1><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>角色设置</p></li></ul><h2 id="数据的作用"><a href="#数据的作用" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>表示玩家可控角色的数据。<br>你可以给每一位角色赋予独特的特征。</p><h2 id="属性详细信息-1"><a href="#属性详细信息-1" class="headerlink" title="属性详细信息"></a>属性详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_01_img01.png" alt="img"></p><ul><li><p>Name(名字)</p><p>[Name(名字)]是在游戏过程中所显示的角色姓名。有些情况下，如果名字过长，角色的名字在游戏或战斗中可能会显示不全。</p></li><li><p>Nickname(昵称)</p><p>角色的昵称。它会在右上方的状态窗口中显示。</p></li><li><p>Class(职业)</p><p>角色所属的职业。这会影响到角色所使用的技能，所能装备的武器，所能使用的物品等等。你要在[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_02.html" target="_blank" rel="noopener">Class(职业)</a>] 标签里编辑更加详细的信息。</p></li><li><p>Initial Level/ Max Level(初始等级/最大等级)</p><p>[Initial Level(初始等级)]是角色在游戏开始时的等级，[Max Level(最大等级)]是该角色所能达到的最高等级。角色的等级不能超过[Max Level(最大等级)]。每一项的数值都可以设定为 1 ~ 99。</p></li><li><p>Profile(个人资料)</p><p>角色的介绍。这会在状态画面的下半部分里显示。</p></li><li><p>Images(图像)</p><p>Face(头像)显示在菜单里的图像。Character(行走图)显示在地图画面上的图像。[SV] BattlerI([横版]战斗图)在横版战斗中显示的角色战斗图。</p></li><li><p>Initial Equipment(初期装备)</p><p>游戏开始时角色身穿的装备。在每个部位的下拉列表中选择你想要设定的装备。注意，只能从角色所属职业所能装备的物品中选择。如果设置为[None(无)]，那么游戏初期角色的该位置将不会有装备。</p></li><li><p>Traits(特性)</p><p>角色的独特属性。双击设置区域的每一行都可以定义一项特性的详细信息。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_15.html" target="_blank" rel="noopener">如何设置特性</a>]。</p></li><li><p>备注</p><p>在制作游戏过程中，[Note（备注）]部分可以用来做备注。 右键点击可以打开菜单，在其中选择[Plugin Help…（插件帮助）]来显示插件帮助。 （2016.03.01 更新）</p><p>职业设置</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>职业设置</p></li></ul><h2 id="数据的作用-1"><a href="#数据的作用-1" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>职业数据是有关角色能力特性的集合。你必须为每一个角色指定一个职业，然后通过改变各项参数来调节角色升级的方式，能力值的增长方式，升级所学会的技能等。你还可以为角色赋予职业特性。</p><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_02_img01.png" alt="img"></p><h2 id="设置参数曲线"><a href="#设置参数曲线" class="headerlink" title="设置参数曲线"></a>设置参数曲线</h2><p>在[Parameter Curves（参数曲线）]窗口当中，每个等级的参数值可以基于以下的方法进行设定。要切换要编辑的参数，直接点击带有该参数名称的标签即可。当你完成编辑后，点击[OK]，你设置的数值就会被保存（当按下[Cancel（取消）]键时会放弃本次更改）。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_02_img03.png" alt="img"></p><ul><li><p>Quick Settings（快速设置）</p><p>此功能会将各个等级的参数值设置为软件事先指定的数值。总共有 5 个级别，分别为 [A] ~ [E]，点击对应的按钮之后该级别的数据就会被自动设置。</p></li><li><p>Level/Value（等级/数值）</p><p>直接为每个等级编辑参数。操作方法为先在[Level（等级）]输入框指定你要设置的等级（1 ~ 99），然后在[Value（数值）]输入框指定当前等级对应的参数（最大 HP 和 最大 MP 的范围为 1 ~ 9999，其他参数为 1 ~ 999）。</p></li><li><p>Generate Curve（生成曲线）</p><p>可以由 1 级和 99 级的数据自动计算所有等级所对应的参数值。  点击[Generate Curve（生成曲线）]后，首先在显示的窗口中定义[1 级]和[99 级]的数值（最大 HP 和 最大 MP 的范围为 1 ~ 9999，其他参数为 1 ~ 999）。  然后，利用滑块决定增长类型。当滑块偏左（早熟）时，增长的速率（参数增长的数量）会随着级别的升高而减慢，当滑块偏右（晚熟）时，增长的速率会随着级别的升高而加快。点击[OK]后，参数会按照你指定的内容进行设置。</p></li><li><p>Graph（图表）</p><p>每个等级的参数值会显示在一个条形图中。直接在图表的显示区域上点击或拖动鼠标，你就可以设置对应等级的参数值。技能设置</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>技能设置</p></li></ul><h2 id="数据的作用-2"><a href="#数据的作用-2" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>定义角色在战斗中采取的行为，例如战斗，防御，魔法攻击和特殊攻击等。通过设置使用条件，成功率，给予目标的伤害等参数，你可以创建各种各样的技能。</p><h2 id="参数详细信息"><a href="#参数详细信息" class="headerlink" title="参数详细信息"></a>参数详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_03_img01.png" alt="img"></p><h3 id="常规设置-1"><a href="#常规设置-1" class="headerlink" title="常规设置"></a>常规设置</h3><h3 id="Name-名称"><a href="#Name-名称" class="headerlink" title="Name(名称)"></a>Name(名称)</h3><p>技能的名称。如果技能名称太长，那么在游戏画面中可能会显示不全。</p><h3 id="Icon-图标"><a href="#Icon-图标" class="headerlink" title="Icon(图标)"></a>Icon(图标)</h3><p>游戏中和技能名称一同显示的图像。双击技能图标后，你可以在打开的[Select an Image(选择图像)]窗口中任意选择图标。通常会选择和技能特点相关的图片作为技能图标。</p><h3 id="Description-说明"><a href="#Description-说明" class="headerlink" title="Description(说明)"></a>Description(说明)</h3><p>在游戏中，光标选中该技能时所显示的技能说明。</p><h3 id="Skill-Type-技能种类"><a href="#Skill-Type-技能种类" class="headerlink" title="Skill Type(技能种类)"></a>Skill Type(技能种类)</h3><p>指定技能种类。默认情况下会设置为[Magic(魔法)] 和 [TP Skills(TP 技能)]，但是你可以在[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_14.html" target="_blank" rel="noopener">用语</a>]设置中改变此项设定。对于那些非[None(无)]的设定，每项[Additional Skill Type(附加技能种类)]的效果只能被已经拥有此技能的角色和职业所使用。</p><h3 id="MP-Cost-TP-Cost-MP-消耗-TP-消耗"><a href="#MP-Cost-TP-Cost-MP-消耗-TP-消耗" class="headerlink" title="MP Cost/TP Cost(MP 消耗/TP 消耗)"></a>MP Cost/TP Cost(MP 消耗/TP 消耗)</h3><p>技能使用后消耗的 MP (0 ~ 999) 和 TP (0 ~ 100)。如果角色的 MP 或 TP 不足，这个技能将无法使用。</p><h3 id="Scope-使用范围"><a href="#Scope-使用范围" class="headerlink" title="Scope(使用范围)"></a>Scope(使用范围)</h3><p>技能效果的范围。你必须在如下的选项中选择一个。</p><ul><li><p>None(无)</p><p>不需要指定使用范围的技能。</p></li><li><p>1 Enemy(敌单体)</p><p>敌人队伍中的一个敌人</p></li><li><p>All enemies(敌全体)</p><p>整个敌人队伍</p></li><li><p>X Random Enemy(X 个随机敌人)</p><p>随机选择指定数量的敌人(X 为目标数量)</p></li><li><p>1 Ally(己方单体)</p><p>队伍中的一名同伴</p></li><li><p>All Allies(己方全体)</p><p>队伍中的所有同伴</p></li><li><p>1 Ally (Dead)(己方阵亡单体)</p><p>队伍中的一名已经阵亡的同伴</p></li><li><p>All Allies (Dead)(己方阵亡全体)</p><p>队伍中所有已经阵亡的同伴</p></li><li><p>The User(使用者)</p><p>使用此技能的人</p></li></ul><h3 id="Occasion-使用场合"><a href="#Occasion-使用场合" class="headerlink" title="Occasion(使用场合)"></a>Occasion(使用场合)</h3><p>选择技能可以被使用的场合。从如下的选项中选择一个：[Always(平时)] (可以在战斗中和菜单中使用)，[Battle Screen(战斗中)] (只能在战斗中使用)，[Menu Screen(菜单中)] (只能在菜单画面使用) 和 [Never(不能使用)]。</p><h3 id="Invocation-使用"><a href="#Invocation-使用" class="headerlink" title="Invocation(使用)"></a>Invocation(使用)</h3><h3 id="Speed-速度"><a href="#Speed-速度" class="headerlink" title="Speed(速度)"></a>Speed(速度)</h3><p>当使用此技能时为角色(暂时)增加的速度(范围为 -2000 ~ 2000)。这会影响到战斗中的行动顺序，利用此设定可以制作威力较小但可以快速使用的技能或者是威力较大但是需要花费一定时间才能使用的技能。</p><h3 id="Success-成功率"><a href="#Success-成功率" class="headerlink" title="Success(成功率)"></a>Success(成功率)</h3><p>使用该技能的成功率(0 ~ 100%)。实际成功率还会受到对方有效度的影响。</p><h3 id="Repeat-重复次数"><a href="#Repeat-重复次数" class="headerlink" title="Repeat(重复次数)"></a>Repeat(重复次数)</h3><p>技能使用一次后效果被应用的次数(1 ~ 9 次)。</p><h3 id="TP-Gain-TP-获得数"><a href="#TP-Gain-TP-获得数" class="headerlink" title="TP Gain(TP 获得数)"></a>TP Gain(TP 获得数)</h3><p>成功对目标使用技能后，TP 的增加值。</p><h3 id="Hit-Type-击中类型"><a href="#Hit-Type-击中类型" class="headerlink" title="Hit Type(击中类型)"></a>Hit Type(击中类型)</h3><p>决定技能的击中类型。你必须从如下的选项中选择一个。</p><ul><li><p>Certain Hit(必定击中)</p><p>技能成功发动就将其视为命中。反击，魔法反射和保护弱者都对该技能无效。</p></li><li><p>Physical Attack(物理攻击)</p><p>成功率由使用者的命中率和目标的回避率决定。反击和保护弱者会对该技能生效。</p></li><li><p>Magic Attack(魔法攻击)</p><p>成功率由目标的魔法回避率决定。魔法反射和保护弱者会对该技能生效。</p></li></ul><h3 id="Animations-动画"><a href="#Animations-动画" class="headerlink" title="Animations(动画)"></a>Animations(动画)</h3><p>战斗中出现在目标上方的动画。</p><h3 id="Message-消息"><a href="#Message-消息" class="headerlink" title="Message(消息)"></a>Message(消息)</h3><p>为战斗中技能使用设置固定的短语(至多 2 行)。使用时，”%1” 符号会被技能的名称所替代。你可以通过按下[casts *!] 按钮，[does *!] 按钮或[used *!]按钮来设置固定短语。</p><h3 id="Required-Weapon-所需武器"><a href="#Required-Weapon-所需武器" class="headerlink" title="Required Weapon(所需武器)"></a>Required Weapon(所需武器)</h3><h3 id="Weapon-Type-1-Weapon-Type-2-武器类型-1-2"><a href="#Weapon-Type-1-Weapon-Type-2-武器类型-1-2" class="headerlink" title="Weapon Type 1/Weapon Type 2(武器类型 1/2)"></a>Weapon Type 1/Weapon Type 2(武器类型 1/2)</h3><p>使用技能时所需装备的武器。如果二者都被设置为[None(无)]，你在发动这个技能时不需要任何武器要求。当选择了两个种类时，任意装备两种武器中的一种就可以使用此技能。</p><h3 id="Damage-伤害"><a href="#Damage-伤害" class="headerlink" title="Damage(伤害)"></a>Damage(伤害)</h3><p>在技能对目标造成伤害时，指定效果的数量和此类效果的伤害公式。</p><ul><li><p>Type(种类)</p><p>与 HP、MP 有关的种类。从下面 6 种不同的种类的效果中选择一个。[Damage(伤害)]减少 HP/MP，[Recover(恢复)]增加 HP/MP 以及 [Drain(吸收)]转移 HP/MP (将一小部分 HP/MP 从目标转移到使用者身上)。</p></li><li><p>Element(属性)</p><p>效果的属性。</p></li><li><p>Formula(伤害公式)</p><p>决定技能效果的公式。  输入伤害公式时，可以直接使用下面的字符串来引用各项参数。当表示使用者时，将 “x” 改为 “a”，当表示目标时，将 “x” 改为 “b”。输入 “a.atk” 表示使用者的攻击力。此外，你可以使用 “v[n]” 来引用编号为 n 的变量。属性公式时，你可以使用基本的四则运算符号(+, -, *, /)。  当你输入 “a.atk * 4 - b.def * 2” 时，技能的效果值会被计算为”(攻击者的攻击力×4) - (目标的防御×2)”。  另一方面，由于技能的效果依赖于属性和防御，这些因素可不必出现在公式中。x.atkAttack Power(攻击力)x.defDefense(防御)x.matMagic Attack(魔法攻击力)x.mdfMagic Defense(魔法防御)x.agiAgility(速度)x.lukLuck(幸运)x.mhpMax HP(最大 HP)x.mmpMax MP(最大 MP)x.hpCurrent HP(当前 HP)x.mpCurrent MP(当前 MP)x.tpCurrent TP(当前 TP)x.levelLevel(等级)</p></li><li><p>Variance(分散度)</p><p>技能效果的波动范围(0 ~ 100%)。在指定的百分比范围内提高或者降低技能的效果值。例如效果值为 100 分散度为 20，则实际的效果值会在 80 到 120 之间(100±20)。</p></li><li><p>Critical Hits(会心一击)</p><p>选择[Yes(是)]和[No(否)]来指定该技能是否能造成会心一击。当选择[Yes(是)]时，产生会心一击的几率会由使用者的会心一击触发率和目标的会心一击回避率共同决定。</p></li></ul><h3 id="Effects-效果"><a href="#Effects-效果" class="headerlink" title="Effects(效果)"></a>Effects(效果)</h3><p>除伤害之外的其他效果的信息。你可以双击列表，然后在出现的[Effects(效果)]窗口中设置它们。详情请参考后面的[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_16.html" target="_blank" rel="noopener">如何设置效果</a>]部分。</p><h3 id="Note-备注-1"><a href="#Note-备注-1" class="headerlink" title="Note(备注)"></a>Note(备注)</h3><p>在制作游戏过程中，[Note（备注）]部分可以用来做备注。<br>右键点击可以打开菜单，在其中选择[Plugin Help…（插件帮助）]来显示插件帮助。<br>（2016.03.01 更新）</p><p>物品设置</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>物品设置</p></li></ul><h2 id="数据的作用-3"><a href="#数据的作用-3" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>物品数据表示装备之外的道具。当角色使用物品时，你可以为其添加使用效果。此外，你可以创建推进剧情发展的关键物品(事件内容s)例如开门的钥匙。</p><h2 id="参数详细信息-1"><a href="#参数详细信息-1" class="headerlink" title="参数详细信息"></a>参数详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_04_img01.png" alt="img"></p><h3 id="常规设置-2"><a href="#常规设置-2" class="headerlink" title="常规设置"></a>常规设置</h3><h3 id="Name-名称-1"><a href="#Name-名称-1" class="headerlink" title="Name(名称)"></a>Name(名称)</h3><p>物品的名称。如果物品名称太长，那么在游戏画面中可能会显示不全。</p><h3 id="Icon-图标-1"><a href="#Icon-图标-1" class="headerlink" title="Icon(图标)"></a>Icon(图标)</h3><p>游戏中和物品名称一同显示的图像。双击物品图标后，你可以在打开的[Select an Image(选择图像)]窗口中任意选择图标。</p><h3 id="Description-说明-1"><a href="#Description-说明-1" class="headerlink" title="Description(说明)"></a>Description(说明)</h3><p>在游戏中，光标选中该物品时所显示的物品说明。</p><h3 id="Item-Type-物品种类"><a href="#Item-Type-物品种类" class="headerlink" title="Item Type(物品种类)"></a>Item Type(物品种类)</h3><p>物品的种类。</p><ul><li><p>[Key Item(关键物品)]</p><p>区别于常规物品，在道具菜单中，关键物品会在另一个窗口中显示。</p></li><li><p>[Hidden Item A(隐藏物品 A)] 和 [Hidden Item B(隐藏物品 B)]</p><p>这些物品不会在物品画面中显示。只有在事件里选择物品的时候，这些特殊的物品才会显示。</p></li></ul><h3 id="Price-价格"><a href="#Price-价格" class="headerlink" title="Price(价格)"></a>Price(价格)</h3><p>该物品从商店买入时的价格。商品的卖出价为原始价格的一半。当价格设置为 0 时，此项物品无法卖出。</p><h3 id="Consumable-消耗"><a href="#Consumable-消耗" class="headerlink" title="Consumable(消耗)"></a>Consumable(消耗)</h3><p>这个参数决定了物品使用后是否消失。如果你设置为[Yes(是)]，每次使用时，物品的数量都会减少。</p><h3 id="Scope-使用范围-1"><a href="#Scope-使用范围-1" class="headerlink" title="Scope(使用范围)"></a>Scope(使用范围)</h3><p>物品效果的范围。你必须在如下的选项中选择一个。</p><ul><li><p>None(无)</p><p>不需要指定使用范围的物品。</p></li><li><p>1 Enemy(敌单体)</p><p>敌人队伍中的一个敌人</p></li><li><p>All enemies(敌全体)</p><p>整个敌人队伍</p></li><li><p>X Random Enemy(X 个随机敌人)</p><p>随机选择指定数量的敌人(X 为目标数量)</p></li><li><p>1 Ally(己方单体)</p><p>队伍中的一名同伴</p></li><li><p>All Allies(己方全体)</p><p>队伍中的所有同伴</p></li><li><p>1 Ally (Dead)(己方阵亡单体)</p><p>队伍中的一名已经阵亡的同伴</p></li><li><p>All Allies (Dead)(己方阵亡全体)</p><p>队伍中所有已经阵亡的同伴</p></li><li><p>The User(使用者)</p><p>使用此技能的人</p></li></ul><h3 id="Occasion-使用场合-1"><a href="#Occasion-使用场合-1" class="headerlink" title="Occasion(使用场合)"></a>Occasion(使用场合)</h3><p>选择物品可以被使用的场合。从如下的选项中选择一个：[Always(平时)] (可以在战斗中和菜单中使用)，[Battle Screen(战斗中)] (只能在战斗中使用)，[Menu Screen(菜单中)] (只能在菜单画面使用) 和 [Never(不能使用)]。</p><h3 id="Invocation-使用-1"><a href="#Invocation-使用-1" class="headerlink" title="Invocation(使用)"></a>Invocation(使用)</h3><h3 id="Speed-速度-1"><a href="#Speed-速度-1" class="headerlink" title="Speed(速度)"></a>Speed(速度)</h3><p>当使用此物品时为角色(暂时)增加的速度(范围为 -2000 ~ 2000)。这会影响到战斗中的行动顺序，利用此设定可以制作威力较小但可以快速使用的物品或者是威力较大但是需要花费一定时间才能使用的物品。</p><h3 id="Success-成功率-1"><a href="#Success-成功率-1" class="headerlink" title="Success(成功率)"></a>Success(成功率)</h3><p>使用该物品的成功率(0 ~ 100%)。实际成功率还会受到对方有效度的影响。</p><h3 id="Repeat-重复次数-1"><a href="#Repeat-重复次数-1" class="headerlink" title="Repeat(重复次数)"></a>Repeat(重复次数)</h3><p>物品使用一次后效果被应用的次数(1 ~ 9 次)。</p><h3 id="TP-Gain-TP-获得数-1"><a href="#TP-Gain-TP-获得数-1" class="headerlink" title="TP Gain(TP 获得数)"></a>TP Gain(TP 获得数)</h3><p>成功对目标使用物品后，TP 的增加值。</p><h3 id="Hit-Type-击中类型-1"><a href="#Hit-Type-击中类型-1" class="headerlink" title="Hit Type(击中类型)"></a>Hit Type(击中类型)</h3><p>决定物品的击中类型。你必须从如下的选项中选择一个。</p><ul><li><p>Certain Hit(必定击中)</p><p>物品成功使用就将其视为命中。反击，魔法反射和保护弱者都对该物品无效。</p></li><li><p>Physical Attack(物理攻击)</p><p>成功率由使用者的命中率和目标的回避率决定。反击和保护弱者会对该物品生效。</p></li><li><p>Magic Attack(魔法攻击)</p><p>成功率由目标的魔法回避率决定。魔法反射和保护弱者会对该物品生效。</p></li></ul><h3 id="Animations-动画-1"><a href="#Animations-动画-1" class="headerlink" title="Animations(动画)"></a>Animations(动画)</h3><p>战斗中出现在目标上方的动画。</p><h3 id="Damage-伤害-1"><a href="#Damage-伤害-1" class="headerlink" title="Damage(伤害)"></a>Damage(伤害)</h3><p>在物品对目标造成伤害时，指定效果的数量和此类效果的伤害公式。</p><ul><li><p>Type(种类)</p><p>与 HP、MP 有关的种类。从下面 6 种不同的种类的效果中选择一个。[Damage(伤害)]减少 HP/MP，[Recover(恢复)]增加 HP/MP 以及 [Drain(吸收)]转移 HP/MP (将一小部分 HP/MP 从目标转移到使用者身上)。</p></li><li><p>Element(属性)</p><p>效果的属性。</p></li><li><p>Formula(伤害公式)</p><p>决定物品效果的公式。  输入伤害公式时，可以直接使用下面的字符串来引用各项参数。当表示使用者时，将 “x” 改为 “a”，当表示目标时，将 “x” 改为 “b”。输入 “a.atk” 表示使用者的攻击力。此外，你可以使用 “v[n]” 来引用编号为 n 的变量。属性公式时，你可以使用基本的四则运算符号(+, -, *, /)。  当你输入 “a.atk * 4 - b.def * 2” 时，物品的效果值会被计算为”(攻击者的攻击力×4) - (目标的防御×2)”。  另一方面，由于物品的效果依赖于属性和防御，这些因素可不必出现在公式中。x.atkAttack Power(攻击力)x.defDefense(防御)x.matMagic Attack(魔法攻击力)x.mdfMagic Defense(魔法防御)x.agiAgility(速度)x.lukLuck(幸运)x.mhpMax HP(最大 HP)x.mmpMax MP(最大 MP)x.hpCurrent HP(当前 HP)x.mpCurrent MP(当前 MP)x.tpCurrent TP(当前 TP)x.levelLevel(等级)</p></li><li><p>Variance(分散度)</p><p>物品效果的波动范围(0 ~ 100%)。在指定的百分比范围内提高或者降低物品的效果值。例如效果值为 100 分散度为 20，则实际的效果值会在 80 到 120 之间(100±20)。</p></li><li><p>Critical Hits(会心一击)</p><p>选择[Yes(是)]和[No(否)]来指定该物品使用后是否能造成会心一击。当选择[Yes(是)]时，产生会心一击的几率会由使用者的会心一击触发率和目标的会心一击回避率共同决定。</p></li></ul><h3 id="Effects-效果-1"><a href="#Effects-效果-1" class="headerlink" title="Effects(效果)"></a>Effects(效果)</h3><p>除伤害之外的其他效果的信息。你可以双击列表，然后在出现的[Effects(效果)]窗口中设置它们。详情请参考后面的[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_16.html" target="_blank" rel="noopener">如何设置效果</a>]部分。</p><h3 id="Note-备注-2"><a href="#Note-备注-2" class="headerlink" title="Note(备注)"></a>Note(备注)</h3><p>在制作游戏过程中，[Note（备注）]部分可以用来做备注。<br>右键点击可以打开菜单，在其中选择[Plugin Help…（插件帮助）]来显示插件帮助。<br>（2016.03.01 更新）</p><p>  武器/防具设置</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>武器/防具设置</p></li></ul><h2 id="数据的作用-4"><a href="#数据的作用-4" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>武器和防具指的是角色的装备。当角色装备此道具时，角色的能力值可能会升高或降低，或者是额外获得一些特性。</p><h2 id="参数详细信息-2"><a href="#参数详细信息-2" class="headerlink" title="参数详细信息"></a>参数详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_05_img01.png" alt="img"> <img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_05_img02.png" alt="img"></p><h3 id="常规设置-3"><a href="#常规设置-3" class="headerlink" title="常规设置"></a>常规设置</h3><h3 id="Name-名称-2"><a href="#Name-名称-2" class="headerlink" title="Name(名称)"></a>Name(名称)</h3><p>武器/防具的名称。如果名称太长，那么在游戏画面中可能会显示不全。</p><h3 id="Icon-图标-2"><a href="#Icon-图标-2" class="headerlink" title="Icon(图标)"></a>Icon(图标)</h3><p>游戏中和武器/防具名称一同显示的图像。双击物品图标后，你可以在打开的[Select an Image(选择图像)]窗口中任意选择图标。</p><h3 id="Description-说明-2"><a href="#Description-说明-2" class="headerlink" title="Description(说明)"></a>Description(说明)</h3><p>在游戏中，光标选中该武器/防具时所显示的物品说明。</p><h3 id="Weapon-Type-Armor-Type-武器种类-防具种类"><a href="#Weapon-Type-Armor-Type-武器种类-防具种类" class="headerlink" title="Weapon Type/Armor Type(武器种类/防具种类)"></a>Weapon Type/Armor Type(武器种类/防具种类)</h3><p>武器和防具的分类。这是利用角色或职业特性判断角色是否可以装备此道具的标准。选择的武器/防具分类可以在[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_14.html" target="_blank" rel="noopener">用于</a>]设置中修改。</p><h3 id="Price-价格-1"><a href="#Price-价格-1" class="headerlink" title="Price(价格)"></a>Price(价格)</h3><p>从商店买入时的价格。商品的卖出价为原始价格的一半。当价格设置为 0 时，此项装备无法卖出。</p><h3 id="Animations-Weapons-only-动画，仅武器"><a href="#Animations-Weapons-only-动画，仅武器" class="headerlink" title="Animations (Weapons only)(动画，仅武器)"></a>Animations (Weapons only)(动画，仅武器)</h3><p>设置使用此武器进行攻击的动画。</p><h3 id="Equipment-Type-Armor-only-装备种类，仅防具"><a href="#Equipment-Type-Armor-only-装备种类，仅防具" class="headerlink" title="Equipment Type (Armor only)(装备种类，仅防具)"></a>Equipment Type (Armor only)(装备种类，仅防具)</h3><p>防具装备的部位(Shield/Head/Body/Accessory[盾/头部/身体/装饰品])。你可以为角色的各个部位装备合适的防具。</p><h3 id="Parameter-Changes-参数变化"><a href="#Parameter-Changes-参数变化" class="headerlink" title="Parameter Changes(参数变化)"></a>Parameter Changes(参数变化)</h3><p>装备此道具时，角色能力值的变化。[Max HP(最大 HP)] 和 [Max MP(最大 MP)]可设置为 -5000 ~ 5000，其他各项的范围是 -500 ~ 500。输入负数时，对应的能力值则会减小。</p><h3 id="Traits-特性"><a href="#Traits-特性" class="headerlink" title="Traits(特性)"></a>Traits(特性)</h3><p>装备此武器或防具时，角色获得的特性。在参数区域的每一行双击，然后在打开的窗口中定义特性的详细信息。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_15.html" target="_blank" rel="noopener">如何设置特性</a>]。</p><h3 id="Note-备注-3"><a href="#Note-备注-3" class="headerlink" title="Note(备注)"></a>Note(备注)</h3><p>在制作游戏过程中，[Note（备注）]部分可以用来做备注。<br>右键点击可以打开菜单，在其中选择[Plugin Help…（插件帮助）]来显示插件帮助。<br>（2016.03.01 更新</p><p> 敌人设置</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>敌人设置</p></li></ul><h2 id="数据的作用-5"><a href="#数据的作用-5" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>表示和角色发生战斗的敌人的数据。除了那些和主角相同的特性之外，你需要额外设置战斗中敌人采取的行动模式。</p><h2 id="参数详细信息-3"><a href="#参数详细信息-3" class="headerlink" title="参数详细信息"></a>参数详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_06_img01.png" alt="img"></p><h3 id="常规设置-4"><a href="#常规设置-4" class="headerlink" title="常规设置"></a>常规设置</h3><h3 id="Name-名称-3"><a href="#Name-名称-3" class="headerlink" title="Name(名称)"></a>Name(名称)</h3><p>敌人的名称。如果名称太长，那么在游戏画面中可能会显示不全。</p><h3 id="Image-战斗图"><a href="#Image-战斗图" class="headerlink" title="Image(战斗图)"></a>Image(战斗图)</h3><p>游戏中显示的敌人图像。双击图像后，在打开的[Select an Image(选择图片)]的窗口中选择一张图片。选择图像时，你可以通过移动[Hue(色相)]滑块来改变图像的色相。如果设置为[None(无)]，则不会有图片显示。</p><h3 id="Max-HP-Max-MP-Attack-Defense-M-Attack-M-Defense-Agility-Luck-最大-HP-最大-MP-攻击力-防御-魔法攻击力-魔法防御-速度-幸运"><a href="#Max-HP-Max-MP-Attack-Defense-M-Attack-M-Defense-Agility-Luck-最大-HP-最大-MP-攻击力-防御-魔法攻击力-魔法防御-速度-幸运" class="headerlink" title="Max HP/Max MP/Attack/Defense/M.Attack/M.Defense/Agility/Luck(最大 HP/最大 MP/攻击力/防御/魔法攻击力/魔法防御/速度/幸运)"></a>Max HP/Max MP/Attack/Defense/M.Attack/M.Defense/Agility/Luck(最大 HP/最大 MP/攻击力/防御/魔法攻击力/魔法防御/速度/幸运)</h3><p>战斗开始时敌人的能力值。[Max HP(最大 HP)]的范围为 1 ~ 999999，[Max MP(最大 MP)]的范围为 0 ~ 9999，其他能力值的范围为 1 ~ 999。</p><h3 id="Rewards-奖励"><a href="#Rewards-奖励" class="headerlink" title="Rewards(奖励)"></a>Rewards(奖励)</h3><p>战斗获胜后角色获得的 EXP (1 ~ 9999999) 和获得金钱(0 ~ 9999999)数量。</p><h3 id="Drop-Items-掉落物品"><a href="#Drop-Items-掉落物品" class="headerlink" title="Drop Items(掉落物品)"></a>Drop Items(掉落物品)</h3><p>战斗获胜后队伍获得的物品(包括武器和防具)。双击区域后可以打开设置窗口，在里面你可以指定掉落的物品和掉落几率（在[Probability(概率)]中设置，范围为 1/1 ~ 1/1000）。</p><h3 id="Action-Patterns-行动模式"><a href="#Action-Patterns-行动模式" class="headerlink" title="Action Patterns(行动模式)"></a>Action Patterns(行动模式)</h3><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_06_img02.png" alt="img"></p><ul><li><p>Turn(回合)</p><p>战斗经过的回合可作为行动条件。回合的定义格式为[A + B * X]，其中 A 为距离战斗开始的回合数，B 为相邻两回合之间的回合数。如果将 A 设置为 2，B 设置为 3，则从第二回合开始，每隔 3 回合就满足一次条件(第 5 回合，第 8 回合…)。</p></li><li><p>HP</p><p>敌人当前 HP 可作为行动的条件。设置时请指定当前 HP 所占最大 HP 的百分比(0 ~ 100%)。当敌人的 HP 在指定范围内时，条件视为满足。</p></li><li><p>MP</p><p>敌人当前 MP 可作为行动的条件。设置时请指定当前 MP 所占最大 MP 的百分比(0 ~ 100%)。当敌人的 MP 在指定范围内时，条件视为满足。</p></li><li><p>State(状态)</p><p>战斗者持有指定状态可作为行动的条件。</p></li><li><p>Party Level(队伍等级)</p><p>队伍成员的等级可作为行动的条件。当队伍中等级最高者在指定等级以上（或相等）时，条件视为满足。</p></li><li><p>Switch(开关)</p><p>指定的开关可作为行动的条件。当指定开关打开时，条件视为满足。</p></li></ul><h3 id="Traits-特性-1"><a href="#Traits-特性-1" class="headerlink" title="Traits(特性)"></a>Traits(特性)</h3><p>敌人的特性。双击每行的设置区域，然后在打开的窗口里面编辑特性的细节。详情请参考[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_15.html" target="_blank" rel="noopener">如何设置特性</a>]。</p><h3 id="Note-备注-4"><a href="#Note-备注-4" class="headerlink" title="Note(备注)"></a>Note(备注)</h3><p>在制作游戏过程中，[Note（备注）]部分可以用来做备注。<br>右键点击可以打开菜单，在其中选择[Plugin Help…（插件帮助）]来显示插件帮助。<br>（2016.03.01 更新）</p><h2 id="行动模式应用规则"><a href="#行动模式应用规则" class="headerlink" title="行动模式应用规则"></a>行动模式应用规则</h2><p>在[Action Patterns(行动模式)]里面设置的行动当中，战斗中实际采取的行动会服从下面的规则。</p><ol><li><p>只有满足条件的行动会被从行动列表里面选择出来。如果没有行动满足执行条件，那么该敌人不会采取任何行动。</p></li><li><p>在满足条件的行动当中，具有最高 rating（级别）的行动和与其相差两个级别以内的行动可能会被实际采用。</p></li><li><p>在所有可能的选择中，和最高级别的行动相差 1 ~ 2 个级别的行动，实际采取的概率分别为最高级别行动的 2/3 和 1/3。对于 rating（级别）相同的行动，它们被选中的几率相同。</p><ul><li><p>例子 1：行动级别为 [5] 和 [5]</p><p>每个行动的几率为 50%。</p></li><li><p>例子 2：行动级别为 [6]，[5]，[4]，[3]</p><p>[6] 为 50%，[5] 为 33.3% (50% 的 2/3)，[4] 为 16.6% (50% 的 1/3)。[3] 不会成为备选行动。</p></li><li><p>例子 3：行动级别为 [5]，[3] 和 [3]</p><p>[5] 为 60%，每个 [3] 为 20% (60% 的 1/3)。</p></li></ul></li><li><p>实际采取的行动会按照以上概率在备选行动中随机产生。</p><p>敌群设置</p></li></ol><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_08.html" target="_blank" rel="noopener">数据库</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>敌群设置</p></li></ul><h2 id="数据的作用-6"><a href="#数据的作用-6" class="headerlink" title="数据的作用"></a>数据的作用</h2><p>敌群是游戏中表示敌人队伍的数据。玩家在地图上遭遇的敌人或事件指令中的战斗就是靠这类数据设置的。即使时角色只和一名敌人发生战斗，你也必须为那一名敌人准备敌群数据。每个敌群也会设有特定的“战斗事件”(战斗中发生的事件)。</p><h2 id="参数详细信息-4"><a href="#参数详细信息-4" class="headerlink" title="参数详细信息"></a>参数详细信息</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_07_img01.png" alt="img"></p><h3 id="常规设置-5"><a href="#常规设置-5" class="headerlink" title="常规设置"></a>常规设置</h3><h3 id="Name-名称-4"><a href="#Name-名称-4" class="headerlink" title="Name(名称)"></a>Name(名称)</h3><p>敌群的名称。这个属性仅在编辑器中使用(不会影响游戏)。点击[Auto-name(自动生成名称)]按钮之后，敌群的名称会依照所选的敌人自动生成。</p><h3 id="Change-BG-更改背景"><a href="#Change-BG-更改背景" class="headerlink" title="Change BG(更改背景)"></a>Change BG(更改背景)</h3><p>更改位置预览窗口的战斗背景。在窗口左侧区域指定战斗背景，在右侧区域指定使用的图像。这些设置仅在编辑器中使用(不会影响游戏)。编辑时，此设定也会被应用到其他的敌群数据上。</p><h3 id="Battle-Test-战斗测试"><a href="#Battle-Test-战斗测试" class="headerlink" title="Battle Test(战斗测试)"></a>Battle Test(战斗测试)</h3><p>启动此敌群的战斗测试。在打开的窗口中，选择参加战斗的角色，使用的装备，角色的等级，不同的角色要在[1] ~ [4] 标签之间切换(能力值会依照装备和等级的设定而自动生成，并显示在[Status(状态)]部分)。点击[OK]时，游戏窗口打开，战斗测试开始。战斗测试结束后，窗口自动关闭。<br>* 当使用插件后，务必保存你的游戏。如果不保存，插件的设置将不能在战斗测试中生效。</p><h3 id="Placement-View-位置预览"><a href="#Placement-View-位置预览" class="headerlink" title="Placement View(位置预览)"></a>Placement View(位置预览)</h3><p>敌群中的敌人。你最多可为一个敌群添加 8 名敌人(包含相同的敌人)。</p><p>你可以通过在位置预览窗口拖动敌人的方式来调整敌人的位置。此外，当你在预览窗口中右键点击敌人并选择[Appear Halfway(中途出现)]时，这个敌人会被隐藏，直到战斗事件[Enemy Appearance(敌人出现)]被执行。</p><p>使用下面的按钮来编辑敌群的内容。</p><ul><li><p>Add(添加)</p><p>将右侧区域中选中的敌人添加的预览窗口。你也可以通过创建列表中的敌人来进行添加。敌人添加的顺序决定了战斗中显示的敌人列表。</p></li><li><p>Remove(删除)</p><p>将预览窗口中选中的敌人删除。</p></li><li><p>Clear(清空)</p><p>删除所有预览窗口中的敌人。</p></li><li><p>Align(对齐)</p><p>依照敌人添加的顺序，将敌人在预览窗口的位置进行自动对齐。</p></li></ul><h2 id="战斗事件参数"><a href="#战斗事件参数" class="headerlink" title="战斗事件参数"></a>战斗事件参数</h2><p>你可以在[Battle Event（战斗事件）]部分里设置处理敌人的事件的出现条件和内容。就像设置地图事件一样，你也可以使用事件页和事件出现条件来分割所处理的事件内容。</p><h3 id="Event-Page-Controls-事件页控制"><a href="#Event-Page-Controls-事件页控制" class="headerlink" title="Event Page Controls(事件页控制)"></a>Event Page Controls(事件页控制)</h3><p>你可以使用左边的[New Event Page(新建事件页)]，[Copy Event Page(复制事件页)]，[Paste Event page(粘贴事件页)] 和 [Clear Event Page(清空事件页)]按钮来控制事件页。它们的功能和地图事件的相同。</p><h3 id="Conditions-事件出现条件"><a href="#Conditions-事件出现条件" class="headerlink" title="Conditions(事件出现条件)"></a>Conditions(事件出现条件)</h3><p>事件页的出现条件。当按下[…]按钮时，[Conditions(事件出现条件)]窗口会出现。你可以从下面的 5 种条件中启用一些条件，并指定每个条件的判定标准。和地图事件不同，如果不指定战斗事件页的出现条件，该事件页的内容永远不会被执行。此外，如果多个事件页满足执行条件，编号最小的那个事件页会被执行。</p><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_08_07_img02.png" alt="img"></p><ul><li><p>Turn End(回合结束)</p><p>回合结束的一瞬间会成为事件出现条件。</p></li><li><p>Turn(回合)</p><p>从战斗开始算起，经过指定数量的回合之后会成为事件出现条件。在左侧指定从战斗开始后经过的回合数，在右侧指定两个回合之间的间隔。</p></li><li><p>Enemy HP(敌人 HP)</p><p>当敌人的 HP 降低到指定值以下时，该条件就会被触发。你需要指定作为条件的敌人和 HP 数量(当前 HP 所占最大 HP 的百分比)。</p></li><li><p>Actor HP(主角 HP)</p><p>当主角的 HP 降低到指定值以下时，该条件就会被触发。你需要指定作为条件的角色和 HP 数量(当前 HP 所占最大 HP 的百分比)。</p></li><li><p>Switch(开关)</p><p>当开关打开时，该条件被视为满足。</p></li></ul><h3 id="Span-范围"><a href="#Span-范围" class="headerlink" title="Span(范围)"></a>Span(范围)</h3><p>指定事件页允许执行的时机。</p><ul><li><p>Battle(战斗)</p><p>战斗开始后，条件第一次满足时事件会执行。这就意味着它运行一次之后，将不会运行下一次。</p></li><li><p>Turn(回合)</p><p>每个回合都会检查事件条件，如果条件满足则事件会执行。</p></li><li><p>Moment(暂时)</p><p>事件会在条件满足期间反复执行。如果事件页由开关控制，那么有可能战斗不会继续下去（事件会一直反复执行，阻塞战斗进程）。所以请格外注意这个问题。</p></li></ul><h3 id="Run-Contents-事件内容"><a href="#Run-Contents-事件内容" class="headerlink" title="Run Contents(事件内容)"></a>Run Contents(事件内容)</h3><p>在此处设置事件指令，这些指令会在[Conditions(条件)] 和 [Span(范围)] 被满足时执行。编辑方式和地图事件的 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_09_03.html#p03" target="_blank" rel="noopener">事件内容</a>]相同。</p><p>  事件</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>事件</p></li></ul><h2 id="什么是事件？"><a href="#什么是事件？" class="headerlink" title="什么是事件？"></a>什么是事件？</h2><p>在PRG游戏里，游戏进程中贯穿着很多要素，比如文字会话，从宝箱中获取到物品，和boss战斗等等。用RPG maker你将用名为“事件”的概念来组织这些数据。</p><p>事件是用来执行某些种类游戏进程的机制。例如，当玩家尝试和NPC谈话的时候，你可以使用事件相应来指派显示在屏幕上的图片和句子。</p><p>依赖于玩家的行动和游戏状态，不同的事件触发将会导致游戏中不同的结果产生。</p><h2 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h2><p>事件有如下的三种类型。那些关系到故事和游戏推进的部分都由“地图事件”产生。</p><ul><li><p>地图事件（Map Events）</p><p>地图事件是运行在地图场景上的事件。使用这个类型的事件可以设置角色会话，可以获得物品的宝箱。另外，你也可以声明游戏结构和推进相关的事件，这些事件不需要在显示图片，比如改变玩家位置，切换场景。  你可以通过点击主窗口的“事件（Events）”按钮进入事件编辑模式，点击[模式(Mode)]-&gt;[事件(Events)]也可以达到同样的效果，这样你就可以创建和编辑地图事件了。</p></li><li><p>战斗事件（Battle Events）</p><p>这类事件出现在战斗场景当中。例如，“当敌人HP低于某个设定值的时候就变形”就会使用战斗事件。 这些事件的创建和编辑在数据库的[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_07.html" target="_blank" rel="noopener">（敌群）Troops</a>]页面当中。</p></li><li><p>通用事件（Common events）</p><p>这些事件可以在任何时候使用。使用这些事件来调用地图事件和战斗事件，或者设定在使用特殊物品的时候产生这些事件。可以在 上数据库中的[<a href="http://miaowm5.github.io/RMMV-F1/page/01_08_11.html" target="_blank" rel="noopener">（通用事件）Common Events</a>]分页创建和编辑这些事件。</p><p>地图事件系统</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_09.html" target="_blank" rel="noopener">事件</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>地图事件系统</p></li></ul><h2 id="地图事件处理流程"><a href="#地图事件处理流程" class="headerlink" title="地图事件处理流程"></a>地图事件处理流程</h2><ul><li><p>事件表示（Expressing Events）</p><p>游戏中地图事件详情的声明遵循以下流程：在哪里（位置），何种情况（表现出来的情况）， 被何种行动触发, 将会发生什么（事件执行内容）。  比如角色对话和有物品的箱子这种类型的事件，表现为指派到地图事件的图像，而地图事件声明了“将会发生什么”。另外，像出入建筑，场景切换之类的过程，可以用没有图像的事件来实现。  创建事件的时候，你首先需要在主窗口的地图上面决定“在哪里 和 发生什么”。然后，你就可以定义剩余的内容，比如“什么情况下发生”。</p></li><li><p>事件页面的“条件”（Event Pages with “Conditional” Contents）</p><p>地图事件中，你可以根据当前游戏状态来决定发生什么事情。  [Event Pages]（事件页）就负责这一块。事件页[conditionally]（条件）决定了发生的事件内容。你可以设定一个事件页多达20页的事件，同时指定不同的图像，触发条件，并为每一个事件页指定一个事件内容。 换句话说，你可以在一个地图事件中[根据条件]有20种不同选择。</p></li><li><p>用条件限制事件页</p><p>决定“何种情况” 使用哪个特定的事件页的参数是 <a href="Conditions">条件</a>。“条件” 基于<a href="Switches">开关</a>和<a href="Variables">变量</a>或者”玩家是否拥有某个特定的物品”而设定。  游戏流程中地图事件的发生基于事件页中设定的条件是否被满足。当有许多事件页满足设定的[条件]时，地图中拥有最高数字的事件页将会被触发。反之，将不会发生任何事件。</p></li></ul><h2 id="计量游戏状态"><a href="#计量游戏状态" class="headerlink" title="计量游戏状态"></a>计量游戏状态</h2><ul><li><p>使用开关来计量游戏状态</p><p>事件页中的<a href="Conditions">条件</a>当中，[Switches]（开关）和 [Variables]（变量）是用来设定条件的主要手段。  开关能记录[ON]和[OFF]的值。这个用来计量一些二值化的游戏状态，例如“玩家是否已经接受了国王的任务”，“玩家是否打败了boss”。  游戏开始时，所有的开关都被设置为[OFF]。最重要的是，当触发了一个事件的时候，你可以将相应的[开关]值在事件页“内容”（事件产生的结果）里设置为[ON]。  通过在别的事件页的[条件]里读取之前设定的[开关]状态，你可以用一个开关值来控制其他所有地图事件的内容。整个游戏剧情发展都可以通过持续改变开关状态来控制事件触发来构建。</p></li><li><p>用变量来追踪数值</p><p>[变量]可以用来存储任意值（整数）。游戏开始时候数值被自动设为0， 你可以根据游戏状态来给变量赋值或者与其他值做加法（通过<a href="控制变量">Control Variables</a>事件命令）。  通过使用变量，你可以精细控制地图事件的出现条件和结果，比如，根据玩家的剩余HP、金钱或其他数值来改变事件的内容。</p></li><li><p>管理开关变量</p><p>在一个游戏里，你最多可以使用共5000个开关/变量。开关或者变量的数量多少和如何使用都取决于你。使用合理的命名帮你理解这个开关/变量的用途以及两者的区别。你可以在他们各自的选择窗口设置他们的名字。</p></li><li><p>在自主事件中使用“独立开关”</p><p>地图事件还支持独立开关。独立开关只能在某事件的内部使用，每个事件最多四个（A到D）。  当一个事件的进程控制仅由它自己完成的时候，可以使用独立开关。例如：一个含有宝物的宝箱就可以使用独立开关来判断是否已被开启过。设置两个事件页（未被开启和已被开启），在第一个事件页（未被开启）页的最后打开独立开关，使之成为第二个事件页出现的条件，这样只有在宝箱未被开启（第一次触发）的时候才能得到宝物。</p><p>地图事件创建和控制</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_09.html" target="_blank" rel="noopener">事件</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>地图事件创建和控制</p></li></ul><h2 id="地图事件创建和控制"><a href="#地图事件创建和控制" class="headerlink" title="地图事件创建和控制"></a>地图事件创建和控制</h2><h3 id="切换到编辑模式-1"><a href="#切换到编辑模式-1" class="headerlink" title="切换到编辑模式"></a>切换到编辑模式</h3><p>为了创建和编辑地图事件，首先通过点击主窗口工具栏中的<a href="Events">事件</a>按钮切换到事件编辑模式（菜单栏中使用[Mode]（模式） -&gt; [Events]（事件）也可以切换）</p><h3 id="创建一个新的地图事件"><a href="#创建一个新的地图事件" class="headerlink" title="创建一个新的地图事件"></a>创建一个新的地图事件</h3><p>要创建新地图事件，先在地图上双击你需要放置事件的地方。然后在弹出的<a href="事件编辑器">Event Editor</a>中编辑你的设定，按下[OK]按钮确定。要获得更多关于设置参数的帮助，请查看[<a href="http://miaowm5.github.io/RMMV-F1/page/01_09_03.html" target="_blank" rel="noopener">地图事件设置</a>].</p><h3 id="再编辑和移动"><a href="#再编辑和移动" class="headerlink" title="再编辑和移动"></a>再编辑和移动</h3><p>当你放置一个地图事件的时候，一个图标将会在你事件的位置显示（你第一个事件页选择的图像会默认被使用）。双击这个图像，会再次打开[Event Editor]（事件编辑器）窗口，这里你可以再次编辑事件设置。此时，你也可以通过拖动图标来移动你的事件位置。</p><h3 id="通过上下文菜单控制"><a href="#通过上下文菜单控制" class="headerlink" title="通过上下文菜单控制"></a>通过上下文菜单控制</h3><p>当你在事件编辑模式右击地图的时候，你可以复制或者删除已经放置的事件。上下文菜单有如下功能。</p><ul><li><p>Edit（编辑） (当图块没有事件的时候，这里是“New”，新建事件)</p><p>打开事件编辑器窗口</p></li><li><p>Cut （剪切）</p><p>复制当前事件到剪贴板并删除当前事件</p></li><li><p>Copy （复制）</p><p>复制你右击的地图事件</p></li><li><p>Paste （粘贴）</p><p>粘贴剪贴板的地图时间到你右击的位置</p></li><li><p>Delete （删除）</p><p>删除你右击的地图事件</p></li><li><p>Quick Event Creation （快速创建事件）</p><p>使用默认配置创建四个类型的事件（稍后会提到）</p></li><li><p>Set Starting Position（设置初始点）</p><p>设定玩家和交通工具的起始点。起始点将会被蓝色框标识。 *事件图标使用白色框</p></li></ul><h2 id="快速事件创建"><a href="#快速事件创建" class="headerlink" title="快速事件创建"></a>快速事件创建</h2><p>通过使用上下文菜单中的<a href="快速事件创建">Quick Event Creation</a>，你可以创建四种传统RPG中常用的事件类型（使用默认设置）：[Transfer]（场所移动）, <a href="门">Door</a>, [Treasure]（宝物）, [Inn]（旅馆）</p><p>就像其他事件一样，使用“快速事件创建”创建的事件一样可以编辑，复制其的参数和进行其他可以对标准事件进行的操作。</p><ul><li><p>Transfer（场所移动）</p><p>在地图上的指定位置创建一个不可见的事件，将玩家传送到指定位置。请在楼梯或者入口这种地方使用这个事件。在<a href="位置">Location</a>和[Direction]（方向）参数中指定玩家被传送的目的地和玩家的朝向。</p></li><li><p>Door（门）</p><p>创建包含一张图像的事件，它会将玩家传送到指定位置。使用[Image]（图像）字段指定显示的图像，用[Location]（位置）字段指定玩家被传送到的位置。</p></li><li><p>Treasure（宝物）</p><p>创建一个可以在玩家第一次打开时从宝箱获得物品的事件。使用[Image]（图像）字段指定显示的图像，通过[Content]（执行内容）字段指定玩家能获得什么样的物品（金币/物品/武器/防具）</p></li><li><p>Inn（旅馆）</p><p>创建一个可以让你的队伍完成回复的事件，使用[Image]（图像）字段指定显示的图像， 使用[Price]（价格）字段指定回复的价格。</p><p>地图事件设置</p></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_09.html" target="_blank" rel="noopener">事件</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>地图事件设置</p></li></ul><h2 id="通用设置和事件页（Event-Pages）设置"><a href="#通用设置和事件页（Event-Pages）设置" class="headerlink" title="通用设置和事件页（Event Pages）设置"></a>通用设置和事件页（Event Pages）设置</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_09_03_img01.png" alt="img"></p><h3 id="ID-标题栏显示"><a href="#ID-标题栏显示" class="headerlink" title="ID (标题栏显示)"></a>ID (标题栏显示)</h3><p>每个事件都有自己的唯一ID，ID会在事件创建时根据这张地图内创建顺序被自动分配。事件ID被用于如指定事件使用特定变量的情况。</p><h3 id="Name-（名字）"><a href="#Name-（名字）" class="headerlink" title="Name （名字）"></a>Name （名字）</h3><p>地图事件的名字，这个属性仅被用在编辑器（不会影响游戏）。ID将会被自动输入作为初始名字。必要时可以改动名字以提高可读性。</p><h3 id="Note-（备注）"><a href="#Note-（备注）" class="headerlink" title="Note （备注）"></a>Note （备注）</h3><p>给自己看的备注</p><h3 id="Event-Page-ID（事件页ID）"><a href="#Event-Page-ID（事件页ID）" class="headerlink" title="Event Page ID（事件页ID）"></a>Event Page ID（事件页ID）</h3><p>包含在这个事件当中的事件页ID。通过点击选项卡，你可以切换到你想要编辑的事件页。</p><h3 id="Event-Page-Control-Buttons（事件页控制按钮）"><a href="#Event-Page-Control-Buttons（事件页控制按钮）" class="headerlink" title="Event Page Control Buttons（事件页控制按钮）"></a>Event Page Control Buttons（事件页控制按钮）</h3><p>窗口顶部的按钮可以进行创建，删除事件页等操作。每个按钮的功能罗列如下。</p><ul><li><p>New Event Page（新建事件页）</p><p>在当前正在编辑的事件页后创建一个新的事件页。每个额外事件页创建时将会有一个数字自增ID。</p></li><li><p>Copy Event Page（复制事件页）</p><p>复制当前事件页的内容到剪贴板。</p></li><li><p>Paste Event Page （粘贴事件页）</p><p>从剪贴板复制的内容中添加（插入）一个事件页到当前编辑的事件页之后。事件页创建时将会获得一个自增ID。</p></li><li><p>Delete Event Page （删除事件页）</p><p>删除当前编辑的事件页。在这个事件页之后的事件页ID将会被减1。</p></li><li><p>Clear Event Page （清空事件页）</p><p>清空当前正在编辑的事件页内容（重置为初始状态）。</p></li></ul><h2 id="事件页设置"><a href="#事件页设置" class="headerlink" title="事件页设置"></a>事件页设置</h2><p><img src="http://miaowm5.github.io/RMMV-F1/inc/img/01_09_03_img02.png" alt="img"></p><h3 id="Conditions（触发条件）"><a href="#Conditions（触发条件）" class="headerlink" title="Conditions（触发条件）"></a>Conditions（触发条件）</h3><p>这个事件页的内容触发的条件。触发条件可以在[Switch]（开关）, [Variable]（变量）, [Self Switch]（独立开关）, [Item]（物品） and [Actor]（角色）。设定特定的条件以满足你的需求。</p><p>如果你希望事件无条件触发，那么不要设置任何条件。如果你设置多了多个条件，那么事件仅会在所有条件都满足的情况下事件才会被触发。</p><p>如果有多个事件页的条件被同时满足了，那么拥有最大ID的事件页内容将会被触发。反之，如果没有事件页的条件被满足则不会有任何事件页被触发。</p><ul><li><p>Switch（开关）</p><p>如果开关被设置为ON则此类型事件将会被触发</p></li><li><p>Variable （变量）</p><p>指定变量大于给定值的时候事件将会被触发。</p></li><li><p>Self Switch （独立开关）</p><p>指定独立开关变成ON状态时被触发。</p></li><li><p>Item （物品）</p><p>一个队伍拥有指定物品的时候事件将被触发。</p></li><li><p>Actor （角色）</p><p>指定角色在队伍中时事件将被触发。</p></li></ul><h3 id="Image-（图像）"><a href="#Image-（图像）" class="headerlink" title="Image （图像）"></a>Image （图像）</h3><p>当事件出现在地图上的时候图像会被显示。要指定图像，双击事件框中心并在弹出的<a href="选择文件">Select an Image</a>窗口中点击文件列表（左边）和图像（右边）并选中。</p><p>如果你没设置图像，则事件图像将不可见。在选择图像的窗口中选择位于文件列表顶部的[(None)]可以删除已经设置的图像。</p><h3 id="Autonomous-Movement-（自动移动）"><a href="#Autonomous-Movement-（自动移动）" class="headerlink" title="Autonomous Movement （自动移动）"></a>Autonomous Movement （自动移动）</h3><p>用[Type]（类型）、[Speed]（速度）和<a href="频率">Frequency</a> 来指定地图事件的移动方式。[速度]定义了移动的速度，数值越大移动越快。[频率]定义了移动的周期，数值越大周期越短。<a href="类型">Type</a>让你指定下面四种移动方式之一。</p><ul><li><p>Fixed(固定)</p><p>地图事件将不会移动</p></li><li><p>Random （随机）</p><p>地图事件将会随机四处移动</p></li><li><p>Approach （接近）</p><p>地图事件将会自动接近玩家</p></li><li><p>Custom （自定义）</p><p>沿一条特定的路线移动。单击[移动路线]的时候可以指定路线。更多信息请参见 [<a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06_01.html" target="_blank" rel="noopener">设置移动路线</a>].</p></li></ul><h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><p>可选的图像的显示方式。需要的话就选中特定的选项。</p><ul><li><p>Walking（步行动画）</p><p>移动的时候播放步行动画。当事件是角色或动物等的时候使用。</p></li><li><p>Stepping（踏步动画）</p><p>不动的时候播放踏步动画。当事件是波浪或火焰等的时候使用。</p></li><li><p>Direction Fix （固定朝向）</p><p>禁止改变图像的朝向，即使是在移动的时候。</p></li><li><p>Through（允许穿透）</p><p>允许它穿过一些无法通行的地形或事件。</p></li></ul><h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>在下面的选项中指定一个以确定事件和玩家的高低位置关系。如果事件和玩家可以重叠，那么位置在上方的图像优先显示。</p><ul><li><p>Below characters（人物下方）</p><p>玩家和其他角色可以从该事件上方通过。然而，如果在[Image]（图像）中选择了一个图块作为图像，那么玩家能否通行会根据这个图块的通行度来决定。</p></li><li><p>Same as characters（与人物同层）</p><p>将事件和玩家置于同层，禁止玩家走到该事件的位置。</p></li><li><p>Above characters（人物上方）</p><p>玩家和其他角色可以从该事件下方通过。</p></li></ul><h3 id="触发条件"><a href="#触发条件" class="headerlink" title="触发条件"></a>触发条件</h3><p>对于已经出现在地图上了的事件，在下面的选项中指定一个以确定什么时候执行事件的[Contents]（执行内容）。</p><ul><li><p>Action Button(按确定键)</p><p>当玩家面对事件（如果允许重叠就是和玩家重叠）按下确定键的时候执行。</p></li><li><p>Player Touch(玩家接触)</p><p>玩家碰触到事件（如果允许重叠就是经过事件）的时候执行。这种情况下按确定键也会执行。</p></li><li><p>Event Touch（事件接触）</p><p>当一个<a href="自主移动">Autonomous Movement</a>的事件碰到了玩家（如果允许重叠就是经过玩家），以及[玩家接触]的时候执行。</p></li><li><p>Autorun（自动执行）</p><p>当事件满足出现条件，出现在地图上后立刻执行。</p></li><li><p>并行处理</p><p>当事件满足出现条件，出现在地图上后立刻执行（周期性地循环处理执行内容）。</p></li></ul><h3 id="Contents-（事件内容）"><a href="#Contents-（事件内容）" class="headerlink" title="Contents （事件内容）"></a>Contents （事件内容）</h3><p>当满足[Conditions]（触发条件）满足的时候执行的命令列表。更多信息请看接下来的项目：”编辑事件指令”。</p><h2 id="编辑内容"><a href="#编辑内容" class="headerlink" title="编辑内容"></a>编辑内容</h2><h3 id="查看执行内容列表"><a href="#查看执行内容列表" class="headerlink" title="查看执行内容列表"></a>查看执行内容列表</h3><p>在执行内容中，将游戏中的处理以“<a href="事件指令">Event Commands</a>”的方式进行编辑</p><p>事件指令会从顶部开始按顺序处理，并且被应用到游戏内容中。已被添加的事件指令会在行的最左端有一个[◆]的标记。以[:]开头的行是它上方的事件指令的内容，或者是处理流程发生分支的位置</p><h3 id="添加事件指令"><a href="#添加事件指令" class="headerlink" title="添加事件指令"></a>添加事件指令</h3><p>要向列表中注册一个事件指令，只需要双击有[◆]标记的行。在弹出的窗口中，选择要使用的事件指令，然后定义想要的行为和设置即可（除了一小部分）。新双击的位置已经存在事件指令时，新添加的事件指令会插入到双击的位置。</p><h3 id="上下文菜单的操作"><a href="#上下文菜单的操作" class="headerlink" title="上下文菜单的操作"></a>上下文菜单的操作</h3><p>已经被注册了的事件指令有一个[◆]的标记。在这样的行上面右击会弹出一个菜单，里面有一些常用操作如[Copy]（复制）和[Delete]（删除）。这些项目的功能如下。</p><ul><li><p>New（新建）</p><p>在选择的指令的上一行插入一条新的事件指令</p></li><li><p>Edit（编辑）</p><p>编辑选中的事件指令。</p></li><li><p>Cut（剪切）</p><p>把当前的事件指令复制到剪贴板并删除。</p></li><li><p>Copy（复制）</p><p>把当前的事件指令复制到剪贴板。</p></li><li><p>Paste（粘贴）</p><p>把剪贴板中的内容插入到选择的位置。</p></li><li><p>Delete（删除）</p><p>删除所选的事件指令。</p></li><li><p>Select All（全选）</p><p>将列表中的所有事件指令全部选中。</p></li><li><p>Copy as Text (August 4th, 2016 Update)</p><p>Copies the selected lines of text to the clipboard.</p></li><li><p>Copy as HTML Tags (August 4th, 2016 Update)</p><p>Copies the HTML of the selected lines of text to the clipboard.</p></li><li><p>Test（测试）</p><p>在游戏中测试所有选中指令</p></li></ul><h3 id="选择多行指令"><a href="#选择多行指令" class="headerlink" title="选择多行指令"></a>选择多行指令</h3><p>单击选中开始的那一行，然后按住[Shift]键单击结束的那一行。这样在这两行之间的所有带[◆]标记的指令都会被选中。在选中的事件指令（会变成蓝色）上右键就可以弹出一个上下文菜单，你可以在里面选择一些操作，这些操作会影响所有被选中的指令。值得注意的是，如果选择的指令在一个分支中，只有处于同一个分支的指令才能用这种方式选中。</p><p>  事件指令集</p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01.html" target="_blank" rel="noopener">RPG Maker MV</a></p></li><li></li><li><p>&gt;</p></li><li></li><li><p>事件指令集</p></li></ul><p>在事件中的[执行内容]里使用的事件指令有如下。善用这些来创作你的游戏故事吧。</p><h2 id="第1页"><a href="#第1页" class="headerlink" title="第1页"></a>第1页</h2><p><strong>▼信息</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p01" target="_blank" rel="noopener">显示文字</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p02" target="_blank" rel="noopener">显示选择</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p03" target="_blank" rel="noopener">数值输入处理</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p04" target="_blank" rel="noopener">物品选择处理</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_01.html#p05" target="_blank" rel="noopener">显示滚动文字</a></p></li></ul><p><strong>▼游戏进程</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_02.html#p01" target="_blank" rel="noopener">开关操作</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_02.html#p02" target="_blank" rel="noopener">变量操作</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_02.html#p03" target="_blank" rel="noopener">独立开关操作</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_02.html#p04" target="_blank" rel="noopener">计时器操作</a></p></li></ul><p><strong>▼流程控制</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p01" target="_blank" rel="noopener">条件分支</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p02" target="_blank" rel="noopener">循环</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p03" target="_blank" rel="noopener">跳出循环</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p04" target="_blank" rel="noopener">终止事件处理</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p05" target="_blank" rel="noopener">公共事件</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p06" target="_blank" rel="noopener">标签</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p07" target="_blank" rel="noopener">转至标签</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_03.html#p08" target="_blank" rel="noopener">注释</a></p></li></ul><p><strong>▼队伍</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_04.html#p01" target="_blank" rel="noopener">增减金钱</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_04.html#p02" target="_blank" rel="noopener">增减物品</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_04.html#p03" target="_blank" rel="noopener">增减武器</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_04.html#p04" target="_blank" rel="noopener">增减防具</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_04.html#p05" target="_blank" rel="noopener">队伍管理</a></p></li></ul><p><strong>▼角色</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p01" target="_blank" rel="noopener">增减HP</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p02" target="_blank" rel="noopener">增减MP</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p03" target="_blank" rel="noopener">增减TP</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p04" target="_blank" rel="noopener">增减状态</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p05" target="_blank" rel="noopener">完全恢复</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p06" target="_blank" rel="noopener">增减经验值</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p07" target="_blank" rel="noopener">增减等级</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p08" target="_blank" rel="noopener">增减能力值</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p09" target="_blank" rel="noopener">增减技能</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p10" target="_blank" rel="noopener">更换装备</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p11" target="_blank" rel="noopener">更改名字/a&gt;</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p12" target="_blank" rel="noopener">更改职业</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p13" target="_blank" rel="noopener">更改称号</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_05.html#p14" target="_blank" rel="noopener">更改外观</a></p></li></ul><h2 id="第2页"><a href="#第2页" class="headerlink" title="第2页"></a>第2页</h2><p>▼<strong>移动</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06.html#p01" target="_blank" rel="noopener">场所移动</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06.html#p02" target="_blank" rel="noopener">设置载具位置</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06.html#p03" target="_blank" rel="noopener">设置事件位置</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06.html#p04" target="_blank" rel="noopener">卷动地图</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06.html#p05" target="_blank" rel="noopener">设置移动路径</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_06.html#p06" target="_blank" rel="noopener">载具升/降</a></p></li></ul><p><strong>▼人物</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_07.html#p01" target="_blank" rel="noopener">更改透明度</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_07.html#p02" target="_blank" rel="noopener">更改队列行进</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_07.html#p03" target="_blank" rel="noopener">集合队列成员</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_07.html#p04" target="_blank" rel="noopener">显示动画</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_07.html#p05" target="_blank" rel="noopener">显示心情</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_07.html#p06" target="_blank" rel="noopener">暂时消除事件</a></p></li></ul><p><strong>▼图片</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#p01" target="_blank" rel="noopener">显示图片</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#p02" target="_blank" rel="noopener">移动图片</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#p03" target="_blank" rel="noopener">旋转图片</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#p04" target="_blank" rel="noopener">更改图片色调</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_08.html#p05" target="_blank" rel="noopener">消除图片</a></p></li></ul><p><strong>▼时间调整</strong></p><ul><li><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_09.html#p01" target="_blank" rel="noopener">等待</a></li></ul><p><strong>▼画面效果</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_10.html#p01" target="_blank" rel="noopener">淡出画面</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_10.html#p02" target="_blank" rel="noopener">淡入画面</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_10.html#p03" target="_blank" rel="noopener">更改画面色调</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_10.html#p04" target="_blank" rel="noopener">闪烁画面</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_10.html#p05" target="_blank" rel="noopener">震动画面</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_10.html#p06" target="_blank" rel="noopener">设置天气效果</a></p></li></ul><p><strong>▼音频与视频</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p01" target="_blank" rel="noopener">播放BGM</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p02" target="_blank" rel="noopener">淡出BGM</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p03" target="_blank" rel="noopener">记忆BGM</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p04" target="_blank" rel="noopener">还原BGM</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p05" target="_blank" rel="noopener">播放BGS</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p06" target="_blank" rel="noopener">淡出BGS</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p07" target="_blank" rel="noopener">播放ME</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p08" target="_blank" rel="noopener">播放SE</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p09" target="_blank" rel="noopener">停止SE</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_11.html#p10" target="_blank" rel="noopener">播放视频</a></p></li></ul><h2 id="第3页"><a href="#第3页" class="headerlink" title="第3页"></a>第3页</h2><p><strong>▼场景控制</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p01" target="_blank" rel="noopener">战斗处理</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p02" target="_blank" rel="noopener">商店处理</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p03" target="_blank" rel="noopener">名字输入处理</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p04" target="_blank" rel="noopener">打开菜单场景</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p05" target="_blank" rel="noopener">打开存档场景</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p06" target="_blank" rel="noopener">结束游戏</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_12.html#p07" target="_blank" rel="noopener">返回标题</a></p></li></ul><p><strong>▼系统设定</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p01" target="_blank" rel="noopener">调节战斗BGM</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p02" target="_blank" rel="noopener">更改战斗胜利ME</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p03" target="_blank" rel="noopener">更改战斗失败ME</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p04" target="_blank" rel="noopener">更换载具BGM</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p05" target="_blank" rel="noopener">启用/禁用存档</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p06" target="_blank" rel="noopener">启用/禁用菜单</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p07" target="_blank" rel="noopener">启用/禁用遇敌</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p08" target="_blank" rel="noopener">启用/禁用整队</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p09" target="_blank" rel="noopener">更改窗口色调</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p10" target="_blank" rel="noopener">更改角色图像</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_13.html#p11" target="_blank" rel="noopener">更改载具图像</a></p></li></ul><p><strong>▼地图</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_14.html#p01" target="_blank" rel="noopener">启用/禁用地图名称</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_14.html#p02" target="_blank" rel="noopener">更改地图图块组</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_14.html#p03" target="_blank" rel="noopener">更改战斗图背景</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_14.html#p04" target="_blank" rel="noopener">更改远景图</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_14.html#p05" target="_blank" rel="noopener">获取指定位置的信息</a></p></li></ul><p><strong>▼战斗</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p01" target="_blank" rel="noopener">增减敌人HP</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p02" target="_blank" rel="noopener">增减敌人MP</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p03" target="_blank" rel="noopener">增减敌人TP</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p04" target="_blank" rel="noopener">更改敌人状态</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p05" target="_blank" rel="noopener">敌人完全恢复</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p06" target="_blank" rel="noopener">敌人出现</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p07" target="_blank" rel="noopener">敌人变身</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p08" target="_blank" rel="noopener">显示战斗动画</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p09" target="_blank" rel="noopener">强制战斗</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_15.html#p10" target="_blank" rel="noopener">中止战斗</a></p></li></ul><p><strong>▼高级</strong></p><ul><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_16.html#p01" target="_blank" rel="noopener">脚本</a></p></li><li></li><li><p><a href="http://miaowm5.github.io/RMMV-F1/page/01_10_16.html#p02" target="_blank" rel="noopener">插件命令</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="RPG Maker MV" scheme="http://yoursite.com/tags/RPG-Maker-MV/"/>
    
  </entry>
  
  <entry>
    <title>Git</title>
    <link href="http://yoursite.com/2020/06/20/Git/"/>
    <id>http://yoursite.com/2020/06/20/Git/</id>
    <published>2020-06-20T02:26:28.000Z</published>
    <updated>2020-06-20T02:27:04.239Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 1.Git简介</p><p>Git是目前世界上最先进的分布式版本控制系统，在处理各种项目时都十分高效，而且非常的高大上。</p><p>SVN是集中式版本控制系统，版本库是集中放在中央服务器的，而干活的时候，用的都是自己的电脑，所以首先要从中央服务器哪里得到最新的版本，然后干活，干完后，需要把自己做完的活推送到中央服务器。而且集中式版本控制系统是必须联网才能工作。</p><p>Git是分布式版本控制系统，它就没有中央服务器的，每个人的电脑就是一个完整的版本库，这样，工作的时候就不需要联网了，因为版本都是在自己的电脑上。</p><h3 id="2-Git安装（仅列出在Windows系统下的安装过程）"><a href="#2-Git安装（仅列出在Windows系统下的安装过程）" class="headerlink" title="2.Git安装（仅列出在Windows系统下的安装过程）"></a>2.Git安装（仅列出在Windows系统下的安装过程）</h3><p>打开<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Git官网</a>下载安装程序，然后按照默认选项安装即可。</p><p>安装完成后，打开Git bash软件，弹出一个类似cmd的命令行窗口，证明安装成功。</p><p><img src="https://img-blog.csdn.net/20180603175057943?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>安装完成后，需要进行设置，在命令行输入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;Your Name&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git config --global user.email &quot;email@example.com&quot;</span><br></pre></td></tr></table></figure><p>顾名思义，这是设置你的名字和Email地址。</p><p>我们可以查看一下用户名和密码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git config user.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git config user.email</span><br></pre></td></tr></table></figure><p>假如我们这时候报错，证明Git的用户名和密码没有配置成功，我们还可以这样做：</p><p>在用户主目录下找到 .git 文件夹： <img src="https://img-blog.csdn.net/20180607221809679?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>然后打开 config 文件，这是专门用来配置和读取相应的工作环境变量的，在里面加上如图所示内容：</p><p><img src="https://img-blog.csdn.net/20180607222124131?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>这样也就完成了对Git用户名和邮箱的配置。</p><h3 id="3-创建版本库"><a href="#3-创建版本库" class="headerlink" title="3.创建版本库"></a>3.创建版本库</h3><p>版本库(repository)也叫仓库，可以看做一个目录，这个目录里的所以文件都由Git进行管理，每个文件的修改、删除，Git都能跟踪。</p><p>1.选择一个合适的地方，创建一个空目录：``</p><p>``</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir learngit &#x2F;&#x2F;创建一个名叫learngit的空目录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ cd learngit &#x2F;&#x2F;把learngit设置为当前目录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ pwd &#x2F;&#x2F;查看当前目录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;c&#x2F;Users&#x2F;Administrator&#x2F;learngit</span><br></pre></td></tr></table></figure><p>如果使用Windows系统，要保证目录名不包含中文。</p><p>2.通过如下命令把这个目录变成Git可以管理的仓库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Initialized empty Git repository in &#x2F;Users&#x2F;Administrator&#x2F;learngit&#x2F;.git&#x2F;</span><br></pre></td></tr></table></figure><p>这样Git就把仓库建好啦，我们可以看到在当前目录下多了一个 .git 的目录，这个目录是Git来跟踪管理版本库的。</p><p>3.把文件添加到版本库</p><p>我们在 learngit 目录下编写一个 readme.txt 文件，内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Git is a version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software.</span><br></pre></td></tr></table></figure><p>(1) 用 git add 命令，把文件添加到仓库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add readme.txt</span><br></pre></td></tr></table></figure><p>执行以上命令，没有任何显示。</p><p>(2) 用 git commit 命令，把文件提交到仓库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;wrote a readme file&quot; &#x2F;&#x2F;-m后面输入的是本次提交的说明，可以输入任意内容。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master (root-commit) eaadf4e] wrote a readme file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1 file changed, 2 insertions(+) &#x2F;&#x2F;1 file changed：1个文件被改动（新添加的readme.txt文件）；2 insertions：插入了两行内容（readme.txt内有两行内容）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> create mode 100644 readme.txt</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="4-修改文件"><a href="#4-修改文件" class="headerlink" title="4.修改文件"></a>4.修改文件</h3><p>我们已经成功添加并提交了一个 readme.txt 文件，继续修改 readme.txt 文件，改成如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software.</span><br></pre></td></tr></table></figure><p>运行 git status 命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ git status &#x2F;&#x2F;查看仓库当前的状态</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Changes not staged for commit: &#x2F;&#x2F;没有文件将要被提交</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    modified:   readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and&#x2F;or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure><p>上面的命令告诉我们，readme.txt 文件被修改过了，但还没有准备提交的修改。</p><p>如果我们想知道上次是怎么修改readme.txt 文件的，需要用 git diff 命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ git diff readme.txt </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">diff --git a&#x2F;readme.txt b&#x2F;readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">index 46d49bf..9247db6 100644</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--- a&#x2F;readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+++ b&#x2F;readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@@ -1,2 +1,2 @@</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-Git is a version control system. &#x2F;&#x2F;这一句是被删掉的</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+Git is a distributed version control system. &#x2F;&#x2F;这一句是新添加的</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Git is free software.</span><br></pre></td></tr></table></figure><p>接下来还是那两步：</p><p>(1) git add</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add readme.txt</span><br></pre></td></tr></table></figure><p>没有任何输出，这时候可以用 git status 查看一下当前仓库状态：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Changes to be committed: &#x2F;&#x2F;将要被提交的文件包括 readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    modified:   readme.txt</span><br></pre></td></tr></table></figure><p>``(2) git commit</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;add distributed&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master e475afc] add distributed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure><p>再用 git status 查看一下当前仓库状态：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean &#x2F;&#x2F;当前没有需要提交的修改，而且，工作目录是干净的。</span><br></pre></td></tr></table></figure><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h3 id="5-版本回退"><a href="#5-版本回退" class="headerlink" title="5.版本回退"></a>5.版本回退</h3><p>如果我们继续对 readme.txt 文件进行修改，改成如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br></pre></td></tr></table></figure><p>然后添加并提交：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git add readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;append GPL&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master 1094adb] append GPL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure><p>到目前为止，readme.txt 文件一共有三个版本被提交到了 Git 仓库里，我们可以用 git log 命令进行查看：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">$ git log &#x2F;&#x2F;查看历史记录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">commit 1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Date:   Fri May 18 21:06:15 2018 +0800</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    append GPL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">commit e475afc93c209a690c39c13a46716e8fa000c366</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Date:   Fri May 18 21:03:36 2018 +0800</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    add distributed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">commit eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Date:   Fri May 18 20:59:18 2018 +0800</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    wrote a readme file</span><br></pre></td></tr></table></figure><p>我们还可以加上 –pretty=oneline 参数：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;oneline</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master) append GPL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">e475afc93c209a690c39c13a46716e8fa000c366 add distributed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0 wrote a readme file &#x2F;&#x2F;一大串数字是 commit id ，而且每个人的都不一样。</span><br></pre></td></tr></table></figure><p>好了，现在如果我们想把 readme.txt 文件退回到上一个版本，就可以使用 git reset 命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard HEAD^ &#x2F;&#x2F;HEAD表示当前版本，则HEAD^表示上一个版本，那么上上版本就是HEAD^^</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HEAD is now at e475afc add distributed</span><br></pre></td></tr></table></figure><p>这时候用 cat 命令查看一下 readme.txt 的内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.txt &#x2F;&#x2F;查看 readme.txt 文件的内容</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software.</span><br></pre></td></tr></table></figure><p>果然 readme.txt 文件返回到了上一个版本。</p><p>我们现在想要回到最新的版本，还是使用 git reset 命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard 1094a &#x2F;&#x2F;这里不能用HEAD而必须使用 commit id ，因为最新版本在之前返回时已经被删除了，1094a就是最新版本的 commit id，可以在之前的代码中查到</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HEAD is now at 83b0afe append GPL</span><br></pre></td></tr></table></figure><p>这时再查看一下 readme.txt 文件内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br></pre></td></tr></table></figure><p>果然，又回到了最新的版本。</p><h3 id="6-工作区和暂存区"><a href="#6-工作区和暂存区" class="headerlink" title="6.工作区和暂存区"></a>6.工作区和暂存区</h3><p>工作区（Working Directory）</p><p>learngit 文件夹就是一个工作区。</p><p>版本库（Repository）</p><p>工作区有个隐藏目录 .git ，这个不算工作区，而是 Git 的版本库。</p><p>版本库里面的 index(stage) 文件叫暂存区，还有Git为我们自动创建的第一个分支 master ，以及指向 master 的一个指针叫做 HEAD。</p><p><img src="https://img-blog.csdn.net/20180603202659766" alt="img"></p><p>前面我们提到过，如果我们想把文件添加到Git里面时，需要分两步：</p><p>第一步是用 git add 把文件添加进去，实际上就是把文件修改添加到暂存区。</p><p>第二步是用 git commit 提交更改，实际上就是把暂存区的所有内容提交到当前分支。（我们现在只有唯一一个分支 master，所以现在就是往 master 分支上提交更改）</p><p>我们可以实践一下：</p><p>在 readme.txt 文件中加上一行内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git has a mutable index called stage.</span><br></pre></td></tr></table></figure><p>然后在工作区新建一个 LICENSE 文本文档（任意内容）</p><p>使用两次 git add 命令分别把 readme.txt 和 LICENSE 都添加后，可以用 git status 命令查看一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    new file:   LICENSE</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    modified:   readme.txt</span><br></pre></td></tr></table></figure><p>现在，暂存区的状态就变成这样了：</p><p><img src="https://img-blog.csdn.net/20180603204003143" alt="img"></p><p>再使用 git commit 命令把暂存区的所有修改提交到分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;understand how stage works&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master e43a48b] understand how stage works</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> create mode 100644 LICENSE</span><br></pre></td></tr></table></figure><p>这时候的工作区就是干净的：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure><p>这时候版本库就变成了这样：</p><p><img src="https://img-blog.csdn.net/20180603204522746" alt="img"></p><h3 id="7-管理修改"><a href="#7-管理修改" class="headerlink" title="7.管理修改"></a>7.管理修改</h3><p>Git 如此的优秀是因为，Git 跟踪并管理的不是文件，而是修改。</p><p>我们对 readme.txt 文件进行修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git has a mutable index called stage.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git tracks changes.</span><br></pre></td></tr></table></figure><p>然后，添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ git add readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Changes to be committed:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#       modified:   readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#</span><br></pre></td></tr></table></figure><p>然后再修改 readme.txt 文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.txt </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git has a mutable index called stage.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git tracks changes of files.</span><br></pre></td></tr></table></figure><p>提交：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;git tracks changes&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master 519219b] git tracks changes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure><p>这时候我们查看一下状态：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    modified:   readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and&#x2F;or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure><p>我们可以发现，第二次修改并没有被提交。</p><p>因为在工作区的第一次修改被放入暂存区，准备提交；而在工作区的第二次修改并没有被放入暂存区，所以， git commit 命令只负责把暂存区的修改提交了。</p><p>提交后，我们可以用 git diff HEAD – readme.txt 命令去查看工作区和版本库里面最新版本的区别：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ git diff HEAD -- readme.txt </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">diff --git a&#x2F;readme.txt b&#x2F;readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">index 76d770f..a9c5755 100644</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--- a&#x2F;readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+++ b&#x2F;readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@@ -1,4 +1,4 @@</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Git is free software distributed under the GPL.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Git has a mutable index called stage.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-Git tracks changes.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+Git tracks changes of files.</span><br></pre></td></tr></table></figure><h3 id="8-撤销修改"><a href="#8-撤销修改" class="headerlink" title="8.撤销修改"></a>8.撤销修改</h3><p>假如说你在 readme.txt 文件中添加了一行内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git has a mutable index called stage.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git tracks changes of files.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">My stupid boss still prefers SVN.</span><br></pre></td></tr></table></figure><p>最后一行是万万不能让BOSS看到的，应该怎么撤销呢？</p><p>(1) 没有 git add 之前</p><p>可以手动删除最后一行，手动把文件恢复到上一个版本的状态。然后再用 git checkout – file 命令丢弃工作区的修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- readme.txt &#x2F;&#x2F;把readme.txt文件在工作区的修改全部撤销。</span><br></pre></td></tr></table></figure><p>现在看一下 readme.txt 文件内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is a distributed version control system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git has a mutable index called stage.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git tracks changes of files.</span><br></pre></td></tr></table></figure><p>果然复原了。</p><p>(2) git add了，但没有git commit</p><p>这时候的修改添加到了暂存区，但没有提交到分支，用 git status 查看一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    modified:   readme.txt</span><br></pre></td></tr></table></figure><p>这时候我们可以使用 git reset HEAD file 命令把把暂存区的修改撤销掉，重新放回工作区：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD readme.txt &#x2F;&#x2F;git reset命令既可以回退版本，也可以把暂存区的修改回退到工作区，HEAD表示最新版本。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Unstaged changes after reset:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">M    readme.txt</span><br></pre></td></tr></table></figure><p>现在再用 git status 查看一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    modified:   readme.txt &#x2F;&#x2F;暂存区是干净的，工作区有修改。</span><br></pre></td></tr></table></figure><p>这时候再丢弃工作区的修改就OK了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- readme.txt &#x2F;&#x2F;丢弃工作区的修改。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure><p>终于大功告成了。</p><p>(3) 既 git add 了，也 git commit 了</p><p>可以回退到上一个版本，见回退版本内容。</p><h3 id="9-删除文件"><a href="#9-删除文件" class="headerlink" title="9.删除文件"></a>9.删除文件</h3><p>在工作区即 learngit 文件夹下新建一个 test.txt 文件，并添加和提交到Git：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git add test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;add test.txt&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master b84166e] add test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> create mode 100644 test.txt</span><br></pre></td></tr></table></figure><p>这时候可用 rm 命令删除：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rm test.txt</span><br></pre></td></tr></table></figure><p>这时工作区和版本库就不一样了。</p><p>现在又分两种情况：</p><p>(1) 确实要从版本库中删除该文件，那就用 git rm 命令删除，并且 git commit：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ git rm test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rm &#39;test.txt&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;remove test.txt&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[master d46f35e] remove test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> delete mode 100644 test.txt</span><br></pre></td></tr></table></figure><p>这时候文件就从版本库被删除了。</p><p>(2) 文件被删错了。因为版本库里有，所以很好恢复：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- test.txt &#x2F;&#x2F;用版本库里的版本替换工作区的版本。</span><br></pre></td></tr></table></figure><h3 id="10-远程仓库准备工作"><a href="#10-远程仓库准备工作" class="headerlink" title="10.远程仓库准备工作"></a>10.远程仓库准备工作</h3><p>在开始这部分之前，我们需要自行注册GitHub账号。而且，因为你的本地Git仓库和GitHub仓库之间的传输是通过SSH加密的，所以需要设置：</p><p>(1) 创建SSH Key。在用户主目录下<img src="https://img-blog.csdn.net/20180603214733481?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img">，看看有没有.ssh 目录，如果有的话，看此目录下有没有 id_rsa 和 id_rsa.pub 这两个文件，如果有，直接跳到下一步。如果没有，打开Git Bash，创建SSH</p><p>(2) 登陆GitHub，打开”Account settings”</p><p><img src="https://img-blog.csdn.net/20180604164558991?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>然后点击”Add SSH and GPG Keys”，再点击”New SSH Key”进行SSH Key 的创建，填上任意 Title ，把 id_rsa.pub 中的内容复制到Key文本框内：</p><p><img src="https://img-blog.csdn.net/20180604165343129?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><h3 id="11-添加远程库"><a href="#11-添加远程库" class="headerlink" title="11.添加远程库"></a>11.添加远程库</h3><p>现在我们已经在本地创建了一个Git仓库了，又想在GitHub上创建一个Git仓库，然后让这两个仓库进行远程同步，这样，GitHub上的仓库既可以作为备份，又可以让其他人通过该仓库来协作。那么我们应该怎么做呢？</p><p>首先，登陆GitHub，在右上角找到“Create a new repo”按钮，创建一个新的仓库：</p><p><img src="https://img-blog.csdn.net/20180604212644739?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>在Repository name填入 learngit ``（因为我已经创建完成了，所以提示此用户名存在）其他保持默认设置，点击“Create repository”按钮，就成功地创建了一个新的Git仓库：</p><p><img src="https://img-blog.csdn.net/20180604213055637?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>如上图所示我已经把本地仓库的内容推送到了GitHub上了，大家创建完以后应该是一个空的仓库。这时候我们可以在本地learngit仓库下运行命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin git@github.com:RFHzhj&#x2F;learngit.git &#x2F;&#x2F;“RFHzhj”是我的GitHub的账户名，你需要填写你自己的账户名</span><br></pre></td></tr></table></figure><p>添加后，远程库的名字就是 origin ，这是Git默认的叫法。</p><p>然后，我们就可以把本地库的所有内容推送到远程库上：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin master </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Counting objects: 20, done.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Compressing objects: 100% (15&#x2F;15), done.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Writing objects: 100% (20&#x2F;20), 1.64 KiB | 560.00 KiB&#x2F;s, done.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total 20 (delta 5), reused 0 (delta 0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">remote: Resolving deltas: 100% (5&#x2F;5), done.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">To github.com:RFHzhj&#x2F;learngit.git</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> * [new branch]      master -&gt; master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Branch &#39;master&#39; set up to track remote branch &#39;master&#39; from &#39;origin&#39;.</span><br></pre></td></tr></table></figure><p>使用 git push 命令，就是把当前分支 master 推送到远程。</p><p>因为远程库是空的，所以我们在第一次推送 master 分支时，要加上 -u 参数，Git不但会把本地的<code>master 分支内容推送的远程新的 master 分支，还会把本地的</code> master 分支和远程的 master 分支关联起来，在以后的推送或者拉取时就可以简化命令。</p><p>推送成功后，可以立刻在GitHub页面中看到远程库的内容已经和本地一模一样：</p><p><img src="https://img-blog.csdn.net/20180604214243431?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE1MjA4MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>从现在起，只要本地作了提交，就可以通过命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure><p>把本地 master 分支的最新修改推送至GitHub。现在，我们拥有了真正的分布式版本库。</p><h3 id="12-从远程库克隆"><a href="#12-从远程库克隆" class="headerlink" title="12.从远程库克隆"></a>12.从远程库克隆</h3><p>我们的学习过程是先有了本地库，后有了远程库，然后再对远程库进行关联。</p><p>其实，我们大部分时候是先创建远程库，然后再从远程库克隆。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Git" scheme="http://yoursite.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>nodejs</title>
    <link href="http://yoursite.com/2020/06/20/nodejs/"/>
    <id>http://yoursite.com/2020/06/20/nodejs/</id>
    <published>2020-06-20T02:25:01.000Z</published>
    <updated>2020-06-20T02:25:39.665Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 起源</p><p>  Ryan Dahl是一名资深的C/C++程序员，在创造出Node之前，他的主要工作都是围绕高性能 Web服务器进行的。经历过一些尝试和失败之后，他找到了设计高性能，Web服务器的几个要点： 事件驱动、非阻塞I/O，而这也正是nodejs的两大特点。<br>　　<strong>所以Ryan Dahl最初的目标是写一个基于事件驱动、非阻塞I/O的Web服务器，以达到更高的性能，提供Apache等服务器之外的选择。</strong>写Node的时候，Ryan Dahl曾经评估过C、Lua、Haskell、 Ruby等语言作为备选实现，结论为：C的开发门槛高，可以预见不会有太多的开发者能将它用于日常的业务开发，所以舍弃它；Ryan Dahl觉得自己还不足够玩转Haskell，所以舍弃它；Lua自身已经含有很多阻塞I/O库，为其构建非阻塞I/O库也不能改变人们继续使用阻塞I/O库的习惯，所以也舍弃它；而Ruby的虚拟机由于性能不好而落选。<br>　　相比之下，JavaScript比C的开发门槛要低，比Lua的历史包袱要少。尽管服务器端JavaScript存在已经很多年了，但是后端部分一直没有市场，可以说历史包袱为零，为其导入非阻塞I/O库没有额外阻力。另外，JavaScript在浏览器中有广泛的事件驱动方面的应用，暗合Ryan Dahl喜好基于事件驱动的需求。当时，第二次浏览器大战也渐渐分出高下，Chrome浏览器的JavaScript引擎V8摘得性能第一的桂冠。考虑到高性能、符合事件驱动、没有历史包袱这3个主要原因，JavaScript成为了Node的实现语言。<br>　　起初，Ryan Dahl称他的项目为web.js，就是一个Web服务器，但是项目的发展超过了他最初单纯开发一个Web服务器的想法，变成了构建网络应用的一个基础框架，这样可以在它的基础上构建更多的东西，诸如服务器、客户端、命令行工具等。Node发展为一个强制不共享任何资源的单线程、单进程系统，包含十分适宜网络的库，为构建大型分布式应用程序提供基础设施，其目标也是成为一个构建快速、可伸缩的网络应用平台。它自身非常简单，通过通信协议来组织许多Node，非常容易通过扩展来达成构建大型网络应用的目的。每一个Node进程都构成这个网络应用中的一个节点，这是它名字所含意义的真谛。</p><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><p>  作为后端JavaScript的运行平台，<strong>Node保留了前端浏览器JavaScript中那些熟悉的接口，没有改写语言本身的任何特性，依旧基于作用域和原型链，区别在于它将前端中广泛运用的思想迁移到了服务器端</strong>。Node相较于其他语言的特点如下所示：<br>　　1、异步I/O<br>　　在Node中，绝大多数的操作都以异步的方式进行调用。Ryan Dahl排除万难，在底层构建了很多异步I/O的API，从文件读取到网络请求等，均是如此。这样的意义在于，在Node中，我们可 以从语言层面很自然地进行并行I/O操作。每个调用之间无须等待之前的I/O调用结束。在编程模型上可以极大提升效率。<br>　　以同时执行两个文件读取任务为例，异步I/O取决于最慢的那个文件读取的耗时，而同步I/O的耗时是两个任务的耗时之和。这里异步带来的优势是显而易见的。<br>　　2、事件<br>　　随着Web 2.0时代的到来，JavaScript在前端担任了更多的职责，事件也得到了广泛的应用。 Node不像Rhino那样受Java的影响很大，而是将前端浏览器中应用广泛且成熟的事件引入后端， 配合异步I/O，将事件点暴露给业务逻辑。<br>　　事件的编程方式具有轻量级、松耦合、只关注事务点等优势，但是在多个异步任务的场景下，事件与事件之间各自独立，如何协作是一个问题。<br>　　3、回调函数<br>　　与其他的Web后端编程语言相比，Node除了异步和事件外，回调函数是一大特色。纵观下来，回调函数也是最好的接受异步调用返回数据的方式。但是这种编程方式对于很多习惯同步思路编程的人来说，也许是十分不习惯的。代码的编写顺序与执行顺序并无关系，这对他们可能造成阅读上的障碍。在流程控制方面，因为穿插了异步方法和回调函数，与常规的同步方式相比，变得不那么一目了然了。<br>　　4、单线程<br>　　JavaScript语言的一大特点就是单线程，也就是说，同一个时间只能做一件事。JavaScript的单线程，与它的用途有关。作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征。<br>　　Node保持了JavaScript在浏览器中单线程的特点。而且在Node中，JavaScript与其余线程是无法共享任何状态的。单线程的最大好处是不用像多线程编程那样处处在意状态的同步问题，这里没有死锁的存在，也没有线程上下文交换所带来的性能上的开销。<br>　　同样，单线程也有它自身的弱点，具体有以下3方面：无法利用多核CPU；错误会引起整个应用退出，应用的健壮性值得考验；大量计算占用CPU导致无法继续调用异步I/O。<br>　　像浏览器中JavaScript与UI共用一个线程一样，JavaScript长时间执行会导致UI的渲染和响应被中断。在Node中，长时间的CPU占用也会导致后续的异步I/O发不出调用，已完成的异步I/O的回调函数也会得不到及时执行。<br>　　HTML5定制了Web Workers的标准，Web Workers能够创建工作线程来进行计算，以解决JavaScript大计算阻塞UI渲染的问题。工作线程为了不阻塞主线程，通过消息传递的方式来传递运行结果，这也使得工作线程不能访问到主线程中的UI。<br>　　Node采用了与Web Workers相同的思路来解决单线程中大计算量的问题：child_process。 子进程的出现，意味着Node可以从容地应对单线程在健壮性和无法利用多核CPU方面的问题。通过将计算分发到各个子进程，可以将大量计算分解掉，然后再通过进程之间的事件消息来传递结果，这可以很好地保持应用模型的简单和低依赖。通过Master-Worker的管理方式，也可以很好地管理各个工作进程，以达到更高的健壮性。</p><h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>  在进行技术选型之前，需要了解一项新技术具体适合什么样的场景，毕竟合适的技术用在合适的场景可以起到意想不到的效果。关于Node，探讨得较多的主要有I/O密集型和CPU密集型。<br>　　1、I/O密集型<br>　　如果将所有的脚本语言拿到一处来评判，那么从单线程的角度来说，Node处理I/O的能力是值得竖起拇指称赞的。通常， 说Node擅长I/O密集型的应用场景基本上是没人反对的。Node面向网络且擅长并行I/O，能够有效地组织起更多的硬件资源，从而提供更多好的服务。<br>　　I/O密集的优势主要在于Node利用事件循环的处理能力，而不是启动每一个线程为每一个请求服务，资源占用极少</p><p>2、CPU密集型<br>　　换一个角度，在CPU密集的应用场景中，Node是否能胜任呢？实际上，V8的执行效率是十分高的。单以执行效率来做评判，V8的执行效率是毋庸置疑的。<br>　　CPU密集型应用给Node带来的挑战主要是：由于JavaScript单线程的原因，如果有长时间运行的计算（比如大循环），将会导致CPU时间片不能释放，使得后续I/O无法发起。但是适当调整和分解大型运算任务为多个小任务，使得运算能够适时释放，不阻塞I/O调用的发起，这样既可同时享受到并行异步I/O的好处，又能充分利用CPU。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="nodejs" scheme="http://yoursite.com/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Valine- 一款快速、简洁且高效的无后端评论系统</title>
    <link href="http://yoursite.com/2020/06/19/Valine-%20%E4%B8%80%E6%AC%BE%E5%BF%AB%E9%80%9F%E3%80%81%E7%AE%80%E6%B4%81%E4%B8%94%E9%AB%98%E6%95%88%E7%9A%84%E6%97%A0%E5%90%8E%E7%AB%AF%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"/>
    <id>http://yoursite.com/2020/06/19/Valine-%20%E4%B8%80%E6%AC%BE%E5%BF%AB%E9%80%9F%E3%80%81%E7%AE%80%E6%B4%81%E4%B8%94%E9%AB%98%E6%95%88%E7%9A%84%E6%97%A0%E5%90%8E%E7%AB%AF%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</id>
    <published>2020-06-19T13:09:47.000Z</published>
    <updated>2020-06-20T02:07:34.718Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Valine - 一款快速、简洁且高效的无后端评论系统。</p><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/index.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><blockquote><p>由于某些原因，<code>src目录</code>将从<code>v1.4.0</code>后暂停更新.</p></blockquote><p><a href="https://github.com/xCss/Valine/releases" target="_blank" rel="noopener"><img src="https://img.shields.io/github/release/xCss/Valine.svg?style=flat-square" alt="version"></a> <a href="https://www.npmjs.com/package/valine" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/valine.svg?style=flat-square" alt="npm downloads"></a> <a href="https://circleci.com/gh/xCss/Valine" target="_blank" rel="noopener"><img src="https://img.shields.io/circleci/project/github/xCss/Valine/master.svg?style=flat-square" alt="build"></a></p><p>Valine 诞生于2017年8月7日，是一款基于<a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a>的快速、简洁且高效的无后端评论系统。</p><p>理论上支持但不限于静态博客，目前已有<a href="https://valine.js.org/hexo.html" target="_blank" rel="noopener">Hexo</a>、<a href="https://valine.js.org/jekyll.html" target="_blank" rel="noopener">Jekyll</a>、<a href="http://typecho.org/" target="_blank" rel="noopener">Typecho</a>、<a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>、<a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a> 等博客程序在使用Valine。</p><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul><li>快速</li><li>安全</li><li>Emoji 😉</li><li>无后端实现</li><li>MarkDown 全语法支持</li><li>轻量易用</li><li><a href="https://valine.js.org/visitor.html" target="_blank" rel="noopener">文章阅读量统计</a> <code>v1.2.0+</code></li></ul><h2 id="Todo"><a href="#Todo" class="headerlink" title="Todo"></a>Todo</h2><p>Valine 现在仍处于开发阶段，这里有一些目前还不支持、但已经在计划中的特性：</p><ul><li>基于<a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a>的评论存储</li><li>或者更多…</li></ul><p>欢迎你为 Valine 的开发作出贡献。 </p><h1 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/quickstart.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>如果你想在某个网页或者文章页中使用Valine，请参照以下步骤配置</p><h2 id="获取APP-ID-和-APP-Key"><a href="#获取APP-ID-和-APP-Key" class="headerlink" title="获取APP ID 和 APP Key"></a>获取APP ID 和 APP Key</h2><p>请先<a href="https://leancloud.cn/dashboard/login.html#/signin" target="_blank" rel="noopener">登录</a>或<a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener">注册</a> <code>LeanCloud</code>, 进入<a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">控制台</a>后点击左下角<a href="https://leancloud.cn/dashboard/applist.html#/newapp" target="_blank" rel="noopener">创建应用</a>：</p><p><img src="https://i.loli.net/2019/06/21/5d0c995c86fac81746.jpg" alt="img"></p><p>应用创建好以后，进入刚刚创建的应用，选择左下角的<code>设置</code>&gt;<code>应用Key</code>，然后就能看到你的<code>APP ID</code>和<code>APP Key</code>了：</p><p><img src="https://i.loli.net/2019/06/21/5d0c997a60baa24436.jpg" alt="img"></p><h2 id="HTML-片段"><a href="#HTML-片段" class="headerlink" title="HTML 片段"></a>HTML 片段</h2><p>修改初始化对象中的<code>appId</code>和<code>appKey</code>的值为上面刚刚获取到的值即可(其他可以默认)。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    ..</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'//unpkg.com/valine/dist/Valine.min.js'</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"vcomments"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">'#vcomments'</span>,</span></span><br><span class="line"><span class="actionscript">            appId: <span class="string">'Your appId'</span>,</span></span><br><span class="line"><span class="actionscript">            appKey: <span class="string">'Your appKey'</span></span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>修改初始化对象中的<code>appId</code>和<code>appKey</code>的值为上面刚刚获取到的值即可(<code>其他可以默认</code>)。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el: <span class="string">'#vcomments'</span> ,</span><br><span class="line">    appId: <span class="string">'Your appId'</span>,</span><br><span class="line">    appKey: <span class="string">'Your appKey'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><p>Valine 现已发布到<a href="https://www.npmjs.com/package/valine" target="_blank" rel="noopener">npm</a>，可以直接用命令安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install valine</span></span><br><span class="line">npm install valine --save</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Use import</span></span><br><span class="line"><span class="keyword">import</span> Valine <span class="keyword">from</span> <span class="string">'valine'</span>;</span><br><span class="line"><span class="comment">// or Use require</span></span><br><span class="line"><span class="keyword">const</span> Valine = <span class="built_in">require</span>(<span class="string">'valine'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el:<span class="string">'#vcomments'</span>,</span><br><span class="line">    <span class="comment">// other config</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="评论数据管理"><a href="#评论数据管理" class="headerlink" title="评论数据管理"></a>评论数据管理</h2><p>由于Valine 是无后端评论系统，所以也就没有开发评论数据管理功能。请自行登录<code>Leancloud应用</code>管理。</p><p>具体步骤：<code>登录</code>&gt;<code>选择你创建的应用</code>&gt;<code>存储</code>&gt;选择Class <code>Comment</code>，然后就可以尽情的发挥你的权利啦(～￣▽￣)～</p><blockquote><p>当然，你也可以配合 <a href="https://github.com/DesertsP" target="_blank" rel="noopener">@DesertsP</a> 开发的 <a href="https://github.com/DesertsP/Valine-Admin" target="_blank" rel="noopener">Valine-Admin</a> 进行<code>评论数据管理</code></p></blockquote><h2 id="安全域名"><a href="#安全域名" class="headerlink" title="安全域名"></a>安全域名</h2><p>为了你的数据安全，请设置自己的<code>安全域名</code>：</p><p><img src="https://i.loli.net/2019/06/21/5d0c995bddd4f99219.jpg" alt="设置安全域名"></p><p>更多信息请查看<a href="https://valine.js.org/configuration.html" target="_blank" rel="noopener">配置项</a>。</p><p> 更新日志</p><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/changelog.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><h2 id="v1-4-11-v1-4-14-2020-04-26"><a href="#v1-4-11-v1-4-14-2020-04-26" class="headerlink" title="v1.4.11~v1.4.14, 2020-04-26"></a>v1.4.11~v1.4.14, 2020-04-26</h2><ul><li><code>F</code> 紧急重新修复可能存在的xss漏洞 <a href="https://github.com/xCss/Valine/issues/298" target="_blank" rel="noopener">#298</a> <a href="https://github.com/xCss/Valine/issues/294" target="_blank" rel="noopener">#294</a> <a href="https://github.com/xCss/Valine/issues/293" target="_blank" rel="noopener">#293</a></li><li><code>F</code> 再次修复阅读数回填失败的Bug</li><li><code>F</code> 修复某些异常未正常捕获的Bug</li></ul><h2 id="v1-4-10-2020-04-25"><a href="#v1-4-10-2020-04-25" class="headerlink" title="v1.4.10, 2020-04-25"></a>v1.4.10, 2020-04-25</h2><ul><li><code>F</code> 修复表情判断失败的Bug <a href="https://github.com/xCss/Valine/issues/286" target="_blank" rel="noopener">#286</a> <a href="https://github.com/xCss/Valine/issues/296" target="_blank" rel="noopener">#296</a></li><li><code>F</code> 修复可能存在的xss漏洞 <a href="https://github.com/xCss/Valine/issues/294" target="_blank" rel="noopener">#294</a> <a href="https://github.com/xCss/Valine/issues/293" target="_blank" rel="noopener">#293</a></li><li><code>F</code> 修复阅读数回填失败的Bug</li><li><code>F</code> 修复获取QQ信息时的缓存Bug</li><li><code>F</code> 表情size适配修复 <a href="https://github.com/xCss/Valine/issues/295" target="_blank" rel="noopener">#295</a></li><li><code>U</code> 一些样式修改</li><li><code>U</code> 代码逻辑优化</li></ul><h2 id="v1-4-8-v1-4-9-2020-04-23"><a href="#v1-4-8-v1-4-9-2020-04-23" class="headerlink" title="v1.4.8~v1.4.9, 2020-04-23"></a>v1.4.8~v1.4.9, 2020-04-23</h2><ul><li><code>F</code> 优化SDK加载逻辑，修复<code>Code 98</code>错误 <a href="https://github.com/xCss/Valine/issues/289" target="_blank" rel="noopener">#289</a> <a href="https://github.com/xCss/Valine/issues/288" target="_blank" rel="noopener">#288</a> <a href="https://github.com/xCss/Valine/issues/285" target="_blank" rel="noopener">#285</a></li><li><code>F</code> 修复文章列表<code>阅读次数</code>回填失败的Bug <a href="https://github.com/xCss/Valine/issues/287" target="_blank" rel="noopener">#287</a> <a href="https://github.com/xCss/Valine/issues/272" target="_blank" rel="noopener">#272</a></li><li><code>U</code> 一些样式优化 <a href="https://github.com/xCss/Valine/issues/283" target="_blank" rel="noopener">#283</a></li><li><code>U</code> 代码逻辑优化</li></ul><h2 id="v1-4-6-v1-4-7-2020-04-22"><a href="#v1-4-6-v1-4-7-2020-04-22" class="headerlink" title="v1.4.6~v1.4.7, 2020-04-22"></a>v1.4.6~v1.4.7, 2020-04-22</h2><ul><li><code>A</code> 新增<code>必填项</code>设置 <a href="https://github.com/xCss/Valine/issues/281" target="_blank" rel="noopener">#281</a> <a href="https://github.com/xCss/Valine/issues/59" target="_blank" rel="noopener">#59</a></li><li><code>A</code> 新增<code>评论框</code>获取<code>QQ头像</code>和<code>QQ昵称</code>启用属性<code>enableQQ</code>，需主动启用 <a href="https://github.com/xCss/Valine/issues/277" target="_blank" rel="noopener">#277</a></li><li><code>F</code> 修复样式被覆盖的Bug <a href="https://github.com/xCss/Valine/issues/284" target="_blank" rel="noopener">#284</a> <a href="https://github.com/xCss/Valine/issues/270" target="_blank" rel="noopener">#270</a></li><li><code>F</code> 修复使用了低版本的<code>av-min.js</code>造成的初始化错误</li><li><code>U</code> 一些样式优化</li><li><code>U</code> 代码逻辑优化</li></ul><h2 id="v1-4-5-2020-04-21"><a href="#v1-4-5-2020-04-21" class="headerlink" title="v1.4.5, 2020-04-21"></a>v1.4.5, 2020-04-21</h2><ul><li><code>A</code> 新增QQ头像的支持(<code>昵称框</code>输入QQ号试试) <a href="https://github.com/xCss/Valine/issues/192" target="_blank" rel="noopener">#192</a></li><li><code>A</code> 新增自定义表情 <a href="https://github.com/xCss/Valine/issues/261" target="_blank" rel="noopener">#261</a> <a href="https://github.com/xCss/Valine/issues/260" target="_blank" rel="noopener">#260</a> <a href="https://github.com/xCss/Valine/issues/150" target="_blank" rel="noopener">#150</a></li><li><code>F</code> 修复marked渲染错误的Bug <a href="https://github.com/xCss/Valine/issues/275" target="_blank" rel="noopener">#275</a> <a href="https://github.com/xCss/Valine/issues/269" target="_blank" rel="noopener">#269</a></li><li><code>F</code> 修复代码高亮样式被覆盖的Bug <a href="https://github.com/xCss/Valine/issues/270" target="_blank" rel="noopener">#270</a></li><li><code>F</code> 修复阅读次数异常的Bug <a href="https://github.com/xCss/Valine/issues/272" target="_blank" rel="noopener">#272</a></li><li><code>F</code> 修复在夜间模式下样式渲染异常的Bug</li><li><code>U</code> 一些样式优化</li><li><code>U</code> 代码逻辑优化</li></ul><h2 id="v1-4-0-1-4-4-2020-04-11"><a href="#v1-4-0-1-4-4-2020-04-11" class="headerlink" title="v1.4.0~1.4.4, 2020-04-11"></a>v1.4.0~1.4.4, 2020-04-11</h2><ul><li><code>A</code> 新的SDK加载逻辑</li><li><code>A</code> 新增图片<code>表情</code></li><li><code>A</code> 新增<code>截图粘贴</code>上传</li><li><code>A</code> 新增<code>图片拖拽至评论框</code>上传</li><li><code>A</code> 新增对<code>MathJax</code>的支持</li><li><code>A</code> 新增对<code>KaTex</code>的支持</li><li><code>A</code> 新增评论框<code>楼内回复</code></li><li><code>A</code> 新增对<code>夜间模式</code>的支持 <a href="https://github.com/xCss/Valine/issues/221" target="_blank" rel="noopener">#221</a></li><li><code>A</code> 全新的评论区UI界面</li><li><code>A</code> 新增对<code>zh-CN/zh-TW/en/jp</code>等多国语言的支持</li><li><code>F</code> 修复回复评论时评论数据需要刷新才会显示的<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/257" target="_blank" rel="noopener">#257</a></li><li><code>F</code> 修复<code>表情</code>和<code>预览</code>只能点开不能收回的<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/254" target="_blank" rel="noopener">#254</a></li><li><code>F</code> 修复<code>Edge浏览器</code>识别为<code>Chrome</code>的<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/250" target="_blank" rel="noopener">#250</a></li><li><code>F</code> 修复<code>Storage is not defined</code>的<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/242" target="_blank" rel="noopener">#242</a></li><li><code>F</code> 修复可能存在的<code>xss漏洞</code> <a href="https://github.com/xCss/Valine/issues/218" target="_blank" rel="noopener">#218</a></li><li><code>F</code> 修复分页<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/196" target="_blank" rel="noopener">#196</a></li><li><code>F</code> 修复点击<code>展开更多</code>击穿<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/180" target="_blank" rel="noopener">#180</a></li><li><code>F</code> 修复个别UA识别失败的<code>Bug</code></li><li><code>F</code> 修复回复评论后评论数变为1的<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/264" target="_blank" rel="noopener">#264</a></li><li><code>U</code> 表情图片懒加载 <a href="https://github.com/xCss/Valine/issues/261" target="_blank" rel="noopener">#261</a></li><li><code>U</code> 删除<code>验证码</code> <a href="https://github.com/xCss/Valine/issues/207" target="_blank" rel="noopener">#207</a></li><li><code>U</code> 删除自带的<code>邮件提醒</code> <a href="https://github.com/xCss/Valine/issues/20" target="_blank" rel="noopener">#20</a></li><li><code>U</code> 代码逻辑优化</li></ul><blockquote><p><code>注</code>: <code>MathJax</code> 和 <code>KaTex</code> 需要当前页面已加载并配置好相关的资源文件.</p></blockquote><h2 id="v1-3-10-2019-08-29"><a href="#v1-3-10-2019-08-29" class="headerlink" title="v1.3.10, 2019-08-29"></a>v1.3.10, 2019-08-29</h2><ul><li><code>A</code> 新的SDK加载逻辑</li><li><code>A</code> 新增<strong>可选</strong>配置项<code>serverURLs</code>，默认<code>http://自动检测节点.avoscloud.com</code> <a href="https://github.com/xCss/Valine/issues/206" target="_blank" rel="noopener">#206</a> <a href="https://github.com/xCss/Valine/issues/203" target="_blank" rel="noopener">#203</a> <a href="https://github.com/xCss/Valine/issues/194" target="_blank" rel="noopener">#194</a></li><li><code>F</code> 修复列表页阅读量统计失效BUG <a href="https://github.com/xCss/Valine/issues/136" target="_blank" rel="noopener">#136</a></li><li><code>F</code> 其他BUG修复</li></ul><h2 id="v1-3-8-v1-3-9-2019-06-26"><a href="#v1-3-8-v1-3-9-2019-06-26" class="headerlink" title="v1.3.8,v1.3.9, 2019-06-26"></a>v1.3.8,v1.3.9, 2019-06-26</h2><ul><li><code>A</code> 新的SDK加载逻辑</li><li><code>F</code> 修复<code>字体样式</code>/<code>待办事项</code>渲染问题 <a href="https://github.com/xCss/Valine/issues/175" target="_blank" rel="noopener">#175</a> <a href="https://github.com/xCss/Valine/issues/182" target="_blank" rel="noopener">#182</a></li><li><code>F</code> 修复各节点无法访问的Bug <a href="https://github.com/xCss/Valine/issues/188" target="_blank" rel="noopener">#188</a> <a href="https://github.com/xCss/Valine/issues/189" target="_blank" rel="noopener">#189</a> <a href="https://github.com/xCss/Valine/issues/190" target="_blank" rel="noopener">#190</a></li><li><code>F</code> 紧急修复<code>无回复按钮</code> Bug</li><li><code>F</code> 其他 Bug 修复</li></ul><h2 id="v1-3-7-2019-06-21"><a href="#v1-3-7-2019-06-21" class="headerlink" title="v1.3.7, 2019-06-21"></a>v1.3.7, 2019-06-21</h2><ul><li><p><code>A</code> 新增<code>clazzName</code>字段，自定义配置LeanCloud表名 <a href="https://github.com/xCss/Valine/issues/162" target="_blank" rel="noopener">#162</a></p></li><li><p><code>F</code> <strong>修复LeanCloud服务不可访问问题</strong></p></li><li><p><code>F</code> 修复待办事项列表渲染<code>Bug</code> <a href="https://github.com/xCss/Valine/issues/182" target="_blank" rel="noopener">#182</a></p></li><li><pre><code>F<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  尝试性修复字体大小问题</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  \#175</span><br><span class="line"></span><br><span class="line">  ## v1.3.6, 2019-04-01</span><br><span class="line"></span><br><span class="line">- &#96;F&#96; 修复代码高亮失效的 &#96;Bug&#96;</span><br><span class="line"></span><br><span class="line">- &#96;F&#96; 修复以前可以使用&#96;Pjax&#96;而&#96;v1.3.5&#96;版本失效的 &#96;Bug&#96; (感谢小伙伴 [@sxyugao](https:&#x2F;&#x2F;github.com&#x2F;sxyugao) 提供的建议)</span><br><span class="line"></span><br><span class="line">- &#96;F&#96; 修复评论内容中点击 &#96;@NickName&#96; 跳转到新页面的 &#96;Bug&#96;</span><br><span class="line"></span><br><span class="line">- &#96;F&#96; 其他 &#96;Bug&#96; 修复</span><br><span class="line"></span><br><span class="line">## v1.3.5, 2019-03-29</span><br><span class="line"></span><br><span class="line">- &#96;A&#96; 新增隐私保护：移除页面中的敏感(E-mail)数据</span><br><span class="line">- &#96;A&#96; 新增&#96;recordIP&#96; 属性(&#96;Boolean&#96;)：增加IP统计 by [@Showfom](https:&#x2F;&#x2F;github.com&#x2F;Showfom) [#160](https:&#x2F;&#x2F;github.com&#x2F;xCss&#x2F;Valine&#x2F;issues&#x2F;160)</span><br><span class="line">- &#96;U&#96; 一些样式修改</span><br><span class="line">- &#96;U&#96; 代码逻辑优化</span><br><span class="line"></span><br><span class="line">## v1.3.4, 2018-11-24</span><br><span class="line"></span><br><span class="line">- &#96;F&#96; 修复&#96;img&#96;的&#96;xss&#96;安全漏洞</span><br><span class="line">- &#96;F&#96; 修复&#96;embed&#96;的&#96;xss&#96;安全漏洞</span><br><span class="line">- &#96;F&#96; 修复评论框内容不重置的bug</span><br><span class="line"></span><br><span class="line">## v1.3.3, 2018-09-26</span><br><span class="line"></span><br><span class="line">- &#96;F&#96; 修复可以自定义&#96;CSS&#96;的 Bug</span><br><span class="line"></span><br><span class="line">## v1.3.1, 2018-09-03</span><br><span class="line"></span><br><span class="line">- &#96;A&#96; 新增 &#96;avatarForce&#96; 字段，每次访问强制拉取最新的&#96;评论列表头像&#96;</span><br><span class="line">- &#96;F&#96; 修复提交评论后，评论框不重置的 Bug</span><br><span class="line"></span><br><span class="line">## v1.3.0, 2018-07-29</span><br><span class="line"></span><br><span class="line">- &#96;A&#96; 新增 &#96;pid&#96; 字段</span><br><span class="line">- &#96;A&#96; 新增&#96;at&#96;锚点定位</span><br><span class="line">- &#96;U&#96; 过滤掉 &#96;iframe&#96; 等HTML元素</span><br><span class="line">- &#96;F&#96; BUG 修复</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"># 配置项</span><br><span class="line"></span><br><span class="line">[ 在Github上编辑此页](https:&#x2F;&#x2F;github.com&#x2F;xcss&#x2F;Valine-docs&#x2F;tree&#x2F;master&#x2F;source&#x2F;configuration.md)</span><br><span class="line"></span><br><span class="line">Valine 支持两种不同的初始化方式。一种是构造方法初始化对象，另一种是调用&#96;init&#96;方法：</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;html</span><br><span class="line">&lt;!-- 方法 1 --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    new Valine(&#123;</span><br><span class="line">        el:&#39;#vcomment&#39;,</span><br><span class="line">        appId: &#39;Your appId&#39;,</span><br><span class="line">        appKey: &#39;Your appKey&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 方法 2 --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var valine &#x3D; new Valine();</span><br><span class="line">    valine.init(&#123;</span><br><span class="line">        el:&#39;#vcomment&#39;,</span><br><span class="line">        appId: &#39;Your appId&#39;,</span><br><span class="line">        appKey: &#39;Your appKey&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></code></pre></li></ul><h2 id="el"><a href="#el" class="headerlink" title="el"></a>el</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>null</code></li><li>必要性:<code>true</code></li></ul><p>Valine 的初始化挂载器。可以是一个<code>CSS 选择器</code>，也可以是一个实际的<code>HTML元素</code>。</p><h2 id="appId"><a href="#appId" class="headerlink" title="appId"></a>appId</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>null</code></li><li>必要性:<code>true</code></li></ul><p>从<code>LeanCloud</code>的应用中得到的<code>appId</code>.</p><blockquote><p><a href="https://valine.js.org/quickstart.html" target="_blank" rel="noopener">获取appId 和 appKey</a>。</p></blockquote><h2 id="appKey"><a href="#appKey" class="headerlink" title="appKey"></a>appKey</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>null</code></li><li>必要性:<code>true</code></li></ul><p>从<code>LeanCloud</code>的应用中得到的<code>appKey</code>.</p><blockquote><p><a href="https://valine.js.org/quickstart.html" target="_blank" rel="noopener">获取appId 和 appKey</a>。</p></blockquote><h2 id="region"><a href="#region" class="headerlink" title="region"></a><del>region</del></h2><ul><li>类型:<code>String</code></li><li>默认值:<code>cn</code></li><li>必要性:<code>false</code></li></ul><p>存储节点：在<code>Valine</code>中初始化时默认遵循<code>Leancloud SDK</code>的节点规则(<code>默认中国大陆节点</code>)。</p><blockquote><p>Leancloud js-sdk 从 <code>v3.8.0</code>版本开始删除了<code>region</code>选项:<br><a href="https://github.com/leancloud/javascript-sdk/releases/tag/v3.8.0" target="_blank" rel="noopener">leancloud/javascript-sdk/releases/tag/v3.8.0</a></p></blockquote><p>可选值:</p><ul><li><code>cn</code> - 中国大陆节点</li><li><code>us</code> - 海外节点</li></ul><h2 id="placeholder"><a href="#placeholder" class="headerlink" title="placeholder"></a>placeholder</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>Just go go</code></li><li>必要性:<code>false</code></li></ul><p>评论框<code>占位提示符</code>。</p><h2 id="notify"><a href="#notify" class="headerlink" title="notify"></a><del>notify</del></h2><ul><li>类型:<code>Boolean</code></li><li>默认值:<code>false</code></li><li>必要性:<code>false</code></li></ul><blockquote><p><code>v1.4.0+</code> 已废弃</p></blockquote><h2 id="verify"><a href="#verify" class="headerlink" title="verify"></a><del>verify</del></h2><ul><li>类型:<code>Boolean</code></li><li>默认值:<code>false</code></li><li>必要性:<code>false</code></li></ul><p>验证码服务。</p><blockquote><p><code>v1.4.0+</code> 已废弃</p></blockquote><h2 id="path"><a href="#path" class="headerlink" title="path"></a>path</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>window.location.pathname</code></li><li>必要性:<code>false</code></li></ul><p>当前<code>文章页</code>路径，用于区分不同的<code>文章页</code>，以保证正确读取该<code>文章页</code>下的评论列表。<br>可选值：</p><ul><li><code>window.location.pathname</code> (默认值，推荐)</li><li><code>window.location.href</code></li><li><code>自定义</code></li></ul><blockquote><ul><li>I. 请保证每个<code>文章页</code>路径的唯一性，否则可能会出现不同<code>文章页</code>下加载相同评论列表的情况。</li><li>II. 如果值为<code>window.location.href</code>，可能会出现随便加<code>不同参数</code>进入该页面，而被判断成新页面的情况。</li></ul></blockquote><h2 id="avatar"><a href="#avatar" class="headerlink" title="avatar"></a>avatar</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>mm</code></li><li>必要性:<code>false</code></li></ul><p><code>Gravatar</code> 头像展示方式。</p><p>可选值：</p><ul><li><code>&#39;&#39;</code>(空字符串)</li><li><code>mp</code></li><li><code>identicon</code></li><li><code>monsterid</code></li><li><code>wavatar</code></li><li><code>retro</code></li><li><code>robohash</code></li><li><code>hide</code></li></ul><p>更多信息，请查看<a href="https://valine.js.org/avatar.html" target="_blank" rel="noopener">头像配置</a>。</p><h2 id="meta"><a href="#meta" class="headerlink" title="meta"></a>meta</h2><ul><li>类型:<code>Array</code></li><li>默认值:<code>[&#39;nick&#39;,&#39;mail&#39;,&#39;link&#39;]</code></li><li>必要性:<code>false</code></li></ul><p>评论者相关属性。</p><h2 id="pageSize"><a href="#pageSize" class="headerlink" title="pageSize"></a>pageSize</h2><ul><li>类型:<code>Number</code></li><li>默认值:<code>10</code></li><li>必要性:<code>false</code></li></ul><p>评论列表分页，每页条数。</p><h2 id="lang"><a href="#lang" class="headerlink" title="lang"></a>lang</h2><ul><li>类型:<code>String</code></li><li>默认值:<code>zh-CN</code></li><li>必要性:<code>false</code></li></ul><p>多语言支持。</p><p>可选值：</p><ul><li><code>zh-CN</code></li><li><code>zh-TW</code></li><li><code>en</code></li><li><code>ja</code></li></ul><p>如需<code>自定义语言</code>，请参考<a href="https://valine.js.org/i18n.html" target="_blank" rel="noopener">i18n</a>。</p><h2 id="visitor"><a href="#visitor" class="headerlink" title="visitor"></a>visitor</h2><ul><li>类型:<code>Boolean</code></li><li>默认值:<code>false</code></li><li>必要性:<code>false</code></li></ul><p><a href="https://valine.js.org/visitor.html" target="_blank" rel="noopener">文章访问量统计</a>。</p><h2 id="highlight"><a href="#highlight" class="headerlink" title="highlight"></a>highlight</h2><ul><li>类型：<code>Boolean</code></li><li>默认值: <code>true</code></li><li>必要性: <code>false</code></li></ul><p><code>代码高亮</code>，默认开启，若不需要，请手动关闭</p><h2 id="avatarForce"><a href="#avatarForce" class="headerlink" title="avatarForce"></a>avatarForce</h2><ul><li>类型: <code>Boolean</code></li><li>默认值: <code>false</code></li><li>必要性: <code>false</code></li></ul><p>每次访问<code>强制</code>拉取最新的<code>评论列表头像</code></p><blockquote><p>不推荐设置为<code>true</code>，目前的<code>评论列表头像</code>会自动带上<code>Valine</code>的版本号</p></blockquote><h2 id="recordIP"><a href="#recordIP" class="headerlink" title="recordIP"></a>recordIP</h2><ul><li>类型: <code>Boolean</code></li><li>默认值: <code>false</code></li><li>必要性: <code>false</code></li></ul><p>是否记录评论者IP</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.3.5+</span><br></pre></td></tr></table></figure></blockquote><h2 id="serverURLs"><a href="#serverURLs" class="headerlink" title="serverURLs"></a>serverURLs</h2><ul><li>类型: <code>String</code></li><li>默认值: <code>http[s]://[tab/us].avoscloud.com</code></li><li>必要性: <code>false</code></li></ul><blockquote><p>⚠️ 该配置适用于国内<code>自定义域名</code>用户, <code>海外版本</code>会自动检测(无需手动填写) <code>v1.3.10+</code></p></blockquote><h2 id="emojiCDN"><a href="#emojiCDN" class="headerlink" title="emojiCDN"></a>emojiCDN</h2><ul><li>类型: <code>String</code></li><li>默认值: ``</li><li>必要性: <code>false</code></li></ul><p>设置<code>表情包CDN</code>，参考<a href="https://valine.js.org/emoji.html" target="_blank" rel="noopener">自定义表情</a></p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.4.5+</span><br></pre></td></tr></table></figure></blockquote><h2 id="emojiMaps"><a href="#emojiMaps" class="headerlink" title="emojiMaps"></a>emojiMaps</h2><ul><li>类型: <code>Object</code></li><li>默认值: <code>null</code></li><li>必要性: <code>false</code></li></ul><p>设置<code>表情包映射</code>，参考<a href="https://valine.js.org/emoji.html" target="_blank" rel="noopener">自定义表情</a></p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.4.5+</span><br></pre></td></tr></table></figure></blockquote><h2 id="enableQQ"><a href="#enableQQ" class="headerlink" title="enableQQ"></a>enableQQ</h2><ul><li>类型: <code>Boolean</code></li><li>默认值: <code>false</code></li><li>必要性: <code>false</code></li></ul><p>是否启用<code>昵称框</code>自动获取<code>QQ昵称</code>和<code>QQ头像</code>, 默认关闭，需<code>博/网站主</code>主动启用</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.4.6+</span><br></pre></td></tr></table></figure></blockquote><h2 id="requiredFields"><a href="#requiredFields" class="headerlink" title="requiredFields"></a>requiredFields</h2><ul><li>类型: <code>Array</code></li><li>默认值: <code>[]</code></li><li>必要性: <code>false</code></li></ul><p>设置<code>必填项</code>，默认<code>匿名</code>，可选值：</p><ul><li><code>[&#39;nick&#39;]</code></li><li><code>[&#39;nick&#39;,&#39;mail&#39;]</code></li></ul><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1.4.6+</span><br></pre></td></tr></table></figure></blockquote><h1 id="头像配置"><a href="#头像配置" class="headerlink" title="头像配置"></a>头像配置</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/avatar.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>Valine 目前使用的是<a href="http://cn.gravatar.com/" target="_blank" rel="noopener">Gravatar</a> 作为评论列表头像。</p><p>请自行登录或注册<a href="http://cn.gravatar.com/" target="_blank" rel="noopener">Gravatar</a>，然后修改自己的头像。</p><p>评论的时候，留下在<a href="http://cn.gravatar.com/" target="_blank" rel="noopener">Gravatar</a>注册时所使用的邮箱即可。</p><p>感谢<code>gravatar.cat.net</code>提供的镜像服务。</p><blockquote><p>如果你修改了头像后发现没有更新，请不要慌张，因为<code>gravatar.cat.net</code> 有七天的缓存期，安静的等待吧~</p></blockquote><p>目前<code>非自定义头像</code>有以下7种<code>默认值</code>可选:</p><table><thead><tr><th align="center">参数值</th><th align="center">表现形式</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center">空字符串<code>&#39;&#39;</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40" alt="Gravatar官方图形"></td><td align="left">Gravatar官方图形</td></tr><tr><td align="center"><code>mp</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=mp" alt="神秘人(一个灰白头像)"></td><td align="left">神秘人(一个灰白头像)</td></tr><tr><td align="center"><code>identicon</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon" alt="抽象几何图形"></td><td align="left">抽象几何图形</td></tr><tr><td align="center"><code>monsterid</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=monsterid" alt="小怪物"></td><td align="left">小怪物</td></tr><tr><td align="center"><code>wavatar</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=wavatar" alt="用不同面孔和背景组合生成的头像"></td><td align="left">用不同面孔和背景组合生成的头像</td></tr><tr><td align="center"><code>retro</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=retro" alt="八位像素复古头像"></td><td align="left">八位像素复古头像</td></tr><tr><td align="center"><code>robohash</code></td><td align="center"><img src="https://gravatar.loli.net/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=robohash" alt="机器人"></td><td align="left">一种具有不同颜色、面部等的机器人</td></tr><tr><td align="center"><code>hide</code></td><td align="center"></td><td align="left">不显示头像</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    ...</span><br><span class="line">    avatar:<span class="string">''</span> <span class="comment">// (''/mp/identicon/monsterid/wavatar/robohash/retro/hide)</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="邮件提醒"><a href="#邮件提醒" class="headerlink" title="邮件提醒"></a>邮件提醒</h1><p>Valine 评论系统中的邮件提醒设置</p><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/notify.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><blockquote><p>!!! 自带的<code>邮件提醒</code>功能将在<code>v1.4.0</code>发布时下线，请使用<code>自带邮件提醒</code>的用户注意更改为<code>第三方邮件提醒</code></p></blockquote><h2 id="第三方支持"><a href="#第三方支持" class="headerlink" title="第三方支持"></a>第三方支持</h2><p>如果你对Valine自带的<code>邮件提醒</code>不满意，其实还使用更完善的第三方<code>邮件提醒</code>：</p><ul><li><a href="https://github.com/zhaojun1998/Valine-Admin" target="_blank" rel="noopener">Valine-Admin</a> (by <a href="https://github.com/zhaojun1998/Valine-Admin" target="_blank" rel="noopener">@zhaojun1998</a>)</li></ul><h1 id="多语言支持"><a href="#多语言支持" class="headerlink" title="多语言支持"></a>多语言支持</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/i18n.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p>现在，<code>Valine</code>开始支持多语言。默认内置：</p><ul><li><code>zh-CN</code></li><li><code>zh-TW</code></li><li><code>en</code></li><li><code>ja</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el:<span class="string">'#vcomment'</span>,</span><br><span class="line">    appId:<span class="string">'Your appId'</span>,</span><br><span class="line">    appKey:<span class="string">'Your appKey'</span>,</span><br><span class="line">    lang:<span class="string">'en'</span> <span class="comment">// 设置这里就ok</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="自定义语言"><a href="#自定义语言" class="headerlink" title="自定义语言"></a>自定义语言</h2><p>自定义语言只需两步：</p><ol><li>定义<code>langName</code>和<code>langMode</code></li><li>初始化 Valine</li></ol><blockquote><p>请严格按照下面的<code>langMode</code>格式书写内容:</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.定义 langName 和 langMode </span></span><br><span class="line"><span class="keyword">var</span> langName = <span class="string">'en'</span>,</span><br><span class="line">    langMode = &#123;</span><br><span class="line">        <span class="string">"nick"</span>: <span class="string">"NickName"</span>,</span><br><span class="line">        <span class="string">"mail"</span>: <span class="string">"E-Mail"</span>,</span><br><span class="line">        <span class="string">"link"</span>: <span class="string">"Website(http://)"</span>,</span><br><span class="line">        <span class="string">"nickFail"</span>:<span class="string">"NickName cannot be less than 3 bytes."</span>,</span><br><span class="line">        <span class="string">"mailFail"</span>:<span class="string">"Please confirm your email address."</span>,</span><br><span class="line">        <span class="string">"sofa"</span>: <span class="string">"No comment yet."</span>,</span><br><span class="line">        <span class="string">"submit"</span>: <span class="string">"Submit"</span>,</span><br><span class="line">        <span class="string">"reply"</span>: <span class="string">"Reply"</span>,</span><br><span class="line">        <span class="string">"cancelReply"</span>: <span class="string">"Cancel reply"</span>,</span><br><span class="line">        <span class="string">"comments"</span>: <span class="string">"Comments"</span>,</span><br><span class="line">        <span class="string">"cancel"</span>: <span class="string">"Cancel"</span>,</span><br><span class="line">        <span class="string">"confirm"</span>: <span class="string">"Confirm"</span>,</span><br><span class="line">        <span class="string">"continue"</span>: <span class="string">"Continue"</span>,</span><br><span class="line">        <span class="string">"more"</span>: <span class="string">"Load More..."</span>,</span><br><span class="line">        <span class="string">"preview"</span>: <span class="string">"Preview"</span>,</span><br><span class="line">        <span class="string">"emoji"</span>: <span class="string">"Emoji"</span>,</span><br><span class="line">        <span class="string">"expand"</span>: <span class="string">"See more...."</span>,</span><br><span class="line">        <span class="string">"seconds"</span>: <span class="string">"seconds ago"</span>,</span><br><span class="line">        <span class="string">"minutes"</span>: <span class="string">"minutes ago"</span>,</span><br><span class="line">        <span class="string">"hours"</span>: <span class="string">"hours ago"</span>,</span><br><span class="line">        <span class="string">"days"</span>: <span class="string">"days ago"</span>,</span><br><span class="line">        <span class="string">"now"</span>: <span class="string">"just now"</span>,</span><br><span class="line">        <span class="string">"uploading"</span>:<span class="string">"Uploading ..."</span>,</span><br><span class="line">        <span class="string">"uploadDone"</span>:<span class="string">"Upload completed!"</span>,</span><br><span class="line">        <span class="string">"busy"</span>:<span class="string">"Submit is busy, please wait..."</span>,</span><br><span class="line">        <span class="string">"code-98"</span>:<span class="string">"Valine initialization failed, please check your version of av-min.js."</span>,</span><br><span class="line">        <span class="string">"code-99"</span>: <span class="string">"Valine initialization failed, Please check the `el` element in the init method."</span>,</span><br><span class="line">        <span class="string">"code-100"</span>: <span class="string">"Valine initialization failed, Please check your appId and appKey."</span>,</span><br><span class="line">        <span class="string">"code-140"</span>:<span class="string">"The total number of API calls today has exceeded the development version limit."</span>,</span><br><span class="line">        <span class="string">"code-401"</span>: <span class="string">"Unauthorized operation, Please check your appId and appKey."</span>,</span><br><span class="line">        <span class="string">"code-403"</span>: <span class="string">"Access denied by API domain white list, Please check your security domain."</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.初始化 Valine</span></span><br><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el:<span class="string">'#vcomment'</span>,</span><br><span class="line">    appId:<span class="string">'Your appId'</span>,</span><br><span class="line">    appKey:<span class="string">'Your appKey'</span>,</span><br><span class="line">    lang: langName,</span><br><span class="line">    langMode: langMode</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p><code>v1.1.8-beta9</code>开始支持。</p></blockquote><h1 id="文章阅读量统计"><a href="#文章阅读量统计" class="headerlink" title="文章阅读量统计"></a>文章阅读量统计</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/visitor.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>Valine 从 <code>v1.2.0</code> 开始支持文章阅读量统计。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el:<span class="string">'#vcomments'</span>,</span><br><span class="line">    ...</span><br><span class="line">    visitor: <span class="literal">true</span> <span class="comment">// 阅读量统计</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>如果开启了<code>阅读量统计</code>，Valine 会<code>自动检测</code> leancloud 应用中是否存在<code>Counter</code>类，如果不存在<code>会自动创建</code>，<strong>无需手动创建</strong>~</p></blockquote><p>Valine会自动查找页面中<code>class</code>值为<code>leancloud_visitors</code>的元素，获取其<code>id</code>为查询条件。并将得到的值填充到其<code>class</code>的值为<code>leancloud-visitors-count</code>的子元素里：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- id 将作为查询条件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"&lt;Your/Path/Name&gt;"</span> <span class="attr">class</span>=<span class="string">"leancloud_visitors"</span> <span class="attr">data-flag-title</span>=<span class="string">"Your Article Title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">em</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>阅读量 <span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"leancloud-visitors-count"</span>&gt;</span>1000000<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>当前页访问次数</em> <em>24789</em></p><blockquote><p>Next 主题<code>阅读量统计</code>请参考：<a href="https://github.com/theme-next/hexo-theme-next/commit/7d17575f01c94188cff7e5caaa122fc0384ffac9" target="_blank" rel="noopener">#7d17575</a> <a href="https://github.com/theme-next/hexo-theme-next/pull/345" target="_blank" rel="noopener">#345</a></p></blockquote><h2 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Valine&#96;从&#96;v1.4.5&#96;开始支持&#96;自定义表情&#96;。默认内置&#96;微博表情</span><br><span class="line">new Valine(&#123;</span><br><span class="line">    el:&#39;#vcomment&#39;,</span><br><span class="line">    appId:&#39;&lt;Your_APP_ID&gt;&#39;,</span><br><span class="line">    appKey:&#39;&lt;Your_APP_KEY&gt;&#39;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 这里设置CDN, 默认微博表情CDN</span><br><span class="line">    emojiCDN: &#39;https:&#x2F;&#x2F;img.t.sinajs.cn&#x2F;t4&#x2F;appstyle&#x2F;expression&#x2F;ext&#x2F;normal&#x2F;&#39;, </span><br><span class="line">    &#x2F;&#x2F; 表情title和图片映射</span><br><span class="line">    emojiMaps: &#123;</span><br><span class="line">        &quot;smile&quot;:&quot;e3&#x2F;2018new_weixioa02_org.png&quot;,</span><br><span class="line">        &quot;lovely&quot;:&quot;09&#x2F;2018new_keai_org.png&quot;,</span><br><span class="line">        &#x2F;&#x2F; ... 更多表情</span><br><span class="line">    &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="举个栗子"><a href="#举个栗子" class="headerlink" title="举个栗子"></a>举个栗子</h2><p>比如我们要用<code>Bilibili</code>的表情包(效果可以在评论区查看):</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el:<span class="string">'#vcomment'</span>,</span><br><span class="line">    appId:<span class="string">'&lt;Your_APP_ID&gt;'</span>,</span><br><span class="line">    appKey:<span class="string">'&lt;Your_APP_KEY&gt;'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置Bilibili表情包地址</span></span><br><span class="line">    emojiCDN: <span class="string">'//i0.hdslb.com/bfs/emote/'</span>, </span><br><span class="line">    <span class="comment">// 表情title和图片映射</span></span><br><span class="line">    emojiMaps: &#123;</span><br><span class="line">        <span class="string">"tv_doge"</span>: <span class="string">"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png"</span>,</span><br><span class="line">        <span class="string">"tv_亲亲"</span>: <span class="string">"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png"</span>,</span><br><span class="line">        <span class="string">"tv_偷笑"</span>: <span class="string">"bb690d4107620f1c15cff29509db529a73aee261.png"</span>,</span><br><span class="line">        <span class="string">"tv_再见"</span>: <span class="string">"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png"</span>,</span><br><span class="line">        <span class="string">"tv_冷漠"</span>: <span class="string">"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png"</span>,</span><br><span class="line">        <span class="string">"tv_发怒"</span>: <span class="string">"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png"</span>,</span><br><span class="line">        <span class="string">"tv_发财"</span>: <span class="string">"34db290afd2963723c6eb3c4560667db7253a21a.png"</span>,</span><br><span class="line">        <span class="string">"tv_可爱"</span>: <span class="string">"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png"</span>,</span><br><span class="line">        <span class="string">"tv_吐血"</span>: <span class="string">"09dd16a7aa59b77baa1155d47484409624470c77.png"</span>,</span><br><span class="line">        <span class="string">"tv_呆"</span>: <span class="string">"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png"</span>,</span><br><span class="line">        <span class="string">"tv_呕吐"</span>: <span class="string">"9f996894a39e282ccf5e66856af49483f81870f3.png"</span>,</span><br><span class="line">        <span class="string">"tv_困"</span>: <span class="string">"241ee304e44c0af029adceb294399391e4737ef2.png"</span>,</span><br><span class="line">        <span class="string">"tv_坏笑"</span>: <span class="string">"1f0b87f731a671079842116e0991c91c2c88645a.png"</span>,</span><br><span class="line">        <span class="string">"tv_大佬"</span>: <span class="string">"093c1e2c490161aca397afc45573c877cdead616.png"</span>,</span><br><span class="line">        <span class="string">"tv_大哭"</span>: <span class="string">"23269aeb35f99daee28dda129676f6e9ea87934f.png"</span>,</span><br><span class="line">        <span class="string">"tv_委屈"</span>: <span class="string">"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png"</span>,</span><br><span class="line">        <span class="string">"tv_害羞"</span>: <span class="string">"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png"</span>,</span><br><span class="line">        <span class="string">"tv_尴尬"</span>: <span class="string">"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png"</span>,</span><br><span class="line">        <span class="string">"tv_微笑"</span>: <span class="string">"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png"</span>,</span><br><span class="line">        <span class="string">"tv_思考"</span>: <span class="string">"90cf159733e558137ed20aa04d09964436f618a1.png"</span>,</span><br><span class="line">        <span class="string">"tv_惊吓"</span>: <span class="string">"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"</span>,</span><br><span class="line">        <span class="comment">// ... 更多表情</span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="在Jekyll中使用"><a href="#在Jekyll中使用" class="headerlink" title="在Jekyll中使用"></a>在Jekyll中使用</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/jekyll.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>目前，已有部分Jekyll 主题内置了Valine 评论系统，更多的主题正在逐步增加中(由于个人精力有限，内置Valine 的PR将不定时提交)。</p><p>当然，我们也欢迎更多开发者自主的提交PR 😄</p><h2 id="staticblog-github-io"><a href="#staticblog-github-io" class="headerlink" title="staticblog.github.io"></a>staticblog.github.io</h2><blockquote><p><a href="https://github.com/staticblog/staticblog.github.io/pull/39" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h1 id="在Hexo-中使用"><a href="#在Hexo-中使用" class="headerlink" title="在Hexo 中使用"></a>在Hexo 中使用</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/hexo.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>目前，已有部分Hexo主题内置了Valine 评论系统，更多的主题正在逐步增加中(由于个人精力有限，内置Valine的PR将不定时提交)。</p><p>当然，我们也欢迎更多开发者自主的提交PR 😄</p><h2 id="hexo-theme-ils"><a href="#hexo-theme-ils" class="headerlink" title="hexo-theme-ils"></a>hexo-theme-ils</h2><blockquote><p><a href="https://github.com/XPoet/hexo-theme-ils" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-matery"><a href="#hexo-theme-matery" class="headerlink" title="hexo-theme-matery"></a>hexo-theme-matery</h2><blockquote><p><a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-stun"><a href="#hexo-theme-stun" class="headerlink" title="hexo-theme-stun"></a>hexo-theme-stun</h2><blockquote><p><a href="https://github.com/liuyib/hexo-theme-stun/commit/170fcb38f939851971fc756f03ffd8f01f7a49a3" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-apolloZ"><a href="#hexo-theme-apolloZ" class="headerlink" title="hexo-theme-apolloZ"></a>hexo-theme-apolloZ</h2><blockquote><p><a href="https://github.com/ChungZH/hexo-theme-apolloZ" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-raytaylorism"><a href="#hexo-theme-raytaylorism" class="headerlink" title="hexo-theme-raytaylorism"></a>hexo-theme-raytaylorism</h2><blockquote><p><a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism/pull/115" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-spfk"><a href="#hexo-theme-spfk" class="headerlink" title="hexo-theme-spfk"></a>hexo-theme-spfk</h2><blockquote><p><a href="https://github.com/luuman/hexo-theme-spfk/pull/77" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="hexo-them-ochuunn"><a href="#hexo-them-ochuunn" class="headerlink" title="hexo-them-ochuunn"></a>hexo-them-ochuunn</h2><blockquote><p><a href="https://github.com/ochukai/hexo-theme-ochuunn" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="cactus-dark"><a href="#cactus-dark" class="headerlink" title="cactus-dark"></a>cactus-dark</h2><blockquote><p><a href="https://github.com/probberechts/cactus-dark/pull/54" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="cactus-white-cn"><a href="#cactus-white-cn" class="headerlink" title="cactus-white-cn"></a>cactus-white-cn</h2><blockquote><p><a href="https://github.com/xuthus5/hexo-theme-cactus" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-yilia"><a href="#hexo-theme-yilia" class="headerlink" title="hexo-theme-yilia"></a>hexo-theme-yilia</h2><blockquote><p><a href="https://github.com/litten/hexo-theme-yilia/pull/646" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-even"><a href="#hexo-theme-even" class="headerlink" title="hexo-theme-even"></a>hexo-theme-even</h2><blockquote><p><a href="https://github.com/ahonn/hexo-theme-even/pull/179" target="_blank" rel="noopener">Open</a> <code>v1.1.7</code></p></blockquote><h2 id="hexo-theme-random"><a href="#hexo-theme-random" class="headerlink" title="hexo-theme-random"></a>hexo-theme-random</h2><blockquote><p><a href="https://github.com/stiekel/hexo-theme-random/pull/64" target="_blank" rel="noopener">Open</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-volantis"><a href="#hexo-theme-volantis" class="headerlink" title="hexo-theme-volantis"></a>hexo-theme-volantis</h2><blockquote><p><a href="https://github.com/xaoxuu/hexo-theme-volantis/" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-Cards"><a href="#hexo-theme-Cards" class="headerlink" title="hexo-theme-Cards"></a>hexo-theme-Cards</h2><blockquote><p><a href="https://github.com/adymilk/hexo-theme-Cards" target="_blank" rel="noopener">Supproted</a> <code>latest</code></p></blockquote><h2 id="Hexo-Theme-Life"><a href="#Hexo-Theme-Life" class="headerlink" title="Hexo-Theme-Life"></a>Hexo-Theme-Life</h2><blockquote><p><a href="https://github.com/WeicMa/Hexo-Theme-Life" target="_blank" rel="noopener">Supported</a> <code>v1.1.7-beta</code></p></blockquote><h2 id="hexo-theme-Anisina"><a href="#hexo-theme-Anisina" class="headerlink" title="hexo-theme-Anisina"></a>hexo-theme-Anisina</h2><blockquote><p><a href="https://github.com/Haojen/hexo-theme-Anisina/pull/94" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-pure"><a href="#hexo-theme-pure" class="headerlink" title="hexo-theme-pure"></a>hexo-theme-pure</h2><blockquote><p><a href="https://github.com/cofess/hexo-theme-pure/pull/49" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-typing"><a href="#hexo-theme-typing" class="headerlink" title="hexo-theme-typing"></a>hexo-theme-typing</h2><blockquote><p><a href="https://github.com/geekplux/hexo-theme-typing/pull/19" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-pln"><a href="#hexo-theme-pln" class="headerlink" title="hexo-theme-pln"></a>hexo-theme-pln</h2><blockquote><p><a href="https://github.com/gaoryrt/hexo-theme-pln/pull/26" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-landscape"><a href="#hexo-theme-landscape" class="headerlink" title="hexo-theme-landscape"></a>hexo-theme-landscape</h2><blockquote><p><a href="https://github.com/hexojs/hexo-theme-landscape/pull/98" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="fexo"><a href="#fexo" class="headerlink" title="fexo"></a>fexo</h2><blockquote><p><a href="https://github.com/forsigner/fexo/pull/102" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-indigo"><a href="#hexo-theme-indigo" class="headerlink" title="hexo-theme-indigo"></a>hexo-theme-indigo</h2><blockquote><p><a href="https://github.com/yscoder/hexo-theme-indigo/pull/337" target="_blank" rel="noopener">Merge</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-Anatole"><a href="#hexo-theme-Anatole" class="headerlink" title="hexo-theme-Anatole"></a>hexo-theme-Anatole</h2><blockquote><p><a href="https://github.com/Ben02/hexo-theme-Anatole/pull/25" target="_blank" rel="noopener">Merged</a> <code>v1.1.7</code></p></blockquote><h2 id="maupassant-hexo"><a href="#maupassant-hexo" class="headerlink" title="maupassant-hexo"></a>maupassant-hexo</h2><blockquote><p><a href="https://github.com/tufu9441/maupassant-hexo/pull/331" target="_blank" rel="noopener">Merged</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-mdui"><a href="#hexo-theme-mdui" class="headerlink" title="hexo-theme-mdui"></a>hexo-theme-mdui</h2><blockquote><p><a href="https://github.com/Halyul/hexo-theme-mdui/pull/74" target="_blank" rel="noopener">Merged</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-next"><a href="#hexo-theme-next" class="headerlink" title="hexo-theme-next"></a>hexo-theme-next</h2><blockquote><p><a href="https://github.com/theme-next/hexo-theme-next/pull/345" target="_blank" rel="noopener">Merged</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-material"><a href="#hexo-theme-material" class="headerlink" title="hexo-theme-material"></a>hexo-theme-material</h2><blockquote><p><a href="https://github.com/viosey/hexo-theme-material/pull/558" target="_blank" rel="noopener">Merged</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-hueman"><a href="#hexo-theme-hueman" class="headerlink" title="hexo-theme-hueman"></a>hexo-theme-hueman</h2><blockquote><p><a href="https://github.com/ppoffice/hexo-theme-hueman/pull/186" target="_blank" rel="noopener">Merged</a> <code>v1.1.7-rc3</code></p></blockquote><h2 id="hexo-theme-magnetic"><a href="#hexo-theme-magnetic" class="headerlink" title="hexo-theme-magnetic"></a>hexo-theme-magnetic</h2><blockquote><p><a href="https://github.com/klugjo/hexo-theme-magnetic/pull/14" target="_blank" rel="noopener">Merged</a> <code>v1.1.7</code></p></blockquote><h2 id="hexo-theme-snippet"><a href="#hexo-theme-snippet" class="headerlink" title="hexo-theme-snippet"></a>hexo-theme-snippet</h2><blockquote><p><a href="https://github.com/shenliyang/hexo-theme-snippet" target="_blank" rel="noopener">Resolved</a> <code>v1.2.2</code></p></blockquote><h2 id="hexo-theme-casper"><a href="#hexo-theme-casper" class="headerlink" title="hexo-theme-casper"></a>hexo-theme-casper</h2><blockquote><p><a href="https://github.com/xzhih/hexo-theme-casper" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-adagio"><a href="#hexo-theme-adagio" class="headerlink" title="hexo-theme-adagio"></a>hexo-theme-adagio</h2><blockquote><p><a href="https://github.com/Hanlin-Dong/hexo-theme-adagio" target="_blank" rel="noopener">Merged</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-fluid"><a href="#hexo-theme-fluid" class="headerlink" title="hexo-theme-fluid"></a>hexo-theme-fluid</h2><blockquote><p><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-freemind-bithack"><a href="#hexo-theme-freemind-bithack" class="headerlink" title="hexo-theme-freemind.bithack"></a>hexo-theme-freemind.bithack</h2><blockquote><p><a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-yun"><a href="#hexo-theme-yun" class="headerlink" title="hexo-theme-yun"></a>hexo-theme-yun</h2><blockquote><p><a href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h2 id="hexo-theme-arknights"><a href="#hexo-theme-arknights" class="headerlink" title="hexo-theme-arknights"></a>hexo-theme-arknights</h2><blockquote><p><a href="https://github.com/Yue-plus/hexo-theme-arknights" target="_blank" rel="noopener">Supported</a> <code>latest</code></p></blockquote><h1 id="在VuePress中使用"><a href="#在VuePress中使用" class="headerlink" title="在VuePress中使用"></a>在VuePress中使用</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/vuepress.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>目前，<a href="https://github.com/dongyuanxin/vuepress-plugin-comment" target="_blank" rel="noopener">vuepress-plugin-comment</a> 支持在 Vuepress 中使用 Valine，自动管理 SPA路由 相关的工作。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>如果使用 <code>npm</code>：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vuepress-plugin-comment</span><br></pre></td></tr></table></figure><p>如果使用 <code>yarn</code>:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add vuepress-plugin-comment -D</span><br></pre></td></tr></table></figure><h2 id="快速使用"><a href="#快速使用" class="headerlink" title="快速使用"></a>快速使用</h2><p>将 <code>vuepress-plugin-comment</code> 添加到vuepress项目的插件配置中：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">'vuepress-plugin-comment'</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        choosen: <span class="string">'valine'</span>, </span><br><span class="line">        <span class="comment">// options选项中的所有参数，会传给Valine的配置</span></span><br><span class="line">        options: &#123;</span><br><span class="line">          el: <span class="string">'#valine-vuepress-comment'</span>,</span><br><span class="line">          appId: <span class="string">'Your own appId'</span>,</span><br><span class="line">          appKey: <span class="string">'Your own appKey'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="进阶用法"><a href="#进阶用法" class="headerlink" title="进阶用法"></a>进阶用法</h2><ul><li><a href="https://www.npmjs.com/package/vuepress-plugin-comment" target="_blank" rel="noopener">docs</a></li></ul><h1 id="在Gatsby中使用"><a href="#在Gatsby中使用" class="headerlink" title="在Gatsby中使用"></a>在Gatsby中使用</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/gatsby.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>可以使用<a href="https://www.npmjs.com/package/gatsby-plugin-valine" target="_blank" rel="noopener"><code>gatsby-plugin-valine</code></a>插件在 Gatsby 站点中嵌入 Valine 组件。</p><p>本插件支持 TypeScript（因为就是用 TypeScript 写的），目前仅支持 Gatsby v2。</p><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><ol><li><p>通过 <code>npm</code> 下载和安装本插件:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install --save gatsby-plugin-valine</span><br><span class="line">   </span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者用 yarn:</span></span><br><span class="line">   </span><br><span class="line">yarn add gatsby-plugin-valine</span><br></pre></td></tr></table></figure></li><li><p>在项目的 <code>gatsby-config.js</code> 文件中加入插件配置:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// gatsby-config.js</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        plugins: [<span class="string">`gatsby-plugin-valine`</span>],</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在 <code>gatsby-config.js</code> 中配置插件时，也支持设置插件选项，比如这样:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// gatsby-config.js</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        plugins: [</span><br><span class="line">            &#123;</span><br><span class="line">                resolve: <span class="string">`gatsby-plugin-valine`</span>,</span><br><span class="line">                options: &#123;</span><br><span class="line">                    appId: <span class="string">`LEANCLOUD_APP_ID`</span>,</span><br><span class="line">                    appKey: <span class="string">`LEANCLOUD_APP_KEY`</span>,</span><br><span class="line">                    avatar: <span class="string">`robohash`</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h2><p>插件安装好后，只需要在需要的页面中导入它并添加<code>&lt;Valine&gt;</code>组件标签即可。</p><p>比如你希望在一个用<code>gatsby-starter-blog</code>模板创建的博客站点上加入评论功能，并将 Valine 评论显示在每个博客文章页面的底部，那么只需要在<code>src/templates/blog-post.js</code>文件中添加如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Valine <span class="keyword">from</span> <span class="string">'gatsby-plugin-valine'</span> <span class="comment">// 导入</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> BlogPostTemplate = <span class="function">(<span class="params">&#123; data, pageContext, location &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout location=&#123;location&#125; title=&#123;siteTitle&#125;&gt;</span><br><span class="line">      ...</span><br><span class="line">      &lt;!-- 在页面框架最后添加Valine标签 --&gt;</span><br><span class="line">      &lt;Valine appId=<span class="string">"LEANCLOUD_APP_ID"</span> appKey=<span class="string">"LEANCLOUD_APP_KEY"</span>/&gt;</span><br><span class="line">    &lt;<span class="regexp">/Layout&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>也许你已经注意到，在上例中<code>appId</code>和<code>appKey</code>的值是作为<code>&lt;Valine&gt;</code>标签的属性传入的。同理，其他 Valine 选项也可以用这种方式传入。</p><p>如果这种方式对你来说看着太乱，或者太麻烦（比如有多个页面都需要添加标签），那么也可以在<code>gatsby-config.js</code>的<strong>插件选项</strong>中进行<strong>全局</strong>设置。</p><blockquote><p>标签里的<strong>局部选项</strong>会与<code>gatsby-config.js</code>提供的<strong>全局选项</strong>进行<strong>深度合并</strong>（<code>lodash</code>的<code>merge</code>行为），且局部选项会覆盖同名的全局选项。</p></blockquote><h2 id="Valine-选项"><a href="#Valine-选项" class="headerlink" title="Valine 选项"></a>Valine 选项</h2><p>如前文所述，Valine 选项可以通过<strong>插件选项</strong>或<strong>组件属性</strong>进行设置。<strong>除<code>el</code>以外</strong>，本插件支持 Valine <code>1.4.14</code>版本所提供的所有可用选项。<code>el</code>属性在插件中会被改写，因此设置了也没效果。</p><p>关于 Valine 选项的更多详细描述，请参阅<a href="https://valine.js.org/configuration.html" target="_blank" rel="noopener">配置项</a>。</p><p><code>Valine</code>组件的各属性已经编写了详细的注释，TypeScript 开发者可以在支持的代码编辑器中直接查看。</p><p>下面是插件支持的 Valine 选项列表，以便快速查阅。列表使用 TypeScript 的语法进行了类型描述。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">appId?: <span class="built_in">string</span></span><br><span class="line">appKey?: <span class="built_in">string</span></span><br><span class="line">placeholder?: <span class="built_in">string</span></span><br><span class="line">path?: <span class="built_in">string</span></span><br><span class="line">avatar?: <span class="string">''</span> | <span class="string">'mp'</span> | <span class="string">'identicon'</span> | <span class="string">'monsterid'</span> | <span class="string">'wavatar'</span> | <span class="string">'retro'</span> | <span class="string">'robohash'</span> | <span class="string">'hide'</span></span><br><span class="line">meta?: (<span class="string">'nick'</span> | <span class="string">'mail'</span> | <span class="string">'link'</span>)[]</span><br><span class="line">pageSize?: <span class="built_in">number</span></span><br><span class="line">lang?: <span class="built_in">string</span></span><br><span class="line">visitor?: <span class="built_in">boolean</span></span><br><span class="line">highlight?: <span class="built_in">boolean</span></span><br><span class="line">avatarForce?: <span class="built_in">boolean</span></span><br><span class="line">recordIP?: <span class="built_in">boolean</span></span><br><span class="line">serverURLs?: <span class="built_in">string</span></span><br><span class="line">emojiCDN?: <span class="built_in">string</span></span><br><span class="line">emojiMaps?: Record&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;</span><br><span class="line">enableQQ?: <span class="built_in">boolean</span></span><br><span class="line">requiredFields?: [<span class="string">'nick'</span>] | [<span class="string">'nick'</span>, <span class="string">'mail'</span>]</span><br></pre></td></tr></table></figure><h2 id="为组件设置样式"><a href="#为组件设置样式" class="headerlink" title="为组件设置样式"></a>为组件设置样式</h2><p><code>&lt;Valine&gt;</code> 组件支持 <code>style</code> 和 <code>className</code> 两个属性，以便开发者进行 CSS 样式重写和定制。</p><p>自定义的样式和 CSS 类名会被应用到<code>Valine</code>的容器 DOM 节点上，即拥有 CSS 类<code>v</code>的那个节点。自定义的类名会出现在<code>v</code>之前。</p><h1 id="使用-CDN"><a href="#使用-CDN" class="headerlink" title="使用 CDN"></a>使用 CDN</h1><p><a href="https://github.com/xcss/Valine-docs/tree/master/source/cdn.md" target="_blank" rel="noopener"> 在Github上编辑此页</a></p><p>推荐使用 <a href="https://unpkg.com/valine" target="_blank" rel="noopener">unpkg</a> —— 能及时获取到<code>最新版本</code>。</p><p>也可以在 <a href="https://cdn.jsdelivr.net/npm/valine/" target="_blank" rel="noopener">jsdelivr</a> 和 <a href="https://cdnjs.com/libraries/valine" target="_blank" rel="noopener">cdnjs</a> 上获取 (cdnjs 的版本更新可能略滞后)。</p><h2 id="获取最新版本"><a href="#获取最新版本" class="headerlink" title="获取最新版本"></a>获取最新版本</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- do not set the version number --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/valine/dist/Valine.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- or set latest --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/valine@latest/dist/Valine.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- or Default value --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/valine"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="获取指定版本"><a href="#获取指定版本" class="headerlink" title="获取指定版本"></a>获取指定版本</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/valine@1.4.4/dist/Valine.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>python爬取酷狗音乐歌曲</title>
    <link href="http://yoursite.com/2020/06/19/python%E7%88%AC%E5%8F%96%E9%85%B7%E7%8B%97%E9%9F%B3%E4%B9%90%E6%AD%8C%E6%9B%B2/"/>
    <id>http://yoursite.com/2020/06/19/python%E7%88%AC%E5%8F%96%E9%85%B7%E7%8B%97%E9%9F%B3%E4%B9%90%E6%AD%8C%E6%9B%B2/</id>
    <published>2020-06-19T13:09:47.000Z</published>
    <updated>2020-06-20T03:47:04.410Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> <strong>经过测试，可以下载要付费下载的歌曲（n_n）</strong></p><h1 id="准备工作：Python3-5-Pycharm"><a href="#准备工作：Python3-5-Pycharm" class="headerlink" title="准备工作：Python3.5+Pycharm"></a><strong>准备工作：Python3.5+Pycharm</strong></h1><h1 id="使用到的库：requests，re，json，time，fakeuseragent"><a href="#使用到的库：requests，re，json，time，fakeuseragent" class="headerlink" title="使用到的库：requests，re，json，time，fakeuseragent"></a><strong>使用到的库：requests，re，json，time，fakeuseragent</strong></h1><p><strong>步骤：</strong></p><p> 打开酷狗音乐的官网，输入想要搜索的歌曲（例如《天后》），然后回车搜索，得到如下页面：</p><p><strong><img src="https://images2018.cnblogs.com/blog/1450803/201808/1450803-20180823153049682-1053698732.png" alt="img"></strong></p><p>  右键检查或者按F12打开开发者工具，点击JS选项，查找到如下信息，FileName就是返回的歌手名和歌曲名信息，我们要将其提取出来：</p><p><img src="https://images2018.cnblogs.com/blog/1450803/201808/1450803-20180823153807713-1628640934.png" alt="img"></p><p>  由于这个网址返回的不是标准的json格式，所以要先进行如下处理，然后再转换成json格式：</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res &#x3D; requests.get(url).text</span><br><span class="line">js &#x3D; json.loads(res[res.index(&#39;(&#39;) + 1:-2])</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">提取到歌曲信息之后，我们输入一个序号代表要下载的歌曲序号，然后把歌曲下载下来就好了。这里需要提取出来的是FileHash，这个值会用于构造歌曲详情的URL，该URL格式如下：</span><br></pre></td></tr></table></figure><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.kugou.com&#x2F;yy&#x2F;index.php?r&#x3D;play&#x2F;getdata&amp;hash&#x3D;&lt;FileHash&gt;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">打开这个链接后会一个如下图所示的Json格式文件，其中包含了歌曲名称、歌手、歌曲时长等信息，其中play_url是歌曲链接，将其提取出来使用requests中的content下载即可。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">运行截图：</span><br></pre></td></tr></table></figure><p> <img src="https://img2018.cnblogs.com/blog/1450803/201902/1450803-20190215125234383-332732920.png" alt="img"></p><p>源代码（还在努力完善中）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Version: Python3.8</span></span><br><span class="line"><span class="string">Author: 初一三班李天行</span></span><br><span class="line"><span class="string">Site: http://gw-lazybones.github.io</span></span><br><span class="line"><span class="string">Time: 2019/6/10 15:00</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line">os.system (<span class="string">"md music"</span>)</span><br><span class="line">os.system (<span class="string">"cls"</span>)</span><br><span class="line">os.system (<span class="string">"color 2"</span>)</span><br><span class="line"></span><br><span class="line">ua = UserAgent()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_song</span><span class="params">(song_name)</span>:</span></span><br><span class="line">    search_url = <span class="string">"https://songsearch.kugou.com/song_search_v2?callback=jQuery112405132987859127838_1550204317910&amp;page"</span> \</span><br><span class="line">                 <span class="string">"=1&amp;pagesize=30&amp;userid=-1&amp;clientver=&amp;platform=WebFilter&amp;tag=em&amp;filter=2&amp;iscorrection=1&amp;privilege_fil"</span> \</span><br><span class="line">                 <span class="string">"ter=0&amp;_=1550204317912&amp;keyword=&#123;&#125;"</span>.format(song_name)</span><br><span class="line">    headers1 = &#123;</span><br><span class="line">        <span class="string">"UserAgent"</span>: ua.random</span><br><span class="line">    &#125;</span><br><span class="line">    headers2 = &#123;</span><br><span class="line">        <span class="string">"Cookie"</span>: <span class="string">"kg_mid=3786e26250f01bf2c64bc515820d9752; Hm_lvt_aedee6983d4cfc62f509129360d6bb3d=1559960644; Hm_lpvt_aedee6983d4cfc62f509129360d6bb3d=1559960644; ACK_SERVER_10015=%7B%22list%22%3A%5B%5B%22bjlogin-user.kugou.com%22%5D%5D%7D; ACK_SERVER_10016=%7B%22list%22%3A%5B%5B%22bjreg-user.kugou.com%22%5D%5D%7D; ACK_SERVER_10017=%7B%22list%22%3A%5B%5B%22bjverifycode.service.kugou.com%22%5D%5D%7D; kg_dfid=0iEqIA1uep0h0AogH30Jq1Od; kg_dfid_collect=d41d8cd98f00b204e9800998ecf8427e"</span>,</span><br><span class="line">        <span class="string">"Host"</span>: <span class="string">"www.kugou.com"</span>,</span><br><span class="line">        <span class="string">"Referer"</span>: <span class="string">"http://www.kugou.com/"</span>,</span><br><span class="line">        <span class="string">"UserAgent"</span>: ua.random</span><br><span class="line">    &#125;</span><br><span class="line">    res = requests.get(search_url, headers=headers1)</span><br><span class="line">    <span class="comment"># print(res.text)</span></span><br><span class="line">    start = re.search(<span class="string">"jQuery\d+_\d+\(?"</span>, res.text)</span><br><span class="line">    js = json.loads(res.text.strip().lstrip(start.group()).rstrip(<span class="string">")"</span>))  <span class="comment"># 注意：末尾有一个换行需要去掉</span></span><br><span class="line">    song_list = js[<span class="string">'data'</span>][<span class="string">'lists'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        print(str(i + <span class="number">1</span>) + <span class="string">"&gt;&gt;&gt;"</span> + str(song_list[i][<span class="string">'FileName'</span>]).replace(<span class="string">'&lt;em&gt;'</span>, <span class="string">''</span>).replace(<span class="string">'&lt;/em&gt;'</span>, <span class="string">''</span>))</span><br><span class="line"></span><br><span class="line">    num = int(input(<span class="string">"\n请输入您想要下载的歌曲序号："</span>))</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"请稍等，下载歌曲中..."</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    file_hash = song_list[num - <span class="number">1</span>][<span class="string">'FileHash'</span>]</span><br><span class="line"></span><br><span class="line">    hash_url = <span class="string">"http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash=&#123;&#125;"</span>.format(file_hash)</span><br><span class="line">    <span class="comment"># print(hash_url)</span></span><br><span class="line">    hash_res = requests.get(hash_url, headers=headers2)</span><br><span class="line">    hash_js = hash_res.json()  <span class="comment"># json格式</span></span><br><span class="line">    <span class="comment"># print(hash_js)</span></span><br><span class="line">    play_url = hash_js[<span class="string">'data'</span>][<span class="string">'play_url'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 下载歌曲</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">"music/"</span> + song_name + <span class="string">".mp3"</span>, <span class="string">"wb"</span>)<span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(requests.get(play_url).content)</span><br><span class="line">        print(<span class="string">"歌曲已下载完成！"</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"作者：广州外校初一三班李天行\n官网：https://GW-Lazybones.github.io\n未经允许禁止转载\n\n"</span>)</span><br><span class="line">get_song(input(<span class="string">"请输入您想要搜索的歌曲名称："</span>))</span><br></pre></td></tr></table></figure><p><a href="https://vip.d0.baidupan.com/file/?UDZbZVxtBTRSWwM7V2JXO1RrV29X7waMV/wD4FSHUcYJ4ALQCOIAs1aLBMUFuFHPBu8H5lC2C5kAKQZlACRaPlB2W2pcaAU9UmEDCldqVzJUM1dgVz0GNFdgAzVUPVFkCTACcwgzACdWPQRjBWBRZwZrBzNQPQs6ADEGJgAsWitQbVs+XDEFY1I0A3pXM1dgVCFXYFc4BitXZwNnVD5RNgltAmIIYQAxVjQEawVpUWIGbwc1UDkLPwA1BjUAblo4UGVbOFxiBTVSNgM2VzBXMFRsVzRXOwY2V34DYFRwUTUJLwIgCCYAMVZyBDsFNVFtBm0HMFA7CzkANQY5AGRafVAkW2VcbAU0UmIDaFcyV2NUN1dgVz4GNldlAzNUP1FjCScCcwggACRWPQRjBX9RdgY6B25QeAs0ADcGJgApWitQJ1sxXDAFZFI9A2dXNVdkVDpXZFc+BjFXdgNwVGFRIAk0AmQIZwBkVi4EYAViUWgGcgcwUD4LMQApBjEAaFpq" target="_blank" rel="noopener">exe下载链接</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python简介</title>
    <link href="http://yoursite.com/2020/06/19/Python%E7%AE%80%E4%BB%8B/"/>
    <id>http://yoursite.com/2020/06/19/Python%E7%AE%80%E4%BB%8B/</id>
    <published>2020-06-19T10:00:54.000Z</published>
    <updated>2020-06-19T10:12:59.470Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>编程语言有“高低”之分，而高级语言又有很多种，比如 <a href="http://c.biancheng.net/cplus/" target="_blank" rel="noopener">C++</a>、<a href="http://c.biancheng.net/java/" target="_blank" rel="noopener">Java</a>、<a href="http://c.biancheng.net/csharp/" target="_blank" rel="noopener">C#</a>、<a href="http://c.biancheng.net/php/" target="_blank" rel="noopener">PHP</a>、<a href="http://c.biancheng.net/js/" target="_blank" rel="noopener">JavaScript</a> 等，<a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 也是其中之一。从本节开始，我们将正式开始学习 Python 这门高级编程语言，但是在此之前，我们有必要先讨论一下“Python 是什么”。</p><p>Python 英文原意为“蟒蛇”，直到 1989 年荷兰人 Guido van Rossum （简称 Guido）发明了一种面向对象的解释型编程语言，并将其命名为 Python，才赋予了它表示一门编程语言的含义。</p><p>我们将在《<a href="http://c.biancheng.net/view/4136.html" target="_blank" rel="noopener">编译型语言和解释型语言的区别</a>》一文中讲解什么是解释型语言。</p><p><img src="http://c.biancheng.net/uploads/allimg/190619/2-1Z619131214237.gif" alt="Python 的标志（Logo）"><br>图 1 Python 的标志（Logo）</p><p>说道 Python，它的诞生是极具戏曲性的，据 Guido 的自述记载，Python 语言是他在圣诞节期间为了打发时间开发出来的，之所以会选择 Python 作为该编程语言的名字，是因为他是一个叫 Monty Python 戏剧团体的忠实粉丝。</p><p>Python 语言是在 ABC 教学语言的基础上发展来的；遗憾的是，ABC 语言虽然非常强大，但却没有普及应用，Guido 认为是它不开放导致的。</p><p>基于这个考虑，Guido 在开发 Python 时，不仅为其添加了很多 ABC 没有的功能，还为其设计了各种丰富而强大的库，利用这些 Python 库，程序员可以把使用其它语言制作的各种模块（尤其是C语言和 C++）很轻松地联结在一起，因此 Python 又常被称为“胶水”语言。</p><blockquote><p>这里的库和模块，简单理解就是一个个的源文件，每个文件中都包含可实现各种功能的方法（也可称为函数）。</p></blockquote><p>从整体上看，Python 语言最大的特点就是简单，该特点主要体现在以下 2 个方面：</p><ul><li>Python 语言的语法非常简洁明了，即便是非软件专业的初学者，也很容易上手。</li><li>和其它编程语言相比，实现同一个功能，Python 语言的实现代码往往是最短的。</li></ul><p>对于 Python，网络上流传着“人生苦短，我用 Python”的说法。</p><p>因此，看似 Python 是“不经意间”开发出来的，但丝毫不比其它编程语言差。事实也是如此，自 1991 年 Python 第一个公开发行版问世后：</p><ul><li>2004 年起 Python 的使用率呈线性增长，不断受到编程者的欢迎和喜爱；</li><li>2010 年，Python 荣膺 TIOBE 2010 年度语言桂冠；</li><li>2017 年，IEEE Spectrum 发布的 2017 年度编程语言排行榜中，Python 位居第 1 位。</li></ul><p>直至现在（2019 年 12 月份），根据 TIOBE 排行榜的显示，Python 也居于第 3 位，且有继续提升的态势（如表 2 所示）。</p><table><thead><tr><th>2019年12月</th><th>2018年12月</th><th>编程语言</th><th>市场份额</th><th>变化</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Java</td><td>17.253%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +1.32%</td></tr><tr><td>2</td><td>2</td><td>C</td><td>16.086%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +1.80%</td></tr><tr><td>3</td><td>3</td><td>Python</td><td>10.308%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +1.93%</td></tr><tr><td>4</td><td>4</td><td>C++</td><td>6.196%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -1.37%</td></tr><tr><td>5</td><td>6</td><td>C#</td><td>4.801%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +1.35%</td></tr><tr><td>6</td><td>5</td><td>Visual Basic .NET</td><td>4.743%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -2.38%</td></tr><tr><td>7</td><td>7</td><td>JavaScript</td><td>2.090%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.97%</td></tr><tr><td>8</td><td>8</td><td>PHP</td><td>2.048%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.39%</td></tr><tr><td>9</td><td>9</td><td>SQL</td><td>1.843%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.34%</td></tr><tr><td>10</td><td>14</td><td>Swift</td><td>1.490%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +0.27%</td></tr><tr><td>11</td><td>17</td><td>Ruby</td><td>1.314%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +0.21%</td></tr><tr><td>12</td><td>11</td><td>Delphi/Object Pascal</td><td>1.280%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.12%</td></tr><tr><td>13</td><td>10</td><td>Objective-C</td><td>1.204%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.27%</td></tr><tr><td>14</td><td>12</td><td>Assembly language</td><td>1.067%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.30%</td></tr><tr><td>15</td><td>15</td><td>Go</td><td>0.995%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.19%</td></tr><tr><td>16</td><td>16</td><td>R</td><td>0.995%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.12%</td></tr><tr><td>17</td><td>13</td><td><a href="http://c.biancheng.net/matlab/" target="_blank" rel="noopener">MATLAB</a></td><td>0.986%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.30%</td></tr><tr><td>18</td><td>25</td><td>D</td><td>0.930%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-19123115132bI.png" alt="img"> +0.42%</td></tr><tr><td>19</td><td>19</td><td>Visual Basic</td><td>0.929%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.05%</td></tr><tr><td>20</td><td>18</td><td>Perl</td><td>0.899%</td><td><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231151422608.png" alt="img"> -0.11%</td></tr></tbody></table><p>显然，Python 已经将 C++ 语言甩在了后边，直逼 C 语言和 Java，而且未来有可能超越它们，成为编程语言排行榜冠军。</p><p>我们不妨再看一下 Python 历年来的市场份额变化曲线，Python 的未来大势可期。</p><p><img src="http://c.biancheng.net/uploads/allimg/191231/1-191231152F1C4.gif" alt="Python历年来市场份额变化曲线"><br>图 2 Python 历年来市场份额变化曲线</p><p>错过了 C/C++ 的 PC 时代，又错过了 Java 的互联网和智能手机时代，你还想错过 Python 的人工智能和<a href="http://c.biancheng.net/big_data/" target="_blank" rel="noopener">大数据</a>时代吗？Python 正位于软件产业的第四次风口之上，把握好风口，你就能飞起来。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Hexo优化</title>
    <link href="http://yoursite.com/2020/06/13/Hexo%E4%BC%98%E5%8C%96/"/>
    <id>http://yoursite.com/2020/06/13/Hexo%E4%BC%98%E5%8C%96/</id>
    <published>2020-06-13T12:00:54.000Z</published>
    <updated>2020-06-14T06:48:54.521Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>本文将讲述一些博客主题的美化、实用功能的添加，本文以作者 <a href="https://luuman.github.io/Home/H1/index.html" target="_blank" rel="noopener">luuman</a> 的 <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="noopener">spfk</a> 主题和作者 <a href="https://xaoxuu.com/" target="_blank" rel="noopener">xaoxuu</a> 的 <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" rel="noopener">Material X</a> 主题为例，文章会不定时进行更新。文章涉及有关参考资料、教程、链接如有侵权请联系我删除！</p><p>本文在CSDN的链接：<a href="https://itrhx.blog.csdn.net/article/details/85420403" target="_blank" rel="noopener">《Hexo 博客优化之博客美化》</a>、<a href="https://itrhx.blog.csdn.net/article/details/85010191" target="_blank" rel="noopener">《Hexo 博客优化之实用功能添加》</a>，Hexo 博客专栏，从前期搭建到后期美化，帮您解决常见问题：<a href="https://itrhx.blog.csdn.net/category_9285510.html" target="_blank" rel="noopener">《Github/Coding Pages + Hexo》</a>，对您有帮助就点个赞吧❤️</p><p><strong>请注意：</strong>不同主题可能方法有些不同，相同主题不同版本，配置方法也有所差异！</p><p><strong>博客美化前提条件：</strong>有一定的前端基础，了解 HTML、CSS、JS，了解 CSS 预处理语言 Sass、Less、Stylus，搞懂 hexo 的目录结构。</p><p><strong>博客美化通用步骤：</strong>选定主题，认真阅读主题文档，分析主题目录结构，了解每个文件是对应网页哪个部分的，认真阅读美化教程，美化教程本质上只为你提供核心代码和思路，具体代码要添加到哪个地方，需要你自己搞懂主题结构，添加到需要的、合适的位置！</p><p><strong>博客美化终极奥秘：</strong>创作第一，体验第二，避免繁杂，简洁为上！</p><hr><h1 id="【01】添加评论系统"><a href="#【01】添加评论系统" class="headerlink" title="【01】添加评论系统"></a>【01】添加评论系统</h1><p>主流的评论系统有很多，比如：网易云跟帖、多说、友言、畅言、来必力（LiveRe）、Disqus、Valine、Gitment等等，目前网易云跟帖、多说、友言都已经关闭了，还有些可能需要翻墙，比较麻烦，百度了一下，最后还是选择了来必力评论系统</p><p>进入<a href="https://livere.com/" target="_blank" rel="noopener">来必力官网</a>，注册一个账号（注册时可能需要翻墙）</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/001.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/001.jpg" alt="001"></a></p><p>注册完毕之后，登录，进入安装页面，选择 City 免费版安装，安装之后你会得到一段代码</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/002.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/002.jpg" alt="002"></a></p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/003.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/003.jpg" alt="003"></a></p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/004.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/004.jpg" alt="004"></a></p><p>我们打开主题文件下的 _config.yml 文件，添加如下代码：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/005.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/005.png" alt="005"></a></p><p>在 \themes\hexo-theme-spfk\layout_partial\comments 文件夹下新建一个 livere.ejs 的文件，在里面填写来必力提供的代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!-- 来必力City版安装代码 --&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;lv-container&quot; data-id&#x3D;&quot;city&quot; data-uid&#x3D;&quot;这里是你的uid&quot;&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">(function(d, s) &#123;</span><br><span class="line">        var j, e &#x3D; d.getElementsByTagName(s)[0];</span><br><span class="line">    </span><br><span class="line">        if (typeof LivereTower &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123; return; &#125;</span><br><span class="line">    </span><br><span class="line">        j &#x3D; d.createElement(s);</span><br><span class="line">        j.src &#x3D; &#39;https:&#x2F;&#x2F;cdn-city.livere.com&#x2F;js&#x2F;embed.dist.js&#39;;</span><br><span class="line">        j.async &#x3D; true;</span><br><span class="line">    </span><br><span class="line">        e.parentNode.insertBefore(j, e);</span><br><span class="line">        &#125;)(document, &#39;script&#39;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;noscript&gt;为正常使用来必力评论功能请激活JavaScript&lt;&#x2F;noscript&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;!-- City版安装代码已完成 --&gt;</span><br></pre></td></tr></table></figure><p>打开 \themes\hexo-theme-spfk\layout_partial\article.ejs 文件，在适当位置添加如下红框中的代码：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/006.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/006.jpg" alt="006"></a></p><p>完成以上操作之后，我们就可以使用来必力评论系统了</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/007.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/007.jpg" alt="007"></a></p><hr><h1 id="【02】添加卡通人物"><a href="#【02】添加卡通人物" class="headerlink" title="【02】添加卡通人物"></a>【02】添加卡通人物</h1><p>我在逛别人博客的时候偶然发现右下角居然有一个萌萌的卡通人物，还能根据你鼠标位置摇头，瞬间被吸引到了，赶紧也给自己博客添加一个吧！<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">点击此处</a>进入该项目地址</p><p>输入如下命令获取 live2d ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制$ npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>输入以下命令，下载相应的模型，将 packagename 更换成模型名称即可，更多模型选择请<a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener">点击此处</a>，各个模型的预览请<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">访问原作者的博客</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制$ npm install packagename</span><br></pre></td></tr></table></figure><p>打开站点目录下的 _config.yml 文件，添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">复制live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-haruto #模型选择</span><br><span class="line">  display:</span><br><span class="line">    position: right  #模型位置</span><br><span class="line">    width: 150       #模型宽度</span><br><span class="line">    height: 300      #模型高度</span><br><span class="line">  mobile:</span><br><span class="line">    show: false      #是否在手机端显示</span><br></pre></td></tr></table></figure><p>设置好过后我们就拥有了一个卡通人物</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/008.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/008.jpg" alt="008"></a></p><hr><h1 id="【03】自定义鼠标指针样式"><a href="#【03】自定义鼠标指针样式" class="headerlink" title="【03】自定义鼠标指针样式"></a>【03】自定义鼠标指针样式</h1><p>在 \themes\material-x\source\less_base.less 文件 body 样式里写入如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">复制body &#123;</span><br><span class="line">    cursor: url(https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;TRHX&#x2F;CDN-for-itrhx.com@2.1.6&#x2F;images&#x2F;mouse.cur),auto;</span><br><span class="line">    background-color: @theme_background;</span><br><span class="line">    ......</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>鼠标指针可以用 Axialis CursorWorkshop 这个软件自己制作，不同主题具体放的文件有所不同，确保在博客主体 body 的 CSS 文件中即可，其中的鼠标指针链接可替换成自己的，首先尝试加载 <a href="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@2.1.6/images/mouse.cur" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@2.1.6/images/mouse.cur</a> ，如果该文件不存在或由于其他原因无效，那么 auto 会被使用，也就是自动默认效果，图片格式为.ico、.ani、.cur，建议使用.cur，如果使用.ani或者其他格式无效，原因是浏览器兼容问题，请阅读<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Basic_User_Interface/Using_URL_values_for_the_cursor_property" target="_blank" rel="noopener">参考文档</a>或者参考以下兼容表：</p><table><thead><tr><th align="center">浏览器</th><th align="center">最低版本</th><th align="center">格式</th></tr></thead><tbody><tr><td align="center">Internet Explorer</td><td align="center">6.0</td><td align="center">.cur / .ani</td></tr><tr><td align="center">Firefox (Gecko), Windows and Linux</td><td align="center">1.5 (1.8)</td><td align="center">.cur / .png / .gif / .jpg</td></tr><tr><td align="center">Firefox (Gecko)</td><td align="center">4.0 (2.0)</td><td align="center">.cur / .png / .gif / .jpg / .svg</td></tr><tr><td align="center">Opera</td><td align="center">—</td><td align="center">—</td></tr><tr><td align="center">Safari (Webkit)</td><td align="center">3.0 (522-523)</td><td align="center">.cur / .png / .gif / .jpg</td></tr></tbody></table><p>拓展阅读：<a href="https://blog.csdn.net/ixygj197875/article/details/79338360" target="_blank" rel="noopener">《CSS 鼠标样式 cursor属性》</a> （By：歪脖先生的博客）</p><hr><h1 id="【04】添加鼠标点击爱心效果"><a href="#【04】添加鼠标点击爱心效果" class="headerlink" title="【04】添加鼠标点击爱心效果"></a>【04】添加鼠标点击爱心效果</h1><p>在 \themes\hexo-theme-spfk\source\js 下新建文件 love.js，在 love.js 文件中添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制!function(e,t,a)&#123;function n()&#123;c(&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#39;&#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 500%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;),o(),r()&#125;function r()&#123;for(var e&#x3D;0;e&lt;d.length;e++)d[e].alpha&lt;&#x3D;0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+&#x3D;.004,d[e].alpha-&#x3D;.013,d[e].el.style.cssText&#x3D;&quot;left:&quot;+d[e].x+&quot;px;top:&quot;+d[e].y+&quot;px;opacity:&quot;+d[e].alpha+&quot;;transform:scale(&quot;+d[e].scale+&quot;,&quot;+d[e].scale+&quot;) rotate(45deg);background:&quot;+d[e].color+&quot;;z-index:99999&quot;);requestAnimationFrame(r)&#125;function o()&#123;var t&#x3D;&quot;function&quot;&#x3D;&#x3D;typeof e.onclick&amp;&amp;e.onclick;e.onclick&#x3D;function(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;function i(e)&#123;var a&#x3D;t.createElement(&quot;div&quot;);a.className&#x3D;&quot;heart&quot;,d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;function c(e)&#123;var a&#x3D;t.createElement(&quot;style&quot;);a.type&#x3D;&quot;text&#x2F;css&quot;;try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText&#x3D;e&#125;t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a)&#125;function s()&#123;return&quot;rgb(&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;)&quot;&#125;var d&#x3D;[];e.requestAnimationFrame&#x3D;function()&#123;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e)&#123;setTimeout(e,1e3&#x2F;60)&#125;&#125;(),n()&#125;(window,document);</span><br></pre></td></tr></table></figure><p>在 \themes\hexo-theme-spfk\layout\layout.ejs 文件末尾添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;love.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>完成以上操作后，当我们点击鼠标的时候就可以看见爱心的特效了</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/009.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/009.jpg" alt="009"></a></p><hr><h1 id="【05】添加鼠标点击显示字体效果"><a href="#【05】添加鼠标点击显示字体效果" class="headerlink" title="【05】添加鼠标点击显示字体效果"></a>【05】添加鼠标点击显示字体效果</h1><p>在 \themes\hexo-theme-spfk\source\js 下新建文件 click_show_text.js，在 click_show_text.js 文件中添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">复制var a_idx &#x3D; 0;</span><br><span class="line">jQuery(document).ready(function($) &#123;</span><br><span class="line">    $(&quot;body&quot;).click(function(e) &#123;</span><br><span class="line">        var a &#x3D; new Array</span><br><span class="line">        (&quot;富强&quot;, &quot;民主&quot;, &quot;文明&quot;, &quot;和谐&quot;, &quot;自由&quot;, &quot;平等&quot;, &quot;公正&quot;, &quot;法治&quot;, &quot;爱国&quot;, &quot;敬业&quot;, &quot;诚信&quot;, &quot;友善&quot;);</span><br><span class="line">        var $i &#x3D; $(&quot;&lt;span&#x2F;&gt;&quot;).text(a[a_idx]);</span><br><span class="line">        a_idx &#x3D; (a_idx + 1) % a.length;</span><br><span class="line">        var x &#x3D; e.pageX,</span><br><span class="line">        y &#x3D; e.pageY;</span><br><span class="line">        $i.css(&#123;</span><br><span class="line">            &quot;z-index&quot;: 5,</span><br><span class="line">            &quot;top&quot;: y - 20,</span><br><span class="line">            &quot;left&quot;: x,</span><br><span class="line">            &quot;position&quot;: &quot;absolute&quot;,</span><br><span class="line">            &quot;font-weight&quot;: &quot;bold&quot;,</span><br><span class="line">            &quot;color&quot;: &quot;#FF0000&quot;</span><br><span class="line">        &#125;);</span><br><span class="line">        $(&quot;body&quot;).append($i);</span><br><span class="line">        $i.animate(&#123;</span><br><span class="line">            &quot;top&quot;: y - 180,</span><br><span class="line">            &quot;opacity&quot;: 0</span><br><span class="line">        &#125;,</span><br><span class="line">      3000,</span><br><span class="line">      function() &#123;</span><br><span class="line">          $i.remove();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    setTimeout(&#39;delay()&#39;, 2000);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function delay() &#123;</span><br><span class="line">    $(&quot;.buryit&quot;).removeAttr(&quot;onclick&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中的社会主义核心价值观可以根据你自己的创意替换为其他文字</p><p>如果想要每次点击显示的文字为不同颜色，可以将其中 <code>color</code> 值进行如下更改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制&quot;color&quot;: &quot;rgb(&quot; + ~~(255 * Math.random()) + &quot;,&quot; + ~~(255 * Math.random()) + &quot;,&quot; + ~~(255 * Math.random()) + &quot;)&quot;</span><br></pre></td></tr></table></figure><p>然后在 \themes\hexo-theme-spfk\layout\layout.ejs 文件末尾添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!--单击显示文字--&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;click_show_text.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>最终实现效果如下：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/010.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/010.png" alt="010"></a></p><hr><h1 id="【06】添加鼠标点击烟花爆炸效果"><a href="#【06】添加鼠标点击烟花爆炸效果" class="headerlink" title="【06】添加鼠标点击烟花爆炸效果"></a>【06】添加鼠标点击烟花爆炸效果</h1><p>在 \themes\material-x\source\js 目录下新建一个 fireworks.js 的文件，里面写入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制&quot;use strict&quot;;function updateCoords(e)&#123;pointerX&#x3D;(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY&#x3D;e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;function setParticuleDirection(e)&#123;var t&#x3D;anime.random(0,360)*Math.PI&#x2F;180,a&#x3D;anime.random(50,180),n&#x3D;[-1,1][anime.random(0,1)]*a;return&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;function createParticule(e,t)&#123;var a&#x3D;&#123;&#125;;return a.x&#x3D;e,a.y&#x3D;t,a.color&#x3D;colors[anime.random(0,colors.length-1)],a.radius&#x3D;anime.random(16,32),a.endPos&#x3D;setParticuleDirection(a),a.draw&#x3D;function()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle&#x3D;a.color,ctx.fill()&#125;,a&#125;function createCircle(e,t)&#123;var a&#x3D;&#123;&#125;;return a.x&#x3D;e,a.y&#x3D;t,a.color&#x3D;&quot;#F00&quot;,a.radius&#x3D;0.1,a.alpha&#x3D;0.5,a.lineWidth&#x3D;6,a.draw&#x3D;function()&#123;ctx.globalAlpha&#x3D;a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth&#x3D;a.lineWidth,ctx.strokeStyle&#x3D;a.color,ctx.stroke(),ctx.globalAlpha&#x3D;1&#125;,a&#125;function renderParticule(e)&#123;for(var t&#x3D;0;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;function animateParticules(e,t)&#123;for(var a&#x3D;createCircle(e,t),n&#x3D;[],i&#x3D;0;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;targets:n,x:function(e)&#123;return e.endPos.x&#125;,y:function(e)&#123;return e.endPos.y&#125;,radius:0.1,duration:anime.random(1200,1800),easing:&quot;easeOutExpo&quot;,update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:&quot;linear&quot;,duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:&quot;easeOutExpo&quot;,update:renderParticule,offset:0&#125;)&#125;function debounce(e,t)&#123;var a;return function()&#123;var n&#x3D;this,i&#x3D;arguments;clearTimeout(a),a&#x3D;setTimeout(function()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl&#x3D;document.querySelector(&quot;.fireworks&quot;);if(canvasEl)&#123;var ctx&#x3D;canvasEl.getContext(&quot;2d&quot;),numberOfParticules&#x3D;30,pointerX&#x3D;0,pointerY&#x3D;0,tap&#x3D;&quot;mousedown&quot;,colors&#x3D;[&quot;#FF1461&quot;,&quot;#18FF92&quot;,&quot;#5A87FF&quot;,&quot;#FBF38C&quot;],setCanvasSize&#x3D;debounce(function()&#123;canvasEl.width&#x3D;2*window.innerWidth,canvasEl.height&#x3D;2*window.innerHeight,canvasEl.style.width&#x3D;window.innerWidth+&quot;px&quot;,canvasEl.style.height&#x3D;window.innerHeight+&quot;px&quot;,canvasEl.getContext(&quot;2d&quot;).scale(2,2)&#125;,500),render&#x3D;anime(&#123;duration:1&#x2F;0,update:function()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,function(e)&#123;&quot;sidebar&quot;!&#x3D;&#x3D;e.target.id&amp;&amp;&quot;toggle-sidebar&quot;!&#x3D;&#x3D;e.target.id&amp;&amp;&quot;A&quot;!&#x3D;&#x3D;e.target.nodeName&amp;&amp;&quot;IMG&quot;!&#x3D;&#x3D;e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener(&quot;resize&quot;,setCanvasSize,!1)&#125;&quot;use strict&quot;;function updateCoords(e)&#123;pointerX&#x3D;(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY&#x3D;e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;function setParticuleDirection(e)&#123;var t&#x3D;anime.random(0,360)*Math.PI&#x2F;180,a&#x3D;anime.random(50,180),n&#x3D;[-1,1][anime.random(0,1)]*a;return&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;function createParticule(e,t)&#123;var a&#x3D;&#123;&#125;;return a.x&#x3D;e,a.y&#x3D;t,a.color&#x3D;colors[anime.random(0,colors.length-1)],a.radius&#x3D;anime.random(16,32),a.endPos&#x3D;setParticuleDirection(a),a.draw&#x3D;function()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle&#x3D;a.color,ctx.fill()&#125;,a&#125;function createCircle(e,t)&#123;var a&#x3D;&#123;&#125;;return a.x&#x3D;e,a.y&#x3D;t,a.color&#x3D;&quot;#F00&quot;,a.radius&#x3D;0.1,a.alpha&#x3D;0.5,a.lineWidth&#x3D;6,a.draw&#x3D;function()&#123;ctx.globalAlpha&#x3D;a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth&#x3D;a.lineWidth,ctx.strokeStyle&#x3D;a.color,ctx.stroke(),ctx.globalAlpha&#x3D;1&#125;,a&#125;function renderParticule(e)&#123;for(var t&#x3D;0;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;function animateParticules(e,t)&#123;for(var a&#x3D;createCircle(e,t),n&#x3D;[],i&#x3D;0;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;targets:n,x:function(e)&#123;return e.endPos.x&#125;,y:function(e)&#123;return e.endPos.y&#125;,radius:0.1,duration:anime.random(1200,1800),easing:&quot;easeOutExpo&quot;,update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:&quot;linear&quot;,duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:&quot;easeOutExpo&quot;,update:renderParticule,offset:0&#125;)&#125;function debounce(e,t)&#123;var a;return function()&#123;var n&#x3D;this,i&#x3D;arguments;clearTimeout(a),a&#x3D;setTimeout(function()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl&#x3D;document.querySelector(&quot;.fireworks&quot;);if(canvasEl)&#123;var ctx&#x3D;canvasEl.getContext(&quot;2d&quot;),numberOfParticules&#x3D;30,pointerX&#x3D;0,pointerY&#x3D;0,tap&#x3D;&quot;mousedown&quot;,colors&#x3D;[&quot;#FF1461&quot;,&quot;#18FF92&quot;,&quot;#5A87FF&quot;,&quot;#FBF38C&quot;],setCanvasSize&#x3D;debounce(function()&#123;canvasEl.width&#x3D;2*window.innerWidth,canvasEl.height&#x3D;2*window.innerHeight,canvasEl.style.width&#x3D;window.innerWidth+&quot;px&quot;,canvasEl.style.height&#x3D;window.innerHeight+&quot;px&quot;,canvasEl.getContext(&quot;2d&quot;).scale(2,2)&#125;,500),render&#x3D;anime(&#123;duration:1&#x2F;0,update:function()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,function(e)&#123;&quot;sidebar&quot;!&#x3D;&#x3D;e.target.id&amp;&amp;&quot;toggle-sidebar&quot;!&#x3D;&#x3D;e.target.id&amp;&amp;&quot;A&quot;!&#x3D;&#x3D;e.target.nodeName&amp;&amp;&quot;IMG&quot;!&#x3D;&#x3D;e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener(&quot;resize&quot;,setCanvasSize,!1)&#125;;</span><br></pre></td></tr></table></figure><p>然后在 \themes\material-x\layout\layout.ejs 文件中写入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;canvas class&#x3D;&quot;fireworks&quot; style&#x3D;&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot; &gt;&lt;&#x2F;canvas&gt; </span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;animejs&#x2F;2.2.0&#x2F;anime.min.js&quot;&gt;&lt;&#x2F;script&gt; </span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;fireworks.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>最终效果：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/011.gif" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/011.gif" alt="011"></a></p><hr><h1 id="【07】添加彩色滚动变换字体"><a href="#【07】添加彩色滚动变换字体" class="headerlink" title="【07】添加彩色滚动变换字体"></a>【07】添加彩色滚动变换字体</h1><p>在你想要添加彩色滚动变换字体的地方写入以下代码即可，其中文字可自行更改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;div id&#x3D;&quot;binft&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var binft &#x3D; function (r) &#123;</span><br><span class="line">      function t() &#123;</span><br><span class="line">        return b[Math.floor(Math.random() * b.length)]</span><br><span class="line">      &#125;  </span><br><span class="line">      function e() &#123;</span><br><span class="line">        return String.fromCharCode(94 * Math.random() + 33)</span><br><span class="line">      &#125;</span><br><span class="line">      function n(r) &#123;</span><br><span class="line">        for (var n &#x3D; document.createDocumentFragment(), i &#x3D; 0; r &gt; i; i++) &#123;</span><br><span class="line">          var l &#x3D; document.createElement(&quot;span&quot;);</span><br><span class="line">          l.textContent &#x3D; e(), l.style.color &#x3D; t(), n.appendChild(l)</span><br><span class="line">        &#125;</span><br><span class="line">        return n</span><br><span class="line">      &#125;</span><br><span class="line">      function i() &#123;</span><br><span class="line">        var t &#x3D; o[c.skillI];</span><br><span class="line">        c.step ? c.step-- : (c.step &#x3D; g, c.prefixP &lt; l.length ? (c.prefixP &gt;&#x3D; 0 &amp;&amp; (c.text +&#x3D; l[c.prefixP]), c.prefixP++) : &quot;forward&quot; &#x3D;&#x3D;&#x3D; c.direction ? c.skillP &lt; t.length ? (c.text +&#x3D; t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction &#x3D; &quot;backward&quot;, c.delay &#x3D; a) : c.skillP &gt; 0 ? (c.text &#x3D; c.text.slice(0, -1), c.skillP--) : (c.skillI &#x3D; (c.skillI + 1) % o.length, c.direction &#x3D; &quot;forward&quot;)), r.textContent &#x3D; c.text, r.appendChild(n(c.prefixP &lt; l.length ? Math.min(s, s + c.prefixP) : Math.min(s, t.length - c.skillP))), setTimeout(i, d)</span><br><span class="line">      &#125;</span><br><span class="line">      var l &#x3D; &quot;&quot;,</span><br><span class="line">      o &#x3D; [&quot;青青陵上柏，磊磊涧中石。&quot;, &quot;人生天地间，忽如远行客。&quot;,&quot;斗酒相娱乐，聊厚不为薄。&quot;, &quot;驱车策驽马，游戏宛与洛。&quot;,&quot;洛中何郁郁，冠带自相索。&quot;,&quot;长衢罗夹巷，王侯多第宅。&quot;,&quot;两宫遥相望，双阙百余尺。&quot;,&quot;极宴娱心意，戚戚何所迫？&quot;].map(function (r) &#123;</span><br><span class="line">      return r + &quot;&quot;</span><br><span class="line">      &#125;),</span><br><span class="line">      a &#x3D; 2,</span><br><span class="line">      g &#x3D; 1,</span><br><span class="line">      s &#x3D; 5,</span><br><span class="line">      d &#x3D; 75,</span><br><span class="line">      b &#x3D; [&quot;rgb(110,64,170)&quot;, &quot;rgb(150,61,179)&quot;, &quot;rgb(191,60,175)&quot;, &quot;rgb(228,65,157)&quot;, &quot;rgb(254,75,131)&quot;, &quot;rgb(255,94,99)&quot;, &quot;rgb(255,120,71)&quot;, &quot;rgb(251,150,51)&quot;, &quot;rgb(226,183,47)&quot;, &quot;rgb(198,214,60)&quot;, &quot;rgb(175,240,91)&quot;, &quot;rgb(127,246,88)&quot;, &quot;rgb(82,246,103)&quot;, &quot;rgb(48,239,130)&quot;, &quot;rgb(29,223,163)&quot;, &quot;rgb(26,199,194)&quot;, &quot;rgb(35,171,216)&quot;, &quot;rgb(54,140,225)&quot;, &quot;rgb(76,110,219)&quot;, &quot;rgb(96,84,200)&quot;],</span><br><span class="line">      c &#x3D; &#123;</span><br><span class="line">        text: &quot;&quot;,</span><br><span class="line">        prefixP: -s,</span><br><span class="line">        skillI: 0,</span><br><span class="line">        skillP: 0,</span><br><span class="line">        direction: &quot;forward&quot;,</span><br><span class="line">        delay: a,</span><br><span class="line">        step: g</span><br><span class="line">      &#125;;</span><br><span class="line">      i()</span><br><span class="line">      &#125;;</span><br><span class="line">      binft(document.getElementById(&#39;binft&#39;));</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>最终效果：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/012.gif" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/012.gif" alt="012"></a></p><hr><h1 id="【08】添加字数统计和阅读时长"><a href="#【08】添加字数统计和阅读时长" class="headerlink" title="【08】添加字数统计和阅读时长"></a>【08】添加字数统计和阅读时长</h1><p>先在博客目录下执行以下命令安装 hexo-wordcount 插件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制$ npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure><p>注意：在 <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" rel="noopener">Material X</a> 主题中，字数统计和阅读时长的功能我已提交 PR，在最新版本中，只需要安装插件后，在主题 <code>config.yml</code> 配置文件里，将 <code>word_count</code> 关键字设置为 <code>true</code> 即可，对于旧版本，可以通过以下方法实现：</p><p>以 <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" rel="noopener">Material X</a> 主题（版本 1.2.1）为例，在 \themes\material-x\layout_meta 目录下创建 word.ejs 文件，在 word.ejs 文件中写入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;% if(isPostList || !isPostList)&#123; %&gt;</span><br><span class="line">  &lt;% if (theme.word_count &amp;&amp; !post.no_word_count) &#123; %&gt;</span><br><span class="line">    &lt;div style&#x3D;&quot;margin-right: 10px;&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-time&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">          &lt;i class&#x3D;&quot;fa fa-keyboard&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;  字数统计: &lt;&#x2F;span&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; wordcount(post.content) %&gt;字&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">      &amp;nbsp; | &amp;nbsp;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-time&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">          &lt;i class&#x3D;&quot;fa fa-hourglass-half&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;  阅读时长≈&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; min2read(post.content) %&gt;分&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>然后在主题的配置文件 _config.yml 找到 meta 关键字，将 word 填入 header 中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">复制meta:</span><br><span class="line">  header: [title, author, date, categories, tags, counter, word, top]</span><br><span class="line">  footer: [updated, share]</span><br></pre></td></tr></table></figure><p>最后在主题目录下的 _config.yml 添加以下配置即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制word_count: true</span><br></pre></td></tr></table></figure><p>效果图：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/036.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/036.png" alt="036"></a></p><hr><p>同样的，以 <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="noopener">spfk</a> 主题为例，在 \themes\hexo-theme-spfk\layout_partial\post 目录下创建 word.ejs 文件，在 word.ejs 文件中写入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;div style&#x3D;&quot;margin-top:10px;&quot;&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-time&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">        &lt;i class&#x3D;&quot;fa fa-keyboard-o&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;  字数统计: &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; wordcount(post.content) %&gt;字&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">    &amp;nbsp; | &amp;nbsp;</span><br><span class="line">    &lt;span class&#x3D;&quot;post-time&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">        &lt;i class&#x3D;&quot;fa fa-hourglass-half&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-meta-item-text&quot;&gt;  阅读时长: &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; min2read(post.content) %&gt;分&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>然后在 \themes\hexo-theme-spfk\layout_partial\article.ejs 中适当位置添加以下代码：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/013.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/013.jpg" alt="013"></a></p><p>最后在主题目录下的 _config.yml 添加以下配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制word_count: true</span><br></pre></td></tr></table></figure><p>如果显示的位置不好，可以自行更改其位置，成功配置后的效果如下：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/014.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/014.jpg" alt="014"></a></p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/015.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/015.png" alt="015"></a></p><p>另外：要在博客底部显示所有文章的总字数，可以<a href="https://www.npmjs.com/package/hexo-wordcount" target="_blank" rel="noopener">点击此处</a>，根据你博客底部文件的类型选择相应的代码放在适当的位置即可，前提是要安装好 hexo-wordcount 插件，例如我使用 <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" rel="noopener">Material X</a> 主题，在 \themes\material-x\layout_partial 目录下的 footer.ejs 文件中添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;i class&#x3D;&quot;fas fa-chart-area&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;字数统计：&lt;%&#x3D; totalcount(site) %&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>实现效果如下：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/016.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/016.png" alt="016"></a></p><hr><h1 id="【09】添加背景音乐"><a href="#【09】添加背景音乐" class="headerlink" title="【09】添加背景音乐"></a>【09】添加背景音乐</h1><p>打开网页版<a href="https://music.163.com/" target="_blank" rel="noopener">网易云音乐</a>，选择你准备添加的背景音乐，点击生成外链播放器，前提是要有版权，不然是无法生成外链播放器的，复制底下的HTML代码</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/017.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/017.jpg" alt="017"></a></p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/018.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/018.jpg" alt="018"></a></p><p>然后将此代码放到你想要放的地方，比如放在博客的左侧，则打开 \themes\hexo-theme-spfk\layout_partial\left-col.ejs 文件，将复制的HTML代码粘贴进去，再进行适当的位置设置让播放器更美观，其中 auto=1 表示打开网页自动播放音乐，auto=0 表示关闭自动播放音乐</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/019.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/019.jpg" alt="019"></a></p><p>最后效果如下：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/020.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/020.jpg" alt="020"></a></p><p>这种网易云音乐外链的方式有很多局限性，因此推荐使用aplayer，GitHub地址为：<a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener">https://github.com/MoePlayer/APlayer</a> ，参考教程：<a href="https://blog.yleao.com/2018/0902/hexo上的aplayer应用.html" target="_blank" rel="noopener">《hexo上的aplayer应用》</a></p><hr><h1 id="【10】添加网站运行时间"><a href="#【10】添加网站运行时间" class="headerlink" title="【10】添加网站运行时间"></a>【10】添加网站运行时间</h1><p>一个比较好的小功能，可以看见自己的博客运行多久了，时间一天天的增加，成就感也会一天天增加的<br>在 \themes\hexo-theme-spfk\layout_partial\footer.ejs 文件下添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;span id&#x3D;&quot;timeDate&quot;&gt;载入天数...&lt;&#x2F;span&gt;&lt;span id&#x3D;&quot;times&quot;&gt;载入时分秒...&lt;&#x2F;span&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var now &#x3D; new Date(); </span><br><span class="line">    function createtime() &#123; </span><br><span class="line">        var grt&#x3D; new Date(&quot;08&#x2F;10&#x2F;2018 17:38:00&quot;);&#x2F;&#x2F;在此处修改你的建站时间，格式：月&#x2F;日&#x2F;年 时:分:秒</span><br><span class="line">        now.setTime(now.getTime()+250); </span><br><span class="line">        days &#x3D; (now - grt ) &#x2F; 1000 &#x2F; 60 &#x2F; 60 &#x2F; 24; dnum &#x3D; Math.floor(days); </span><br><span class="line">        hours &#x3D; (now - grt ) &#x2F; 1000 &#x2F; 60 &#x2F; 60 - (24 * dnum); hnum &#x3D; Math.floor(hours); </span><br><span class="line">        if(String(hnum).length &#x3D;&#x3D;1 )&#123;hnum &#x3D; &quot;0&quot; + hnum;&#125; minutes &#x3D; (now - grt ) &#x2F; 1000 &#x2F;60 - (24 * 60 * dnum) - (60 * hnum); </span><br><span class="line">        mnum &#x3D; Math.floor(minutes); if(String(mnum).length &#x3D;&#x3D;1 )&#123;mnum &#x3D; &quot;0&quot; + mnum;&#125; </span><br><span class="line">        seconds &#x3D; (now - grt ) &#x2F; 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); </span><br><span class="line">        snum &#x3D; Math.round(seconds); if(String(snum).length &#x3D;&#x3D;1 )&#123;snum &#x3D; &quot;0&quot; + snum;&#125; </span><br><span class="line">        document.getElementById(&quot;timeDate&quot;).innerHTML &#x3D; &quot;本站已安全运行 &quot;+dnum+&quot; 天 &quot;; </span><br><span class="line">        document.getElementById(&quot;times&quot;).innerHTML &#x3D; hnum + &quot; 小时 &quot; + mnum + &quot; 分 &quot; + snum + &quot; 秒&quot;; </span><br><span class="line">    &#125; </span><br><span class="line">setInterval(&quot;createtime()&quot;,250);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>最后效果如下：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/021.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/021.png" alt="021"></a></p><hr><h1 id="【11】添加百度统计"><a href="#【11】添加百度统计" class="headerlink" title="【11】添加百度统计"></a>【11】添加百度统计</h1><p>百度统计是百度推出的一款免费的专业网站流量分析工具，能够告诉用户访客是如何找到并浏览用户的网站，在网站上做了些什么，非常有趣，接下来我们把百度统计添加到自己博客当中</p><p>访问<a href="https://tongji.baidu.com/" target="_blank" rel="noopener">百度统计首页</a>，注册一个账号后登陆，添加你的博客网站</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/022.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/022.jpg" alt="022"></a></p><p>接着点击代码获取，复制该代码</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/023.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/023.jpg" alt="023"></a></p><p>然后到目录 \Hexo\themes\hexo-theme-spfk\layout_partial 下新建一个 baidu-analytics.ejs 文件，里面粘贴你刚刚复制的代码</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/024.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/024.jpg" alt="024"></a></p><p>修改主题文件夹下的 _config.yml 文件，将你的key（图中涂掉部分）填写进去：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/025.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/025.jpg" alt="025"></a></p><p>所有操作完成后可以在百度统计管理页面检查代码是否安装成功，如果代码安装正确，一般20分钟后，可以查看网站分析数据</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/026.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/026.jpg" alt="026"></a></p><p>另外推荐：<a href="https://web.umeng.com/main.php?c=user&a=index" target="_blank" rel="noopener">友盟</a>，2010年4月在北京成立，安全、可靠、公正、第三方的网站流量统计分析系统</p><hr><h1 id="【12】浏览器网页标题恶搞"><a href="#【12】浏览器网页标题恶搞" class="headerlink" title="【12】浏览器网页标题恶搞"></a>【12】浏览器网页标题恶搞</h1><p>当用户访问你的博客时点击到了其他网页，我们可以恶搞一下网页标题，呼唤用户回来，首先在目录 \themes\material-x\source\js 下新建一个 FunnyTitle.js 文件，在里面填写如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">复制&#x2F;&#x2F; 浏览器搞笑标题</span><br><span class="line">var OriginTitle &#x3D; document.title;</span><br><span class="line">var titleTime;</span><br><span class="line">document.addEventListener(&#39;visibilitychange&#39;, function () &#123;</span><br><span class="line">    if (document.hidden) &#123;</span><br><span class="line">        $(&#39;[rel&#x3D;&quot;icon&quot;]&#39;).attr(&#39;href&#39;, &quot;&#x2F;funny.ico&quot;);</span><br><span class="line">        document.title &#x3D; &#39;╭(°A°&#96;)╮ 页面崩溃啦 ~&#39;;</span><br><span class="line">        clearTimeout(titleTime);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        $(&#39;[rel&#x3D;&quot;icon&quot;]&#39;).attr(&#39;href&#39;, &quot;&#x2F;favicon.ico&quot;);</span><br><span class="line">        document.title &#x3D; &#39;(ฅ&gt;ω&lt;*ฅ) 噫又好啦 ~&#39; + OriginTitle;</span><br><span class="line">        titleTime &#x3D; setTimeout(function () &#123;</span><br><span class="line">            document.title &#x3D; OriginTitle;</span><br><span class="line">        &#125;, 2000);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>其中 <code>funny.ico</code> 是用户切换到其他标签后你网站的图标，<code>favicon.ico</code> 是正常图标，然后在 \themes\material-x\layout\layout.ejs 文件中添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!--浏览器搞笑标题--&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;FunnyTitle.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>再次部署博客后就可以看见标题搞笑的效果了：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/027.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/027.jpg" alt="027"></a></p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/028.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/028.jpg" alt="028"></a></p><hr><h1 id="【13】背景添加动态线条效果"><a href="#【13】背景添加动态线条效果" class="headerlink" title="【13】背景添加动态线条效果"></a>【13】背景添加动态线条效果</h1><p>在 \Hexo\themes\hexo-theme-spfk\layout\layout.ejs 文件中添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!--动态线条背景--&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;</span><br><span class="line">color&#x3D;&quot;220,220,220&quot; opacity&#x3D;&#39;0.7&#39; zIndex&#x3D;&quot;-2&quot; count&#x3D;&quot;200&quot; src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;canvas-nest.js&#x2F;1.0.0&#x2F;canvas-nest.min.js&quot;&gt;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>其中：</p><ul><li>color：表示线条颜色，三个数字分别为(R,G,B)，默认：（0,0,0）</li><li>opacity：表示线条透明度（0~1），默认：0.5</li><li>count：表示线条的总数量，默认：150</li><li>zIndex：表示背景的z-index属性，css属性用于控制所在层的位置，默认：-1</li></ul><p>最终实现效果：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/029.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/029.jpg" alt="029"></a></p><hr><h1 id="【14】添加人体时钟"><a href="#【14】添加人体时钟" class="headerlink" title="【14】添加人体时钟"></a>【14】添加人体时钟</h1><p>无意中发现了个有趣的人体时钟 HONE HONE CLOCK，作者是个日本人，<a href="http://chabudai.org/blog/" target="_blank" rel="noopener">点击此处</a>访问作者博客，<a href="http://chabudai.org/blog/?p=59" target="_blank" rel="noopener">点击此处</a>在作者原博客上查看动态样式，<a href="http://chabudai.sakura.ne.jp/blogparts/honehoneclock/honehone_clock_tr.swf" target="_blank" rel="noopener">点击此处</a>查看动态大图，如果你的博客上有合适的地方，加上一个人体时钟会很有趣的</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/030.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/030.png" alt="030"></a></p><p>实现代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!--人体时钟背景透明--&gt;</span><br><span class="line">&lt;script charset&#x3D;&quot;Shift_JIS&quot; src&#x3D;&quot;http:&#x2F;&#x2F;chabudai.sakura.ne.jp&#x2F;blogparts&#x2F;honehoneclock&#x2F;honehone_clock_tr.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--人体时钟背景白--&gt;</span><br><span class="line">&lt;script charset&#x3D;&quot;Shift_JIS&quot; src&#x3D;&quot;http:&#x2F;&#x2F;chabudai.sakura.ne.jp&#x2F;blogparts&#x2F;honehoneclock&#x2F;honehone_clock_wh.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>其他网页小挂件推荐：</p><ul><li><a href="http://abowman.com/" target="_blank" rel="noopener">http://abowman.com/</a> 里面有很多有趣的小挂件，可以养养鱼、龟、狗、仓鼠等各式各样的虚拟宠物，能根据你的鼠标指针位置移动，直接复制代码就可以用</li><li><a href="http://www.revolvermaps.com/" target="_blank" rel="noopener">http://www.revolvermaps.com/</a> 它提供网站访客地理信息，可以以2D、3D等形式显示</li><li><a href="http://www.amazingcounters.com/" target="_blank" rel="noopener">http://www.amazingcounters.com/</a> 免费网站计数器，有非常多的样式供你选择，可以设置计数器初始数值，可以设置按访问量计数，也可以按独立访问者计数</li><li><a href="https://www.seniverse.com/widget/get" target="_blank" rel="noopener">https://www.seniverse.com/widget/get</a> 心知天气提供基于Web的免费天气插件，可以为你的网站添加一项简洁美观的天气预报功能，并自动适配PC和手机上的浏览</li></ul><hr><h1 id="【15】添加RSS订阅"><a href="#【15】添加RSS订阅" class="headerlink" title="【15】添加RSS订阅"></a>【15】添加RSS订阅</h1><p>RSS订阅是站点用来和其他站点之间共享内容的一种简易方式，即Really Simple Syndication（简易信息聚合），如果不会使用，可以参见百度百科：<a href="https://baike.baidu.com/item/RSS订阅/663114" target="_blank" rel="noopener">https://baike.baidu.com/item/RSS%E8%AE%A2%E9%98%85/663114</a> ；首先我们安装feed插件，在本地hexo目录下右键<code>git bash here</code>，输入以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制$ npm install hexo-generator-feed</span><br></pre></td></tr></table></figure><p>等待安装完成后，打开hexo目录下配置文件的<code>_config.yml</code>，在末尾添加以下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">复制# Extensions</span><br><span class="line">## Plugins: http:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;</span><br><span class="line">#RSS订阅</span><br><span class="line">plugin:</span><br><span class="line">- hexo-generator-feed</span><br><span class="line">#Feed Atom</span><br><span class="line">feed:</span><br><span class="line">type: atom</span><br><span class="line">path: atom.xml</span><br><span class="line">limit: 20</span><br></pre></td></tr></table></figure><p>随后打开主题配置文件<code>_config.yml</code>，添加以下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">复制rss: &#x2F;atom.xml</span><br></pre></td></tr></table></figure><p>至此，RSS订阅功能添加完成</p><hr><h1 id="【16】添加网站雪花飘落效果"><a href="#【16】添加网站雪花飘落效果" class="headerlink" title="【16】添加网站雪花飘落效果"></a>【16】添加网站雪花飘落效果</h1><p>样式一和样式二分别如下：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/031.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/031.jpg" alt="031样式一"></a></p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/032.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/032.jpg" alt="032样式二"></a></p><p>实现方法：在 \Hexo\themes\hexo-theme-spfk\source\js 目录下新建一个 snow.js 文件，粘贴以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line">复制&#x2F;*样式一*&#x2F;</span><br><span class="line">(function($)&#123;</span><br><span class="line">$.fn.snow &#x3D; function(options)&#123;</span><br><span class="line">var $flake &#x3D; $(&#39;&lt;div id&#x3D;&quot;snowbox&quot; &#x2F;&gt;&#39;).css(&#123;&#39;position&#39;: &#39;absolute&#39;,&#39;z-index&#39;:&#39;9999&#39;, &#39;top&#39;: &#39;-50px&#39;&#125;).html(&#39;&amp;#10052;&#39;),</span><br><span class="line">documentHeight &#x3D; $(document).height(),</span><br><span class="line">documentWidth&#x3D; $(document).width(),</span><br><span class="line">defaults &#x3D; &#123;</span><br><span class="line">minSize: 10,</span><br><span class="line">maxSize: 20,</span><br><span class="line">newOn: 1000,</span><br><span class="line">flakeColor: &quot;#AFDAEF&quot; &#x2F;* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF *&#x2F;</span><br><span class="line">&#125;,</span><br><span class="line">options&#x3D; $.extend(&#123;&#125;, defaults, options);</span><br><span class="line">var interval&#x3D; setInterval( function()&#123;</span><br><span class="line">var startPositionLeft &#x3D; Math.random() * documentWidth - 100,</span><br><span class="line">startOpacity &#x3D; 0.5 + Math.random(),</span><br><span class="line">sizeFlake &#x3D; options.minSize + Math.random() * options.maxSize,</span><br><span class="line">endPositionTop &#x3D; documentHeight - 200,</span><br><span class="line">endPositionLeft &#x3D; startPositionLeft - 500 + Math.random() * 500,</span><br><span class="line">durationFall &#x3D; documentHeight * 10 + Math.random() * 5000;</span><br><span class="line">$flake.clone().appendTo(&#39;body&#39;).css(&#123;</span><br><span class="line">left: startPositionLeft,</span><br><span class="line">opacity: startOpacity,</span><br><span class="line">&#39;font-size&#39;: sizeFlake,</span><br><span class="line">color: options.flakeColor</span><br><span class="line">&#125;).animate(&#123;</span><br><span class="line">top: endPositionTop,</span><br><span class="line">left: endPositionLeft,</span><br><span class="line">opacity: 0.2</span><br><span class="line">&#125;,durationFall,&#39;linear&#39;,function()&#123;</span><br><span class="line">$(this).remove()</span><br><span class="line">&#125;);</span><br><span class="line">&#125;, options.newOn);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line">$(function()&#123;</span><br><span class="line">    $.fn.snow(&#123; </span><br><span class="line">    minSize: 5, &#x2F;* 定义雪花最小尺寸 *&#x2F;</span><br><span class="line">    maxSize: 50,&#x2F;* 定义雪花最大尺寸 *&#x2F;</span><br><span class="line">    newOn: 300  &#x2F;* 定义密集程度，数字越小越密集 *&#x2F;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">复制&#x2F;*样式二*&#x2F;</span><br><span class="line">&#x2F;* 控制下雪 *&#x2F;</span><br><span class="line">function snowFall(snow) &#123;</span><br><span class="line">    &#x2F;* 可配置属性 *&#x2F;</span><br><span class="line">    snow &#x3D; snow || &#123;&#125;;</span><br><span class="line">    this.maxFlake &#x3D; snow.maxFlake || 200;   &#x2F;* 最多片数 *&#x2F;</span><br><span class="line">    this.flakeSize &#x3D; snow.flakeSize || 10;  &#x2F;* 雪花形状 *&#x2F;</span><br><span class="line">    this.fallSpeed &#x3D; snow.fallSpeed || 1;   &#x2F;* 坠落速度 *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 兼容写法 *&#x2F;</span><br><span class="line">requestAnimationFrame &#x3D; window.requestAnimationFrame ||</span><br><span class="line">    window.mozRequestAnimationFrame ||</span><br><span class="line">    window.webkitRequestAnimationFrame ||</span><br><span class="line">    window.msRequestAnimationFrame ||</span><br><span class="line">    window.oRequestAnimationFrame ||</span><br><span class="line">    function(callback) &#123; setTimeout(callback, 1000 &#x2F; 60); &#125;;</span><br><span class="line"></span><br><span class="line">cancelAnimationFrame &#x3D; window.cancelAnimationFrame ||</span><br><span class="line">    window.mozCancelAnimationFrame ||</span><br><span class="line">    window.webkitCancelAnimationFrame ||</span><br><span class="line">    window.msCancelAnimationFrame ||</span><br><span class="line">window.oCancelAnimationFrame;</span><br><span class="line">&#x2F;* 开始下雪 *&#x2F;</span><br><span class="line">snowFall.prototype.start &#x3D; function()&#123;</span><br><span class="line">    &#x2F;* 创建画布 *&#x2F;</span><br><span class="line">    snowCanvas.apply(this);</span><br><span class="line">    &#x2F;* 创建雪花形状 *&#x2F;</span><br><span class="line">    createFlakes.apply(this);</span><br><span class="line">    &#x2F;* 画雪 *&#x2F;</span><br><span class="line">    drawSnow.apply(this)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 创建画布 *&#x2F;</span><br><span class="line">function snowCanvas() &#123;</span><br><span class="line">    &#x2F;* 添加Dom结点 *&#x2F;</span><br><span class="line">    var snowcanvas &#x3D; document.createElement(&quot;canvas&quot;);</span><br><span class="line">    snowcanvas.id &#x3D; &quot;snowfall&quot;;</span><br><span class="line">    snowcanvas.width &#x3D; window.innerWidth;</span><br><span class="line">    snowcanvas.height &#x3D; document.body.clientHeight;</span><br><span class="line">    snowcanvas.setAttribute(&quot;style&quot;, &quot;position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;&quot;);</span><br><span class="line">    document.getElementsByTagName(&quot;body&quot;)[0].appendChild(snowcanvas);</span><br><span class="line">    this.canvas &#x3D; snowcanvas;</span><br><span class="line">    this.ctx &#x3D; snowcanvas.getContext(&quot;2d&quot;);</span><br><span class="line">    &#x2F;* 窗口大小改变的处理 *&#x2F;</span><br><span class="line">    window.onresize &#x3D; function() &#123;</span><br><span class="line">        snowcanvas.width &#x3D; window.innerWidth;</span><br><span class="line">        &#x2F;* snowcanvas.height &#x3D; window.innerHeight *&#x2F;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 雪运动对象 *&#x2F;</span><br><span class="line">function flakeMove(canvasWidth, canvasHeight, flakeSize, fallSpeed) &#123;</span><br><span class="line">    this.x &#x3D; Math.floor(Math.random() * canvasWidth);   &#x2F;* x坐标 *&#x2F;</span><br><span class="line">    this.y &#x3D; Math.floor(Math.random() * canvasHeight);  &#x2F;* y坐标 *&#x2F;</span><br><span class="line">    this.size &#x3D; Math.random() * flakeSize + 2;          &#x2F;* 形状 *&#x2F;</span><br><span class="line">    this.maxSize &#x3D; flakeSize;                           &#x2F;* 最大形状 *&#x2F;</span><br><span class="line">    this.speed &#x3D; Math.random() * 1 + fallSpeed;         &#x2F;* 坠落速度 *&#x2F;</span><br><span class="line">    this.fallSpeed &#x3D; fallSpeed;                         &#x2F;* 坠落速度 *&#x2F;</span><br><span class="line">    this.velY &#x3D; this.speed;                             &#x2F;* Y方向速度 *&#x2F;</span><br><span class="line">    this.velX &#x3D; 0;                                      &#x2F;* X方向速度 *&#x2F;</span><br><span class="line">    this.stepSize &#x3D; Math.random() &#x2F; 30;                 &#x2F;* 步长 *&#x2F;</span><br><span class="line">    this.step &#x3D; 0                                       &#x2F;* 步数 *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">flakeMove.prototype.update &#x3D; function() &#123;</span><br><span class="line">    var x &#x3D; this.x,</span><br><span class="line">        y &#x3D; this.y;</span><br><span class="line">    &#x2F;* 左右摆动(余弦) *&#x2F;</span><br><span class="line">    this.velX *&#x3D; 0.98;</span><br><span class="line">    if (this.velY &lt;&#x3D; this.speed) &#123;</span><br><span class="line">        this.velY &#x3D; this.speed</span><br><span class="line">    &#125;</span><br><span class="line">    this.velX +&#x3D; Math.cos(this.step +&#x3D; .05) * this.stepSize;</span><br><span class="line"></span><br><span class="line">    this.y +&#x3D; this.velY;</span><br><span class="line">    this.x +&#x3D; this.velX;</span><br><span class="line">    &#x2F;* 飞出边界的处理 *&#x2F;</span><br><span class="line">    if (this.x &gt;&#x3D; canvas.width || this.x &lt;&#x3D; 0 || this.y &gt;&#x3D; canvas.height || this.y &lt;&#x3D; 0) &#123;</span><br><span class="line">        this.reset(canvas.width, canvas.height)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;* 飞出边界-放置最顶端继续坠落 *&#x2F;</span><br><span class="line">flakeMove.prototype.reset &#x3D; function(width, height) &#123;</span><br><span class="line">    this.x &#x3D; Math.floor(Math.random() * width);</span><br><span class="line">    this.y &#x3D; 0;</span><br><span class="line">    this.size &#x3D; Math.random() * this.maxSize + 2;</span><br><span class="line">    this.speed &#x3D; Math.random() * 1 + this.fallSpeed;</span><br><span class="line">    this.velY &#x3D; this.speed;</span><br><span class="line">    this.velX &#x3D; 0;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; 渲染雪花-随机形状（此处可修改雪花颜色！！！）</span><br><span class="line">flakeMove.prototype.render &#x3D; function(ctx) &#123;</span><br><span class="line">    var snowFlake &#x3D; ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size);</span><br><span class="line">    snowFlake.addColorStop(0, &quot;rgba(255, 255, 255, 0.9)&quot;);  &#x2F;* 此处是雪花颜色，默认是白色 *&#x2F;</span><br><span class="line">    snowFlake.addColorStop(.5, &quot;rgba(255, 255, 255, 0.5)&quot;); &#x2F;* 若要改为其他颜色，请自行查 *&#x2F;</span><br><span class="line">    snowFlake.addColorStop(1, &quot;rgba(255, 255, 255, 0)&quot;);    &#x2F;* 找16进制的RGB 颜色代码。 *&#x2F;</span><br><span class="line">    ctx.save();</span><br><span class="line">    ctx.fillStyle &#x3D; snowFlake;</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);</span><br><span class="line">    ctx.fill();</span><br><span class="line">    ctx.restore();</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;* 创建雪花-定义形状 *&#x2F;</span><br><span class="line">function createFlakes() &#123;</span><br><span class="line">    var maxFlake &#x3D; this.maxFlake,</span><br><span class="line">        flakes &#x3D; this.flakes &#x3D; [],</span><br><span class="line">        canvas &#x3D; this.canvas;</span><br><span class="line">    for (var i &#x3D; 0; i &lt; maxFlake; i++) &#123;</span><br><span class="line">        flakes.push(new flakeMove(canvas.width, canvas.height, this.flakeSize, this.fallSpeed))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 画雪 *&#x2F;</span><br><span class="line">function drawSnow() &#123;</span><br><span class="line">    var maxFlake &#x3D; this.maxFlake,</span><br><span class="line">        flakes &#x3D; this.flakes;</span><br><span class="line">    ctx &#x3D; this.ctx, canvas &#x3D; this.canvas, that &#x3D; this;</span><br><span class="line">    &#x2F;* 清空雪花 *&#x2F;</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    for (var e &#x3D; 0; e &lt; maxFlake; e++) &#123;</span><br><span class="line">        flakes[e].update();</span><br><span class="line">        flakes[e].render(ctx);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;*  一帧一帧的画 *&#x2F;</span><br><span class="line">    this.loop &#x3D; requestAnimationFrame(function() &#123;</span><br><span class="line">        drawSnow.apply(that);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 调用及控制方法 *&#x2F;</span><br><span class="line">var snow &#x3D; new snowFall(&#123;maxFlake:60&#125;);</span><br><span class="line">snow.start();</span><br></pre></td></tr></table></figure><p>然后在 \Hexo\themes\hexo-theme-spfk\layout\layout.ejs 文件里引用即可：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!-- 雪花特效 --&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;\js\snow.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>如果没效果，请确认网页是否已载入JQurey，如果没有请在下雪代码之前引入JQ即可：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;http:&#x2F;&#x2F;libs.baidu.com&#x2F;jquery&#x2F;1.8.3&#x2F;jquery.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;http:&#x2F;&#x2F;libs.baidu.com&#x2F;jquery&#x2F;1.8.3&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>原文链接：<a href="https://ihuan.me/2172.html" target="_blank" rel="noopener">《分享两种圣诞节雪花特效JS代码(网站下雪效果)》</a></p><hr><h1 id="【17】添加-Fork-me-on-GitHub-效果"><a href="#【17】添加-Fork-me-on-GitHub-效果" class="headerlink" title="【17】添加 Fork me on GitHub 效果"></a>【17】添加 Fork me on GitHub 效果</h1><p>效果图：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/033.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/033.jpg" alt="033"></a></p><p><a href="https://blog.github.com/2008-12-19-github-ribbons/" target="_blank" rel="noopener">点击此处</a>可以查看更多样式，将相应样式的代码复制到你想要放的地方就OK了，代码里的链接也要替换成你的，更多创意，比如 Follow me on CSDN ，只需要用PS改掉图片里的文字，替换掉相应链接即可</p><hr><h1 id="【18】添加背景动态彩带效果"><a href="#【18】添加背景动态彩带效果" class="headerlink" title="【18】添加背景动态彩带效果"></a>【18】添加背景动态彩带效果</h1><p>样式一是鼠标点击后彩带自动更换样式，样式二是飘动的彩带：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/034.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/034.jpg" alt="034"></a></p><p>实现方法：在 \themes\material-x\layout\layout.ejs 文件的body前面添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!-- 样式一（鼠标点击更换样式） --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;g.joyinshare.com&#x2F;hc&#x2F;ribbon.min.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">复制&lt;!-- 样式二（飘动的彩带） --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;g.joyinshare.com&#x2F;hc&#x2F;piao.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><hr><h1 id="【19】添加背景代码雨特效"><a href="#【19】添加背景代码雨特效" class="headerlink" title="【19】添加背景代码雨特效"></a>【19】添加背景代码雨特效</h1><p>新建 <code>DigitalRain.js</code>，写入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">复制window.onload &#x3D; function()&#123;</span><br><span class="line">    &#x2F;&#x2F;获取画布对象</span><br><span class="line">    var canvas &#x3D; document.getElementById(&quot;canvas&quot;);</span><br><span class="line">    &#x2F;&#x2F;获取画布的上下文</span><br><span class="line">    var context &#x3D;canvas.getContext(&quot;2d&quot;);</span><br><span class="line">    var s &#x3D; window.screen;</span><br><span class="line">    var W &#x3D; canvas.width &#x3D; s.width;</span><br><span class="line">    var H &#x3D; canvas.height;</span><br><span class="line">    &#x2F;&#x2F;获取浏览器屏幕的宽度和高度</span><br><span class="line">    &#x2F;&#x2F;var W &#x3D; window.innerWidth;</span><br><span class="line">    &#x2F;&#x2F;var H &#x3D; window.innerHeight;</span><br><span class="line">    &#x2F;&#x2F;设置canvas的宽度和高度</span><br><span class="line">    canvas.width &#x3D; W;</span><br><span class="line">    canvas.height &#x3D; H;</span><br><span class="line">    &#x2F;&#x2F;每个文字的字体大小</span><br><span class="line">    var fontSize &#x3D; 12;</span><br><span class="line">    &#x2F;&#x2F;计算列</span><br><span class="line">    var colunms &#x3D; Math.floor(W &#x2F;fontSize);</span><br><span class="line">    &#x2F;&#x2F;记录每列文字的y轴坐标</span><br><span class="line">    var drops &#x3D; [];</span><br><span class="line">    &#x2F;&#x2F;给每一个文字初始化一个起始点的位置</span><br><span class="line">    for(var i&#x3D;0;i&lt;colunms;i++)&#123;</span><br><span class="line">        drops.push(0);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;运动的文字</span><br><span class="line">    var str &#x3D;&quot;WELCOME TO WWW.ITRHX.COM&quot;;</span><br><span class="line">    &#x2F;&#x2F;4:fillText(str,x,y);原理就是去更改y的坐标位置</span><br><span class="line">    &#x2F;&#x2F;绘画的函数</span><br><span class="line">    function draw()&#123;</span><br><span class="line">        context.fillStyle &#x3D; &quot;rgba(238,238,238,.08)&quot;;&#x2F;&#x2F;遮盖层</span><br><span class="line">        context.fillRect(0,0,W,H);</span><br><span class="line">        &#x2F;&#x2F;给字体设置样式</span><br><span class="line">        context.font &#x3D; &quot;600 &quot;+fontSize+&quot;px  Georgia&quot;;</span><br><span class="line">        &#x2F;&#x2F;给字体添加颜色</span><br><span class="line">        context.fillStyle &#x3D; [&quot;#33B5E5&quot;, &quot;#0099CC&quot;, &quot;#AA66CC&quot;, &quot;#9933CC&quot;, &quot;#99CC00&quot;, &quot;#669900&quot;, &quot;#FFBB33&quot;, &quot;#FF8800&quot;, &quot;#FF4444&quot;, &quot;#CC0000&quot;][parseInt(Math.random() * 10)];&#x2F;&#x2F;randColor();可以rgb,hsl, 标准色，十六进制颜色</span><br><span class="line">        &#x2F;&#x2F;写入画布中</span><br><span class="line">        for(var i&#x3D;0;i&lt;colunms;i++)&#123;</span><br><span class="line">            var index &#x3D; Math.floor(Math.random() * str.length);</span><br><span class="line">            var x &#x3D; i*fontSize;</span><br><span class="line">            var y &#x3D; drops[i] *fontSize;</span><br><span class="line">            context.fillText(str[index],x,y);</span><br><span class="line">            &#x2F;&#x2F;如果要改变时间，肯定就是改变每次他的起点</span><br><span class="line">            if(y &gt;&#x3D; canvas.height &amp;&amp; Math.random() &gt; 0.99)&#123;</span><br><span class="line">                drops[i] &#x3D; 0;</span><br><span class="line">            &#125;</span><br><span class="line">            drops[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    function randColor()&#123;&#x2F;&#x2F;随机颜色</span><br><span class="line">        var r &#x3D; Math.floor(Math.random() * 256);</span><br><span class="line">        var g &#x3D; Math.floor(Math.random() * 256);</span><br><span class="line">        var b &#x3D; Math.floor(Math.random() * 256);</span><br><span class="line">        return &quot;rgb(&quot;+r+&quot;,&quot;+g+&quot;,&quot;+b+&quot;)&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    draw();</span><br><span class="line">    setInterval(draw,35);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>在主题文件的相关css文件中（以 Material X 1.2.1 主题为例，在\themes\material-x-1.2.1\source\less_main.less 文件末尾）添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">复制canvas &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  right: 0px;</span><br><span class="line">  bottom: 0px;</span><br><span class="line">  min-width: 100%;</span><br><span class="line">  min-height: 100%;</span><br><span class="line">  height: auto;</span><br><span class="line">  width: auto;</span><br><span class="line">  z-index: -1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在主题的 layout.ejs 文件中引入即可：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">复制&lt;!-- 数字雨 --&gt;</span><br><span class="line">&lt;canvas id&#x3D;&quot;canvas&quot; width&#x3D;&quot;1440&quot; height&#x3D;&quot;900&quot; &gt;&lt;&#x2F;canvas&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;DigitalRain.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>最终效果：</p><p><a href="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/035.jpg" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A04/035.jpg" alt="035"></a></p><p>代码来源：<a href="http://www.lxl8800.cn/Main/Resource" target="_blank" rel="noopener">http://www.lxl8800.cn/Main/Resource</a></p><hr><h1 id="【20】自定义一个不使用主题模板渲染的独立页面"><a href="#【20】自定义一个不使用主题模板渲染的独立页面" class="headerlink" title="【20】自定义一个不使用主题模板渲染的独立页面"></a>【20】自定义一个不使用主题模板渲染的独立页面</h1><p>  有时候我们需要新建一个独立的页面，这个页面不使用主题的渲染，具有自己独立的样式，可以放一些自己的作品，相册什么的，以下就介绍这种独立页面的实现方法。</p><p>方法一：</p><p>  使用 Hexo 提供的跳过渲染配置，在博客根目录的配置文件 <code>_config.yml</code> 里找到 <code>skip_render</code> 关键字，在后面添加想要跳过渲染的页面，比如我们创建 <code>\source\about\index.html</code>， 配置文件填写：<code>skip_render: about\**</code>，那么就表示 <code>\source\about</code> 里所有的文件将跳过渲染，里面的文件将会被直接复制到 public 文件夹，此时就会得到一个独立的 about 页面；官方文档：<a href="https://hexo.io/docs/configuration" target="_blank" rel="noopener">https://hexo.io/docs/configuration</a></p><p>方法二：</p><p>  在文章头部的 Front-matter 里添加配置 <code>layout: false</code> 来跳过渲染配置，比如我们要使 about 页面跳过渲染，创建 <code>\source\about\index.md</code>，将这个页面的相关 HTML 代码写进<code>.md</code>文件并保存，然后在 <code>index.md</code> 的头部写入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">复制---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line"></span><br><span class="line">这里是 HTML 代码</span><br><span class="line"></span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure><p>PS：Front-matter 是 <code>.md</code> 文件最上方以 — 分隔的区域，用于指定个别文件的变量，官方文档：<a href="https://hexo.io/docs/front-matter" target="_blank" rel="noopener">https://hexo.io/docs/front-matter</a></p><p>效果可以对比我的<a href="https://www.itrhx.com/" target="_blank" rel="noopener">博客主页</a>和<a href="https://www.itrhx.com/about/" target="_blank" rel="noopener">关于页面</a></p><hr><h1 id="【21】更改本地预览端口号"><a href="#【21】更改本地预览端口号" class="headerlink" title="【21】更改本地预览端口号"></a>【21】更改本地预览端口号</h1><p>hexo博客在执行 <code>hexo s</code> 进行本地预览的时候，默认端口号是4000，当该端口号被占用时会报错 <code>Error: listen EADDRINUSE 0.0.0.0:4000</code> ，此时可以关闭占用该端口的进程，也可以更换端口号，更换端口号可以通过以下两种方法实现：</p><p>方法一：在根目录的 <code>_config.yml</code> 配置文件内加上如下代码更改 <code>hexo s</code> 运行时的端口号：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">复制server:</span><br><span class="line">  port: 5000</span><br><span class="line">  compress: true</span><br><span class="line">  header: true</span><br></pre></td></tr></table></figure><p>方法二：通过 <code>hexo server -p 5000</code> 命令来指定端口，这种方法只是本次执行有效</p><hr><h1 id="未完待续……"><a href="#未完待续……" class="headerlink" title="未完待续……"></a>未完待续……</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Python 爬虫大小项目集合</title>
    <link href="http://yoursite.com/2020/06/13/Python-%E7%88%AC%E8%99%AB%E5%A4%A7%E5%B0%8F%E9%A1%B9%E7%9B%AE%E9%9B%86%E5%90%88/"/>
    <id>http://yoursite.com/2020/06/13/Python-%E7%88%AC%E8%99%AB%E5%A4%A7%E5%B0%8F%E9%A1%B9%E7%9B%AE%E9%9B%86%E5%90%88/</id>
    <published>2020-06-13T12:00:54.000Z</published>
    <updated>2020-06-13T12:01:44.780Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 今天为大家带来了自己的爬虫代码集，主要是以往学习Python爬虫过程中写过的大小项目，可能不是很全面，但是持续在更新，那我的代码里有什么？</p><p><img src="https://upload-images.jianshu.io/upload_images/6458648-9687b9c69d8e9dc2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/150/format/webp" alt="img"></p><h4 id="1-Cnblogs-博客园爬虫"><a href="#1-Cnblogs-博客园爬虫" class="headerlink" title="1. Cnblogs - 博客园爬虫"></a>1. <a href="https://github.com/Northxw/Python3_WebSpider/tree/master/01-Cnblogs" target="_blank" rel="noopener">Cnblogs</a> - 博客园爬虫</h4><p>  使用Urllib库实现博客园”最新文章”的爬取，可以自行扩展为全站爬虫，但是要注意它的接口。</p><h4 id="2-Golory-of-Kings-王者荣耀爬虫"><a href="#2-Golory-of-Kings-王者荣耀爬虫" class="headerlink" title="2. Golory_of_Kings - 王者荣耀爬虫"></a>2. <a href="https://github.com/Northxw/Python3_WebSpider/tree/master/02-Golory_of_Kings" target="_blank" rel="noopener">Golory_of_Kings</a> - 王者荣耀爬虫</h4><p>  通过王者荣耀官网的英雄列表接口以及英雄皮肤的下载URL，完成对王者荣耀英雄全皮肤的下载。</p><h4 id="3-MaoYan-Top100-猫眼TOP100爬虫"><a href="#3-MaoYan-Top100-猫眼TOP100爬虫" class="headerlink" title="3.MaoYan_Top100 - 猫眼TOP100爬虫"></a>3.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/03-MaoYan_Top100" target="_blank" rel="noopener">MaoYan_Top100</a> - 猫眼TOP100爬虫</h4><p>  （见名知意）爬取猫眼TOP排行榜前100的电影信息。</p><h4 id="4-Moments-朋友圈爬虫"><a href="#4-Moments-朋友圈爬虫" class="headerlink" title="4.Moments - 朋友圈爬虫"></a>4.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/05-Moments" target="_blank" rel="noopener">Moments</a> - 朋友圈爬虫</h4><p>  基于自动化测试工具Appium的微信朋友圈爬虫，模拟登录、抓取动态、保存数据。</p><h4 id="5-Bilibili-B站爬虫"><a href="#5-Bilibili-B站爬虫" class="headerlink" title="5.Bilibili - B站爬虫"></a>5.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/09-Bilibili" target="_blank" rel="noopener">Bilibili</a> - B站爬虫</h4><p>  模拟登录B站并识别滑动验证码。破解滑动验证码的思路主要沿袭崔大破解极验的思路，登录、获取验证码Image对象、打码平台识别、本地转化识别结果、Selenium模拟滑动等。</p><h4 id="6-DouYin-抖音爬虫"><a href="#6-DouYin-抖音爬虫" class="headerlink" title="6.DouYin - 抖音爬虫"></a>6.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/10-DouYin" target="_blank" rel="noopener">DouYin</a> - 抖音爬虫</h4><p>  基于Mitmdump的抖音短视频爬取，包括视频名称、作者名称、获赞数、转发量等重要信息的获取。</p><h4 id="7-Crack-Jianshu-简书爬虫"><a href="#7-Crack-Jianshu-简书爬虫" class="headerlink" title="7.Crack_Jianshu - 简书爬虫"></a>7.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/12-Crack_Jianshu" target="_blank" rel="noopener">Crack_Jianshu</a> - 简书爬虫</h4><p>  为了照顾简书，完成了简书的模拟登录并识别简书的点触式验证码，破解验证码的思路基本与滑动验证码相同。</p><h4 id="8-Selenium-163-网易163邮箱爬虫"><a href="#8-Selenium-163-网易163邮箱爬虫" class="headerlink" title="8.Selenium_163 - 网易163邮箱爬虫"></a>8.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/20-Selenium_163" target="_blank" rel="noopener">Selenium_163</a> - 网易163邮箱爬虫</h4><p>  模拟登录网易163邮箱，并发送SOS邮件。主要是为了对iframe子节点的训练。</p><h4 id="9-City-58-58房屋信息爬虫"><a href="#9-City-58-58房屋信息爬虫" class="headerlink" title="9.City_58 - 58房屋信息爬虫"></a>9.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/17-City_58" target="_blank" rel="noopener">City_58</a> - 58房屋信息爬虫</h4><p>  使用Scrapy框架爬取58同城的出租房信息，并包含下级网页数据的爬虫，项目难度较大，可根据能力练习。</p><h4 id="10-Selenium-Cnki-知网爬虫"><a href="#10-Selenium-Cnki-知网爬虫" class="headerlink" title="10.Selenium_Cnki - 知网爬虫"></a>10.<a href="https://github.com/Northxw/Python3_WebSpider/tree/master/08-Selenium_Cnki" target="_blank" rel="noopener">Selenium_Cnki</a> - 知网爬虫</h4><p>  模拟登录注册知网，识别知网的普通数字英文混合验证码。别小看这简单的验证码，可是用tesserocr等Python识别库搞不定的。</p><p>其他的可以看截图：</p><p><img src="https://upload-images.jianshu.io/upload_images/6458648-7a6baa6bab71d74d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/986/format/webp" alt="img"></p><p>  我是爬虫小白，代码中如果有写的什么不好的地方，可以提交issue。最后，贴出我的<strong>Github仓库地址</strong>：<a href="https://github.com/Northxw/Python3_WebSpider，欢迎各种**star**和**fork**，一起学爬虫。" target="_blank" rel="noopener">https://github.com/Northxw/Python3_WebSpider，欢迎各种**star**和**fork**，一起学爬虫。</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python 爬虫（二）</title>
    <link href="http://yoursite.com/2020/06/13/Python-%E7%88%AC%E8%99%AB%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://yoursite.com/2020/06/13/Python-%E7%88%AC%E8%99%AB%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2020-06-13T11:59:47.000Z</published>
    <updated>2020-06-13T12:00:24.194Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> Github代码获取：<a href="https://github.com/Jack-Cherish/python-spider" target="_blank" rel="noopener">https://github.com/Jack-Cherish/python-spider</a><br>Python版本： Python3.x<br>运行平台： Windows<br>IDE： Sublime text3</p><hr><h2 id="更多教程，请查看：https-cuijiahua-com-blog-spider"><a href="#更多教程，请查看：https-cuijiahua-com-blog-spider" class="headerlink" title="更多教程，请查看：https://cuijiahua.com/blog/spider/"></a>更多教程，请查看：<a href="https://cuijiahua.com/blog/spider/" target="_blank" rel="noopener">https://cuijiahua.com/blog/spider/</a></h2><h1 id="一-前言"><a href="#一-前言" class="headerlink" title="一 前言"></a>一 前言</h1><p><strong>强烈建议：</strong>请在电脑的陪同下，阅读本文。本文以实战为主，阅读过程如稍有不适，还望多加练习。<br>本文的实战内容有：</p><ul><li>网络小说下载(静态网站)</li><li>优美壁纸下载(动态网站)</li><li>视频下载</li></ul><hr><p>2020年，更多精彩内容，尽在微信公众号，欢迎您的关注：</p><p><img src="https://img-blog.csdnimg.cn/20200423085559318.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2M0MDY0OTU3NjI=,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h1 id="二-网络爬虫简介"><a href="#二-网络爬虫简介" class="headerlink" title="二 网络爬虫简介"></a>二 网络爬虫简介</h1><p>网络爬虫，也叫网络蜘蛛(Web Spider)。它根据网页地址(URL)爬取网页内容，而网页地址(URL)就是我们在浏览器中输入的网站链接。比如：<a href="https://www.baidu.com/，它就是一个URL。" target="_blank" rel="noopener">https://www.baidu.com/，它就是一个URL。</a></p><p>在讲解爬虫内容之前，我们需要先学习一项写爬虫的必备技能：<strong>审查元素（如果已掌握，可跳过此部分内容）。</strong></p><h2 id="1-审查元素"><a href="#1-审查元素" class="headerlink" title="1 审查元素"></a>1 审查元素</h2><p>在浏览器的地址栏输入URL地址，在网页处右键单击，找到检查。(不同浏览器的叫法不同，Chrome浏览器叫做检查，Firefox浏览器叫做查看元素，但是功能都是相同的)</p><p><img src="https://img-blog.csdn.net/20170928142328881?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我们可以看到，右侧出现了一大推代码，这些代码就叫做HTML。什么是HTML？举个容易理解的例子：<strong>我们的基因决定了我们的原始容貌，服务器返回的HTML决定了网站的原始容貌。</strong></p><p><img src="https://img-blog.csdn.net/20170928142436698?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>为啥说是<strong>原始容貌</strong>呢？因为人可以<strong>整容啊</strong>！扎心了，有木有？<strong>那网站也可以”整容”吗？可以！请看下图：</strong></p><p><img src="https://img-blog.csdn.net/20170928142523847?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我能有这么多钱吗？显然不可能。我是怎么给网站”整容”的呢？就是通过修改服务器返回的HTML信息。我们每个人都是”整容大师”，可以修改页面信息。<strong>我们在页面的哪个位置点击审查元素，浏览器就会为我们定位到相应的HTML位置，进而就可以在本地更改HTML信息。</strong></p><p><strong>再举个小例子：</strong>我们都知道，使用浏览器”记住密码”的功能，密码会变成一堆小黑点，是不可见的。可以让密码显示出来吗？可以，只需给页面”动个小手术”！以淘宝为例，在输入密码框处右键，点击检查。</p><p><img src="https://img-blog.csdn.net/20170928142556264?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>可以看到，浏览器为我们自动定位到了相应的HTML位置。将下图中的password属性值改为text属性值(<strong>直接在右侧代码处修改</strong>)：</p><p><img src="https://img-blog.csdn.net/20170928142703187?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我们让浏览器记住的密码就这样显现出来了：</p><p><img src="https://img-blog.csdn.net/20170928142630494?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>说这么多，什么意思呢？<strong>浏览器就是作为客户端从服务器端获取信息，然后将信息解析，并展示给我们的。</strong>我们可以在本地修改HTML信息，为网页”整容”，但是我们修改的信息不会回传到服务器，服务器存储的HTML信息不会改变。刷新一下界面，页面还会回到原本的样子。<strong>这就跟人整容一样，我们能改变一些表面的东西，但是不能改变我们的基因。</strong></p><h2 id="2-简单实例"><a href="#2-简单实例" class="headerlink" title="2 简单实例"></a>2 简单实例</h2><p><strong>网络爬虫的第一步就是根据URL，获取网页的HTML信息。\</strong>在Python3中，可以使用*<em>urllib.request*</em>和<strong>requests</strong>进行网页爬取。</p><ul><li>urllib库是python内置的，无需我们额外安装，只要安装了Python就可以使用这个库。</li><li>requests库是第三方库，需要我们自己安装。</li></ul><p>requests库强大好用，所以本文使用requests库获取网页的HTML信息。requests库的github地址：<a href="https://github.com/requests/requests" target="_blank" rel="noopener">https://github.com/requests/requests</a></p><h3 id="1-requests安装"><a href="#1-requests安装" class="headerlink" title="(1) requests安装"></a>(1) requests安装</h3><p>在cmd中，使用如下指令安装requests：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>或者：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">easy_install requests</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="2-简单实例-1"><a href="#2-简单实例-1" class="headerlink" title="(2) 简单实例"></a>(2) 简单实例</h3><p>requests库的基础方法如下：</p><p><img src="https://img-blog.csdn.net/20170928142920593?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>官方中文教程地址：<a href="http://docs.python-requests.org/zh_CN/latest/user/quickstart.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/user/quickstart.html</a></p><p>requests库的开发者为我们提供了详细的中文教程，查询起来很方便。本文不会对其所有内容进行讲解，摘取其部分使用到的内容，进行实战说明。</p><p>首先，让我们看下requests.get()方法，它用于向服务器发起GET请求，不了解GET请求没有关系。我们可以这样理解：get的中文意思是得到、抓住，那这个requests.get()方法就是从服务器得到、抓住数据，也就是获取数据。让我们看一个例子(以 <a href="http://www.gitbook.cn为例)来加深理解：">www.gitbook.cn为例)来加深理解：</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    target &#x3D; &#39;http:&#x2F;&#x2F;gitbook.cn&#x2F;&#39;</span><br><span class="line">    req &#x3D; requests.get(url&#x3D;target)</span><br><span class="line">    print(req.text)</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure><p>requests.get()方法必须设置的一个参数就是url，因为我们得告诉GET请求，我们的目标是谁，我们要获取谁的信息。运行程序看下结果：</p><p><img src="https://img-blog.csdn.net/20170928143016033?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>左侧是我们程序获得的结果，右侧是我们在<a href="http://www.gitbook.cn网站审查元素获得的信息。我们可以看到，我们已经顺利获得了该网页的HTML信息。这就是一个最简单的爬虫实例，可能你会问，我只是爬取了这个网页的HTML信息，有什么用呢？客官稍安勿躁，接下来进入我们的实战正文。">www.gitbook.cn网站审查元素获得的信息。我们可以看到，我们已经顺利获得了该网页的HTML信息。这就是一个最简单的爬虫实例，可能你会问，我只是爬取了这个网页的HTML信息，有什么用呢？客官稍安勿躁，接下来进入我们的实战正文。</a></p><hr><h1 id="三-爬虫实战"><a href="#三-爬虫实战" class="headerlink" title="三 爬虫实战"></a>三 爬虫实战</h1><h2 id="1-小说下载"><a href="#1-小说下载" class="headerlink" title="1 小说下载"></a>1 小说下载</h2><h3 id="1-实战背景"><a href="#1-实战背景" class="headerlink" title="(1) 实战背景"></a>(1) 实战背景</h3><p>小说网站-笔趣看：URL：<a href="http://www.biqukan.com/" target="_blank" rel="noopener">http://www.biqukan.com/</a></p><p>本次实战就是从该网站爬取并保存一本名为《一念永恒》的小说。</p><h3 id="2-小试牛刀"><a href="#2-小试牛刀" class="headerlink" title="(2) 小试牛刀"></a>(2) 小试牛刀</h3><p>我们先看下《一念永恒》小说的第一章内容，URL：<a href="http://www.biqukan.com/1_1094/5403177.html" target="_blank" rel="noopener">http://www.biqukan.com/1_1094/5403177.html</a></p><p><img src="https://img-blog.csdn.net/20170928143125108?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我们先用已经学到的知识获取HTML信息试一试，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html&#39;</span><br><span class="line">    req &#x3D; requests.get(url&#x3D;target)</span><br><span class="line">    print(req.text)</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure><p>运行代码，可以看到如下结果：</p><p><img src="https://img-blog.csdn.net/20170928143206652?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>可以看到，我们很轻松地获取了HTML信息。但是，很显然，很多信息是我们不想看到的，我们只想获得如右侧所示的正文内容，我们不关心div、br这些html标签。<strong>如何把正文内容从这些众多的html标签中提取出来呢？这就是本次实战的主要内容。</strong></p><p>###（3）Beautiful Soup</p><p><strong>爬虫的第一步，获取整个网页的HTML信息，我们已经完成。接下来就是爬虫的第二步，解析HTML信息，提取我们感兴趣的内容。</strong>对于本小节的实战，我们感兴趣的内容就是文章的正文。提取的方法有很多，例如使用正则表达式、Xpath、Beautiful Soup等。对于初学者而言，最容易理解，并且使用简单的方法就是使用Beautiful Soup提取感兴趣内容。</p><p>Beautiful Soup的安装方法和requests一样，使用如下指令安装(也是二选一)：</p><ul><li>pip install beautifulsoup4</li><li>easy_install beautifulsoup4</li></ul><p>一个强大的第三方库，都会有一个详细的官方文档。我们很幸运，Beautiful Soup也是有中文的官方文档。</p><p>URL：<a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">http://beautifulsoup.readthedocs.io/zh_CN/latest/</a></p><p>同理，我会根据实战需求，讲解Beautiful Soup库的部分使用方法，更详细的内容，请查看官方文档。</p><p>现在，我们使用已经掌握的审查元素方法，查看一下我们的目标页面，你会看到如下内容：</p><p><img src="https://img-blog.csdn.net/20170928143325915?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>不难发现，文章的所有内容都放在了一个名为div的“东西下面”，这个”东西”就是html标签。HTML标签是HTML语言中最基本的单位，HTML标签是HTML最重要的组成部分。不理解，没关系，我们再举个简单的例子：</p><blockquote><p>一个女人的包包里，会有很多东西，她们会根据自己的习惯将自己的东西进行分类放好。镜子和口红这些会经常用到的东西，会归放到容易拿到的外侧口袋里。那些不经常用到，需要注意安全存放的证件会放到不容易拿到的里侧口袋里。</p></blockquote><p>html标签就像一个个“口袋”，每个“口袋”都有自己的特定功能，负责存放不同的内容。显然，上述例子中的div标签下存放了我们关心的正文内容。这个div标签是这样的：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;content&quot;, class&#x3D;&quot;showtxt&quot;&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>细心的朋友可能已经发现，除了div字样外，还有id和class。id和class就是div标签的属性，content和showtxt是属性值，一个属性对应一个属性值。这东西有什么用？它是用来区分不同的div标签的，因为div标签可以有很多，我们怎么加以区分不同的div标签呢？就是通过不同的属性值。</p><p>仔细观察目标网站一番，我们会发现这样一个事实：<strong>class属性为showtxt的div标签，独一份！这个标签里面存放的内容，是我们关心的正文部分。</strong></p><p>知道这个信息，我们就可以使用Beautiful Soup提取我们想要的内容了，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target)</span><br><span class="line">     html &#x3D; req.text</span><br><span class="line">     bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     texts &#x3D; bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;showtxt&#39;) print(texts)</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure><p>在解析html之前，我们需要创建一个Beautiful Soup对象。BeautifulSoup函数里的参数就是我们已经获得的html信息。然后我们使用find_all方法，获得html信息中所有class属性为showtxt的div标签。find_all方法的第一个参数是获取的标签名，第二个参数class_是标签的属性，为什么不是class，而带了一个下划线呢？因为python中class是关键字，为了防止冲突，这里使用class_表示标签的class属性，class_后面跟着的showtxt就是属性值了。看下我们要匹配的标签格式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;content&quot;, class&#x3D;&quot;showtxt&quot;&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>这样对应的看一下，是不是就懂了？可能有人会问了，为什么不是find_all(‘div’, id = ‘content’, class_ = ‘showtxt’)?这样其实也是可以的，属性是作为查询时候的约束条件，添加一个class_=’showtxt’条件，我们就已经能够准确匹配到我们想要的标签了，所以我们就不必再添加id这个属性了。运行代码查看我们匹配的结果：</p><p><img src="https://img-blog.csdn.net/20170928143457737?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我们可以看到，我们已经顺利匹配到我们关心的正文内容，但是还有一些我们不想要的东西。比如div标签名，br标签，以及各种空格。怎么去除这些东西呢？我们继续编写代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target) html &#x3D; req.text</span><br><span class="line">     bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     texts &#x3D; bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;showtxt&#39;)</span><br><span class="line">     print(texts[0].text.replace(&#39;\xa0&#39;*8,&#39;\n\n&#39;))</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure><p>find_all匹配的返回的结果是一个列表。提取匹配结果后，使用text属性，提取文本内容，滤除br标签。随后使用replace方法，剔除空格，替换为回车进行分段。 在html中是用来表示空格的。replace(’\xa0’*8,’\n\n’)就是去掉下图的八个空格符号，并用回车代替：</p><p><img src="https://img-blog.csdn.net/20170928143543366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>程序运行结果如下：</p><p><img src="https://img-blog.csdn.net/20170928143634255?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>可以看到，我们很自然的匹配到了所有正文内容，并进行了分段。我们已经顺利获得了一个章节的内容，要想下载正本小说，我们就要获取每个章节的链接。我们先分析下小说目录：</p><p>URL：<a href="http://www.biqukan.com/1_1094/" target="_blank" rel="noopener">http://www.biqukan.com/1_1094/</a></p><p><img src="https://img-blog.csdn.net/20170928143709074?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>通过审查元素，我们发现可以发现，这些章节都存放在了class属性为listmain的div标签下，选取部分html代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;listmain&quot;&gt;</span><br><span class="line">&lt;dl&gt;</span><br><span class="line">&lt;dt&gt;《一念永恒》最新章节列表&lt;&#x2F;dt&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15932394.html&quot;&gt;第1027章 第十道门&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15923072.html&quot;&gt;第1026章 绝伦道法！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15921862.html&quot;&gt;第1025章 长生灯！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15918591.html&quot;&gt;第1024章 一目晶渊&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15906236.html&quot;&gt;第1023章 通天道门&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15903775.html&quot;&gt;第1022章 四大凶兽！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15890427.html&quot;&gt;第1021章 鳄首！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15886627.html&quot;&gt;第1020章 一触即发！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15875306.html&quot;&gt;第1019章 魁祖的气息！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15871572.html&quot;&gt;第1018章 绝望的魁皇城&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15859514.html&quot;&gt;第1017章 我还是恨你！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;15856137.html&quot;&gt;第1016章 从来没有世界之门！&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dt&gt;《一念永恒》正文卷&lt;&#x2F;dt&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5386269.html&quot;&gt;外传1 柯父。&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5386270.html&quot;&gt;外传2 楚玉嫣。&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5386271.html&quot;&gt;外传3 鹦鹉与皮冻。&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5403177.html&quot;&gt;第一章 他叫白小纯&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5428081.html&quot;&gt;第二章 火灶房&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5433843.html&quot;&gt;第三章 六句真言&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt; &lt;dd&gt;&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5447905.html&quot;&gt;第四章 炼灵&lt;&#x2F;a&gt;&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;&#x2F;dl&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">123456789101112131415161718192021</span><br></pre></td></tr></table></figure><p>在分析之前，让我们先介绍一个概念：父节点、子节点、孙节点。<code>&lt;div&gt;</code>和<code>&lt;/div&gt;</code>限定了<code>&lt;div&gt;</code>标签的开始和结束的位置，他们是成对出现的，有开始位置，就有结束位置。我们可以看到，在<code>&lt;div&gt;</code>标签包含<code>&lt;dl&gt;</code>标签，那这个<code>&lt;dl&gt;</code>标签就是<code>&lt;div&gt;</code>标签的子节点，<code>&lt;dl&gt;</code>标签又包含<code>&lt;dt&gt;</code>标签和<code>&lt;dd&gt;</code>标签，那么<code>&lt;dt&gt;</code>标签和<code>&lt;dd&gt;</code>标签就是<code>&lt;div&gt;</code>标签的孙节点。有点绕？那你记住这句话：<strong>谁包含谁，谁就是谁儿子！</strong></p><p><strong>他们之间的关系都是相对的。</strong>比如对于<code>&lt;dd&gt;</code>标签，它的子节点是<code>&lt;a&gt;</code>标签，它的父节点是<code>&lt;dl&gt;</code>标签。这跟我们人是一样的，上有老下有小。</p><p>看到这里可能有人会问，这有好多<code>&lt;dd&gt;</code>标签和<code>&lt;a&gt;</code>标签啊！不同的<code>&lt;dd&gt;</code>标签，它们是什么关系啊？显然，兄弟姐妹喽！我们称它们为兄弟结点。<br>好了，概念明确清楚，接下来，让我们分析一下问题。我们看到每个章节的名字存放在了<code>&lt;a&gt;</code>标签里面。<code>&lt;a&gt;</code>标签还有一个href属性。这里就不得不提一下<code>&lt;a&gt;</code>标签的定义了，<code>&lt;a&gt;</code>标签定义了一个超链接，用于从一张页面链接到另一张页面。<code>&lt;a&gt;</code> 标签最重要的属性是 href 属性，它指示链接的目标。</p><p>我们将之前获得的第一章节的URL和<code>&lt;a&gt;</code> 标签对比看一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;5403177.html</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5403177.html&quot;&gt;第一章 他叫白小纯&lt;&#x2F;a&gt;</span><br><span class="line">12</span><br></pre></td></tr></table></figure><p>不难发现，<code>&lt;a&gt;</code> 标签中href属性存放的属性值/1_1094/5403177.html是章节URL<a href="http://www.biqukan.com/1_1094/5403177.html的后半部分。其他章节也是如此！那这样，我们就可以根据`" target="_blank" rel="noopener">http://www.biqukan.com/1_1094/5403177.html的后半部分。其他章节也是如此！那这样，我们就可以根据`</a><a>`标签的href属性值获得每个章节的链接和名称了。</p><p>总结一下：小说每章的链接放在了class属性为listmain的<code>&lt;div&gt;</code>标签下的<code>&lt;a&gt;</code>标签中。链接具体位置放在html-&gt;body-&gt;div-&gt;dl-&gt;dd-&gt;a的href属性中。先匹配class属性为listmain的<code>&lt;div&gt;</code>标签，再匹配<code>&lt;a&gt;</code>标签。编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target)</span><br><span class="line">     html &#x3D; req.text</span><br><span class="line">     div_bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     div &#x3D; div_bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;listmain&#39;)</span><br><span class="line">     print(div[0])</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure><p>还是使用find_all方法，运行结果如下：</p><p><img src="https://img-blog.csdn.net/20170928144048324?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>很顺利，接下来再匹配每一个<code>&lt;a&gt;</code>标签，并提取章节名和章节文章。如果我们使用Beautiful Soup匹配到了下面这个<code>&lt;a&gt;</code>标签，如何提取它的href属性和<code>&lt;a&gt;</code>标签里存放的章节名呢？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;&#x2F;1_1094&#x2F;5403177.html&quot;&gt;第一章 他叫白小纯&lt;&#x2F;a&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>方法很简单，对Beautiful Soup返回的匹配结果a，使用a.get(‘href’)方法就能获取href的属性值，使用a.string就能获取章节名，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     server &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;&#39;</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;&#39;</span><br><span class="line">     req &#x3D; requests.get(url &#x3D; target) html &#x3D; req.text</span><br><span class="line">     div_bf &#x3D; BeautifulSoup(html)</span><br><span class="line">     div &#x3D; div_bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;listmain&#39;)</span><br><span class="line">     a_bf &#x3D; BeautifulSoup(str(div[0]))</span><br><span class="line">     a &#x3D; a_bf.find_all(&#39;a&#39;)</span><br><span class="line">     for each in a:</span><br><span class="line">          print(each.string, server + each.get(&#39;href&#39;))</span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure><p>因为find_all返回的是一个列表，里边存放了很多的<code>&lt;a&gt;</code>标签，所以使用for循环遍历每个<code>&lt;a&gt;</code>标签并打印出来，运行结果如下。</p><p><img src="https://img-blog.csdn.net/20170928144215561?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>最上面匹配的一千多章的内容是最新更新的12章节的链接。这12章内容会和下面的重复，所以我们要滤除，除此之外，还有那3个外传，我们也不想要。这些都简单地剔除就好。</p><p>###（3）整合代码</p><p>每个章节的链接、章节名、章节内容都有了。接下来就是整合代码，将获得内容写入文本文件存储就好了。编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests, sys</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">类说明:下载《笔趣看》网小说《一念永恒》</span><br><span class="line">Parameters:</span><br><span class="line">    无</span><br><span class="line">Returns:</span><br><span class="line">    无</span><br><span class="line">Modify:</span><br><span class="line">    2017-09-13</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">class downloader(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.server &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;&#39;</span><br><span class="line">        self.target &#x3D; &#39;http:&#x2F;&#x2F;www.biqukan.com&#x2F;1_1094&#x2F;&#39;</span><br><span class="line">        self.names &#x3D; []            #存放章节名</span><br><span class="line">        self.urls &#x3D; []            #存放章节链接</span><br><span class="line">        self.nums &#x3D; 0            #章节数</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:获取下载链接</span><br><span class="line">    Parameters:</span><br><span class="line">        无</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def get_download_url(self):</span><br><span class="line">        req &#x3D; requests.get(url &#x3D; self.target)</span><br><span class="line">        html &#x3D; req.text</span><br><span class="line">        div_bf &#x3D; BeautifulSoup(html)</span><br><span class="line">        div &#x3D; div_bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;listmain&#39;)</span><br><span class="line">        a_bf &#x3D; BeautifulSoup(str(div[0]))</span><br><span class="line">        a &#x3D; a_bf.find_all(&#39;a&#39;)</span><br><span class="line">        self.nums &#x3D; len(a[15:])                                #剔除不必要的章节，并统计章节数</span><br><span class="line">        for each in a[15:]:</span><br><span class="line">            self.names.append(each.string)</span><br><span class="line">            self.urls.append(self.server + each.get(&#39;href&#39;))</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:获取章节内容</span><br><span class="line">    Parameters:</span><br><span class="line">        target - 下载连接(string)</span><br><span class="line">    Returns:</span><br><span class="line">        texts - 章节内容(string)</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def get_contents(self, target):</span><br><span class="line">        req &#x3D; requests.get(url &#x3D; target)</span><br><span class="line">        html &#x3D; req.text</span><br><span class="line">        bf &#x3D; BeautifulSoup(html)</span><br><span class="line">        texts &#x3D; bf.find_all(&#39;div&#39;, class_ &#x3D; &#39;showtxt&#39;)</span><br><span class="line">        texts &#x3D; texts[0].text.replace(&#39;\xa0&#39;*8,&#39;\n\n&#39;)</span><br><span class="line">        return texts</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:将爬取的文章内容写入文件</span><br><span class="line">    Parameters:</span><br><span class="line">        name - 章节名称(string)</span><br><span class="line">        path - 当前路径下,小说保存名称(string)</span><br><span class="line">        text - 章节内容(string)</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def writer(self, name, path, text):</span><br><span class="line">        write_flag &#x3D; True</span><br><span class="line">        with open(path, &#39;a&#39;, encoding&#x3D;&#39;utf-8&#39;) as f:</span><br><span class="line">            f.write(name + &#39;\n&#39;)</span><br><span class="line">            f.writelines(text)</span><br><span class="line">            f.write(&#39;\n\n&#39;)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    dl &#x3D; downloader()</span><br><span class="line">    dl.get_download_url()</span><br><span class="line">    print(&#39;《一年永恒》开始下载：&#39;)</span><br><span class="line">    for i in range(dl.nums):</span><br><span class="line">        dl.writer(dl.names[i], &#39;一念永恒.txt&#39;, dl.get_contents(dl.urls[i]))</span><br><span class="line">        sys.stdout.write(&quot;  已下载:%.3f%%&quot; %  float(i&#x2F;dl.nums) + &#39;\r&#39;)</span><br><span class="line">        sys.stdout.flush()</span><br><span class="line">    print(&#39;《一年永恒》下载完成&#39;)</span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687</span><br></pre></td></tr></table></figure><p>很简单的程序，单进程跑，没有开进程池。下载速度略慢，喝杯茶休息休息吧。代码运行效果如下图所示：</p><p><img src="https://img-blog.csdn.net/20170928144348411?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><h2 id="2-优美壁纸下载"><a href="#2-优美壁纸下载" class="headerlink" title="2 优美壁纸下载"></a>2 优美壁纸下载</h2><p>###（1）实战背景</p><p>已经会爬取文字了，是不是感觉爬虫还是蛮好玩的呢？接下来，让我们进行一个进阶实战，了解一下反爬虫。</p><p>URL：<a href="https://unsplash.com/" target="_blank" rel="noopener">https://unsplash.com/</a></p><p><img src="https://img-blog.csdn.net/20170928144442435?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>看一看这些优美的壁纸，这个网站的名字叫做Unsplash，免费高清壁纸分享网是一个坚持每天分享高清的摄影图片的站点，每天更新一张高质量的图片素材，全是生活中的景象作品，清新的生活气息图片可以作为桌面壁纸也可以应用于各种需要的环境。</p><p>看到这么优美的图片，我的第一反应就是想收藏一些，作为知乎文章的题图再好不过了。每张图片我都很喜欢，批量下载吧，不多爬，就下载50张好了。</p><p>###（2）实战进阶</p><p>我们已经知道了每个html标签都有各自的功能。<code>&lt;a&gt;</code>标签存放一下超链接，图片存放在哪个标签里呢？html规定，图片统统给我放到<code>&lt;img&gt;</code>标签中！既然这样，我们截取就Unsplash网站中的一个<code>&lt;img&gt;</code>标签，分析一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img alt&#x3D;&quot;Snow-capped mountain slopes under blue sky&quot; src&#x3D;&quot;https:&#x2F;&#x2F;images.unsplash.com&#x2F;photo-1428509774491-cfac96e12253?dpr&#x3D;1&amp;auto&#x3D;compress,format&amp;fit&#x3D;crop&amp;w&#x3D;360&amp;h&#x3D;240&amp;q&#x3D;80&amp;cs&#x3D;tinysrgb&amp;crop&#x3D;&quot; class&#x3D;&quot;cV68d&quot; style&#x3D;&quot;width: 220px; height: 147px;&quot;&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>可以看到，<code>&lt;img&gt;</code>标签有很多属性，有alt、src、class、style属性，其中src属性存放的就是我们需要的图片保存地址，我们根据这个地址就可以进行图片的下载。</p><p>那么，让我们先捋一捋这个过程：</p><ul><li>使用requeusts获取整个网页的HTML信息；</li><li>使用Beautiful Soup解析HTML信息，找到所有<code>&lt;img&gt;</code>标签，提取src属性，获取图片存放地址；</li><li>根据图片存放地址，下载图片。</li></ul><p>我们信心满满地按照这个思路爬取Unsplash试一试，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;https:&#x2F;&#x2F;unsplash.com&#x2F;&#39;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target)</span><br><span class="line">     print(req.text)</span><br><span class="line">123456</span><br></pre></td></tr></table></figure><p>按照我们的设想，我们应该能找到很多<code>&lt;img&gt;</code>标签。但是我们发现，除了一些<code>&lt;script&gt;</code>标签和一些看不懂的代码之外，我们一无所获，一个<code>&lt;img&gt;</code>标签都没有！跟我们在网站审查元素的结果完全不一样，这是为什么？</p><p><img src="https://img-blog.csdn.net/20170928144659798?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p><strong>答案就是，这个网站的所有图片都是动态加载的！</strong>网站有静态网站和动态网站之分，上一个实战爬取的网站是静态网站，而这个网站是动态网站，动态加载有一部分的目的就是为了反爬虫。</p><p><strong>对于什么是动态加载，你可以这样理解：我们知道化妆术学的好，贼厉害，可以改变一个人的容貌。相应的，动态加载用的好，也贼厉害，可以改变一个网站的容貌。</strong></p><p>动态网站使用动态加载常用的手段就是通过调用JavaScript来实现的。怎么实现JavaScript动态加载，我们不必深究，我们只要知道，动态加载的JavaScript脚本，就像化妆术需要用的化妆品，五花八门。有粉底、口红、睫毛膏等等，它们都有各自的用途。动态加载的JavaScript脚本也一样，一个动态加载的网站可能使用很多JavaScript脚本，我们只要找到负责动态加载图片的JavaScript脚本，不就找到我们需要的链接了吗？</p><p>对于初学者，我们不必看懂JavaScript执行的内容是什么，做了哪些事情，因为我们有强大的抓包工具，它自然会帮我们分析。这个强大的抓包工具就是Fiddler：</p><p>URL：<a href="http://www.telerik.com/fiddler" target="_blank" rel="noopener">http://www.telerik.com/fiddler</a></p><p>PS：也可以使用浏览器自带的Networks，但是我更推荐这个软件，因为它操作起来更高效。</p><p>安装方法很简单，傻瓜式安装，一直下一步即可，对于经常使用电脑的人来说，应该没有任何难度。</p><p>这个软件的使用方法也很简单，打开软件，然后用浏览器打开我们的目标网站，以Unsplash为例，抓包结果如下：</p><p><img src="https://img-blog.csdn.net/20170928144807582?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我们可以看到，上图左侧红框处是我们的GET请求的地址，就是网站的URL，右下角是服务器返回的信息，我们可以看到，这些信息也是我们上一个程序获得的信息。这个不是我们需要的链接，我们继续往下看。</p><p><img src="https://img-blog.csdn.net/20170930125322590?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我们发现上图所示的就是一个JavaScript请求，看右下侧服务器返回的信息是一个json格式的数据。这里面，就有我们需要的内容。我们局部放大看一下：</p><p><img src="https://img-blog.csdn.net/20170930125356095?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>这是Fiddler右侧的信息，上面是请求的Headers信息，包括这个Javascript的请求地 址：<a href="http://unsplash.com/napi/feeds/home，其他信息我们先不管，我们看看下面的内容。里面有很多图片的信息，包括图片的id，图片的大小，图片的链接，还有下一页的地址。这个脚本以json格式存储传输的数据，json格式是一种轻量级的数据交换格式，起到封装数据的作用，易于人阅读和编写，同时也易于机器解析和生成。这么多链接，可以看到图片的链接有很多，根据哪个链接下载图片呢？先别急，让我们继续分析：" target="_blank" rel="noopener">http://unsplash.com/napi/feeds/home，其他信息我们先不管，我们看看下面的内容。里面有很多图片的信息，包括图片的id，图片的大小，图片的链接，还有下一页的地址。这个脚本以json格式存储传输的数据，json格式是一种轻量级的数据交换格式，起到封装数据的作用，易于人阅读和编写，同时也易于机器解析和生成。这么多链接，可以看到图片的链接有很多，根据哪个链接下载图片呢？先别急，让我们继续分析：</a></p><p><img src="https://img-blog.csdn.net/20170930125434279?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>在这个网站，我们可以按这个按钮进行图片下载。我们抓包分下下这个动作，看看发送了哪些请求。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;1PrQ2mHW-Fo&#x2F;download?force&#x3D;true</span><br><span class="line">https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;JX7nDtafBcU&#x2F;download?force&#x3D;true</span><br><span class="line">https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;HCVbP3zqX4k&#x2F;download?force&#x3D;true</span><br><span class="line">123</span><br></pre></td></tr></table></figure><p>通过Fiddler抓包，我们发现，点击不同图片的下载按钮，GET请求的地址都是不同的。但是它们很有规律，就是中间有一段代码是不一样的，其他地方都一样。中间那段代码是不是很熟悉？没错，它就是我们之前抓包分析得到json数据中的照片的id。我们只要解析出每个照片的id，就可以获得图片下载的请求地址，然后根据这个请求地址，我们就可以下载图片了。那么，现在的首要任务就是解析json数据了。</p><p>json格式的数据也是分层的。可以看到next_page里存放的是下一页的请求地址，很显然Unsplash下一页的内容，也是动态加载的。在photos下面的id里，存放着图片的id，这个就是我们需要获得的图片id号。</p><p>怎么编程提取这些json数据呢？我们也是分步完成：</p><ul><li>获取整个json数据</li><li>解析json数据</li></ul><p>编写代码，尝试获取json数据：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target) print(req.text)</span><br><span class="line">12345</span><br></pre></td></tr></table></figure><p>很遗憾，程序报错了，问题出在哪里？通过错误信息，我们可以看到SSL认证错误，SSL认证是指客户端到服务器端的认证。一个非常简单的解决这个认证错误的方法就是设置requests.get()方法的verify参数。这个参数默认设置为True，也就是执行认证。我们将其设置为False，绕过认证不就可以了？</p><p><img src="https://img-blog.csdn.net/20170930125540248?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>有想法就要尝试，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target, verify&#x3D;False)</span><br><span class="line">     print(req.text)</span><br><span class="line">123456</span><br></pre></td></tr></table></figure><p>认证问题解决了，又有新问题了：</p><p><img src="https://img-blog.csdn.net/20170930125626169?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>可以看到，我们GET请求又失败了，这是为什么？这个网站反爬虫的手段除了动态加载，还有一个反爬虫手段，那就是验证Request Headers。接下来，让我们分析下这个Requests Headers：</p><p><img src="https://img-blog.csdn.net/20170930125652596?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>我截取了Fiddler的抓包信息，可以看到Requests Headers里又很多参数，有Accept、Accept-Encoding、Accept-Language、DPR、User-Agent、Viewport-Width、accept-version、Referer、x-unsplash-client、authorization、Connection、Host。它们都是什么意思呢？</p><p>专业的解释能说的太多，我挑重点：</p><ul><li>User-Agent：这里面存放浏览器的信息。可以看到上图的参数值，它表示我是通过Windows的Chrome浏览器，访问的这个服务器。如果我们不设置这个参数，用Python程序直接发送GET请求，服务器接受到的User-Agent信息就会是一个包含python字样的User-Agent。如果后台设计者验证这个User-Agent参数是否合法，不让带Python字样的User-Agent访问，这样就起到了反爬虫的作用。这是一个最简单的，最常用的反爬虫手段。</li><li>Referer：这个参数也可以用于反爬虫，它表示这个请求是从哪发出的。可以看到我们通过浏览器访问网站，这个请求是从<a href="https://unsplash.com/，这个地址发出的。如果后台设计者，验证这个参数，对于不是从这个地址跳转过来的请求一律禁止访问，这样就也起到了反爬虫的作用。" target="_blank" rel="noopener">https://unsplash.com/，这个地址发出的。如果后台设计者，验证这个参数，对于不是从这个地址跳转过来的请求一律禁止访问，这样就也起到了反爬虫的作用。</a></li><li>authorization：这个参数是基于AAA模型中的身份验证信息允许访问一种资源的行为。在我们用浏览器访问的时候，服务器会为访问者分配这个用户ID。如果后台设计者，验证这个参数，对于没有用户ID的请求一律禁止访问，这样就又起到了反爬虫的作用。</li></ul><p>Unsplash是根据哪个参数反爬虫的呢？根据我的测试，是authorization。我们只要通过程序手动添加这个参数，然后再发送GET请求，就可以顺利访问了。怎么什么设置呢？还是requests.get()方法，我们只需要添加headers参数即可。编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     headers &#x3D; &#123;&#39;authorization&#39;:&#39;your Client-ID&#39;&#125;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target, headers&#x3D;headers, verify&#x3D;False)</span><br><span class="line">     print(req.text)</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure><p>headers参数值是通过字典传入的。记得将上述代码中your Client-ID换成诸位自己抓包获得的信息。代码运行结果如下：</p><p><img src="https://img-blog.csdn.net/20170930125810442?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>皇天不负有心人，可以看到我们已经顺利获得json数据了，里面有next_page和照片的id。接下来就是解析json数据。根据我们之前分析可知，next_page放在了json数据的最外侧，照片的id放在了photos-&gt;id里。我们使用json.load()方法解析数据，编写代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests, json</span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">     target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">     headers &#x3D; &#123;&#39;authorization&#39;:&#39;your Client-ID&#39;&#125;</span><br><span class="line">     req &#x3D; requests.get(url&#x3D;target, headers&#x3D;headers, verify&#x3D;False)</span><br><span class="line">     html &#x3D; json.loads(req.text)</span><br><span class="line">     next_page &#x3D; html[&#39;next_page&#39;]</span><br><span class="line">     print(&#39;下一页地址:&#39;,next_page)</span><br><span class="line">     for each in html[&#39;photos&#39;]:</span><br><span class="line">          print(&#39;图片ID:&#39;,each[&#39;id&#39;])</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure><p>解析json数据很简单，跟字典操作一样，就是字典套字典。json.load()里面的参数是原始的json格式的数据。程序运行结果如下：</p><p><img src="https://img-blog.csdn.net/20170930125850471?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>图片的ID已经获得了，再通过字符串处理一下，就生成了我们需要的图片下载请求地址。根据这个地址，我们就可以下载图片了。下载方式，使用直接写入文件的方法。</p><p>###（3）整合代码</p><p>每次获取链接加一个1s延时，因为人在浏览页面的时候，翻页的动作不可能太快。我们要让我们的爬虫尽量友好一些。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF-8 -*-</span><br><span class="line">import requests, json, time, sys</span><br><span class="line">from contextlib import closing</span><br><span class="line"></span><br><span class="line">class get_photos(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.photos_id &#x3D; []</span><br><span class="line">        self.download_server &#x3D; &#39;https:&#x2F;&#x2F;unsplash.com&#x2F;photos&#x2F;xxx&#x2F;download?force&#x3D;trues&#39;</span><br><span class="line">        self.target &#x3D; &#39;http:&#x2F;&#x2F;unsplash.com&#x2F;napi&#x2F;feeds&#x2F;home&#39;</span><br><span class="line">        self.headers &#x3D; &#123;&#39;authorization&#39;:&#39;Client-ID c94869b36aa272dd62dfaeefed769d4115fb3189a9d1ec88ed457207747be626&#39;&#125;</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:获取图片ID</span><br><span class="line">    Parameters:</span><br><span class="line">        无</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;   </span><br><span class="line">    def get_ids(self):</span><br><span class="line">        req &#x3D; requests.get(url&#x3D;self.target, headers&#x3D;self.headers, verify&#x3D;False)</span><br><span class="line">        html &#x3D; json.loads(req.text)</span><br><span class="line">        next_page &#x3D; html[&#39;next_page&#39;]</span><br><span class="line">        for each in html[&#39;photos&#39;]:</span><br><span class="line">            self.photos_id.append(each[&#39;id&#39;])</span><br><span class="line">        time.sleep(1)</span><br><span class="line">        for i in range(5):</span><br><span class="line">            req &#x3D; requests.get(url&#x3D;next_page, headers&#x3D;self.headers, verify&#x3D;False)</span><br><span class="line">            html &#x3D; json.loads(req.text)</span><br><span class="line">            next_page &#x3D; html[&#39;next_page&#39;]</span><br><span class="line">            for each in html[&#39;photos&#39;]:</span><br><span class="line">                self.photos_id.append(each[&#39;id&#39;])</span><br><span class="line">            time.sleep(1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    函数说明:图片下载</span><br><span class="line">    Parameters:</span><br><span class="line">        无</span><br><span class="line">    Returns:</span><br><span class="line">        无</span><br><span class="line">    Modify:</span><br><span class="line">        2017-09-13</span><br><span class="line">    &quot;&quot;&quot;   </span><br><span class="line">    def download(self, photo_id, filename):</span><br><span class="line">        headers &#x3D; &#123;&#39;User-Agent&#39;:&#39;Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;61.0.3163.79 Safari&#x2F;537.36&#39;&#125;</span><br><span class="line">        target &#x3D; self.download_server.replace(&#39;xxx&#39;, photo_id)</span><br><span class="line">        with closing(requests.get(url&#x3D;target, stream&#x3D;True, verify &#x3D; False, headers &#x3D; self.headers)) as r:</span><br><span class="line">            with open(&#39;%d.jpg&#39; % filename, &#39;ab+&#39;) as f:</span><br><span class="line">                for chunk in r.iter_content(chunk_size &#x3D; 1024):</span><br><span class="line">                    if chunk:</span><br><span class="line">                        f.write(chunk)</span><br><span class="line">                        f.flush()</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    gp &#x3D; get_photos()</span><br><span class="line">    print(&#39;获取图片连接中:&#39;)</span><br><span class="line">    gp.get_ids()</span><br><span class="line">    print(&#39;图片下载中:&#39;)</span><br><span class="line">    for i in range(len(gp.photos_id)):</span><br><span class="line">        print(&#39;  正在下载第%d张图片&#39; % (i+1))</span><br><span class="line">        gp.download(gp.photos_id[i], (i+1))</span><br><span class="line">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364</span><br></pre></td></tr></table></figure><p>下载速度还行，有的图片下载慢是因为图片太大。可以看到右侧也打印了一些警报信息，这是因为我们没有进行SSL验证。</p><p><img src="https://img-blog.csdn.net/20170930130019403?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYzQwNjQ5NTc2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p><p>学会了爬取图片，简单的动态加载的网站也难不倒你了。赶快试试国内的一些图片网站吧！</p><h2 id="3-视频下载"><a href="#3-视频下载" class="headerlink" title="3 视频下载"></a>3 视频下载</h2><p>视频下载教程，请到这里查看：</p><p><a href="https://cuijiahua.com/blog/2017/10/spider_tutorial_1.html" target="_blank" rel="noopener">https://cuijiahua.com/blog/2017/10/spider_tutorial_1.html</a></p><h1 id="四-总结"><a href="#四-总结" class="headerlink" title="四 总结"></a>四 总结</h1><ul><li>本次Chat讲解的实战内容，均仅用于学习交流，请勿用于任何商业用途！</li><li>爬虫时效性低，同样的思路过了一个月，甚至一周可能无法使用，但是爬取思路都是如此，完全可以自行分析。</li><li>本次实战代码，均已上传我的Github，欢迎Follow、Star：<a href="https://github.com/Jack-Cherish/python-spider" target="_blank" rel="noopener">https://github.com/Jack-Cherish/python-spider</a></li><li>如有问题，请留言。如有错误，还望指正，谢谢！</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python 爬虫（一）</title>
    <link href="http://yoursite.com/2020/06/13/Python-%E7%88%AC%E8%99%AB%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://yoursite.com/2020/06/13/Python-%E7%88%AC%E8%99%AB%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2020-06-13T11:58:05.000Z</published>
    <updated>2020-06-13T11:59:18.308Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 这是一篇详细介绍 <a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 爬虫入门的教程，从实战出发，适合初学者。读者只需在阅读过程紧跟文章思路，理清相应的实现代码，30 分钟即可学会编写简单的 Python 爬虫。</p><p>这篇 Python 爬虫教程主要讲解以下 5 部分内容：</p><ol><li>了解网页；</li><li>使用 requests 库抓取网站数据；</li><li>使用 Beautiful Soup 解析网页；</li><li>清洗和组织数据；</li><li>爬虫攻防战；</li></ol><h2 id="了解网页"><a href="#了解网页" class="headerlink" title="了解网页"></a>了解网页</h2><p>以中国旅游网首页（<a href="http://www.cntour.cn/）为例，抓取中国旅游网首页首条信息（标题和链接），数据以明文的形式出面在源码中。在中国旅游网首页，按快捷键【Ctrl+U】打开源码页面，如图" target="_blank" rel="noopener">http://www.cntour.cn/）为例，抓取中国旅游网首页首条信息（标题和链接），数据以明文的形式出面在源码中。在中国旅游网首页，按快捷键【Ctrl+U】打开源码页面，如图</a> 1 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G63943S6.jpg" alt="img"><br>图 1 中国旅游网首页源码</p><h3 id="认识网页结构"><a href="#认识网页结构" class="headerlink" title="认识网页结构"></a>认识网页结构</h3><p>网页一般由三部分组成，分别是 HTML（超文本标记语言）、CSS（层叠样式表）和 JScript（活动脚本语言）。</p><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><p>HTML 是整个网页的结构，相当于整个网站的框架。带“＜”、“＞”符号的都是属于 HTML 的标签，并且标签都是成对出现的。</p><p>常见的标签如下：</p><html>..</html> 表示标记中间的元素是网页<body>..</body> 表示用户可见的内容<div>..</div> 表示框架<p>..</p> 表示段落<li>..</li>表示列表<img>..</img>表示图片<h1>..</h1>表示标题<a href="">..</a>表示超链接<h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><p>CSS 表示样式，图 1 中第 13 行＜style type=＂text/css＂＞表示下面引用一个 CSS，在 CSS 中定义了外观。</p><h4 id="JScript"><a href="#JScript" class="headerlink" title="JScript"></a>JScript</h4><p>JScript 表示功能。交互的内容和各种特效都在 JScript 中，JScript 描述了网站中的各种功能。</p><p>如果用人体来比喻，HTML 是人的骨架，并且定义了人的嘴巴、眼睛、耳朵等要长在哪里。CSS 是人的外观细节，如嘴巴长什么样子，眼睛是双眼皮还是单眼皮，是大眼睛还是小眼睛，皮肤是黑色的还是白色的等。JScript 表示人的技能，例如跳舞、唱歌或者演奏乐器等。</p><h3 id="写一个简单的-HTML"><a href="#写一个简单的-HTML" class="headerlink" title="写一个简单的 HTML"></a>写一个简单的 HTML</h3><p>通过编写和修改 HTML，可以更好地理解 HTML。首先打开一个记事本，然后输入下面的内容：</p><html><head>    <title> Python 3 爬虫与数据清洗入门与实战</title>  <meta name="generator" content="hexo-theme-yilia-plus"><link rel="alternate" href="/atom.xml" title="广外编程社官网" type="application/atom+xml"></head><body>    <div>        <p>Python 3爬虫与数据清洗入门与实战</p>    </div>    <div>        <ul>            <li><a href="http://c.biancheng.net" target="_blank" rel="noopener">爬虫</a></li>            <li>数据清洗</li>        </ul>    </div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body><p>输入代码后，保存记事本，然后修改文件名和后缀名为”HTML.html”；</p><p>运行该文件后的效果，如图 2 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64134V2.gif" alt="img"><br>图 2</p><p>这段代码只是用到了 HTML，读者可以自行修改代码中的中文，然后观察其变化。</p><h3 id="关于爬虫的合法性"><a href="#关于爬虫的合法性" class="headerlink" title="关于爬虫的合法性"></a>关于爬虫的合法性</h3><p>几乎每一个网站都有一个名为 robots.txt 的文档，当然也有部分网站没有设定 robots.txt。对于没有设定 robots.txt 的网站可以通过网络爬虫获取没有口令加密的数据，也就是该网站所有页面数据都可以爬取。如果网站有 robots.txt 文档，就要判断是否有禁止访客获取的数据。</p><p>以淘宝网为例，在浏览器中访问 <a href="https://www.taobao.com/robots.txt，如图" target="_blank" rel="noopener">https://www.taobao.com/robots.txt，如图</a> 3 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6422Ub.gif" alt="img"><br>图 3 淘宝网的robots.txt文件内容</p><p>淘宝网允许部分爬虫访问它的部分路径，而对于没有得到允许的用户，则全部禁止爬取，代码如下：</p><p>User-Agent:*<br>Disallow:/</p><p>这一句代码的意思是除前面指定的爬虫外，不允许其他爬虫爬取任何数据。</p><h2 id="使用-requests-库请求网站"><a href="#使用-requests-库请求网站" class="headerlink" title="使用 requests 库请求网站"></a>使用 requests 库请求网站</h2><h3 id="安装-requests-库"><a href="#安装-requests-库" class="headerlink" title="安装 requests 库"></a>安装 requests 库</h3><p>首先在 PyCharm 中安装 requests 库，为此打开 PyCharm，单击“File”（文件）菜单，选择“Setting for New Projects…”命令，如图 4 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64314Q6.jpg" alt="img"><br>图 4</p><p>选择“Project Interpreter”（项目编译器）命令，确认当前选择的编译器，然后单击右上角的加号，如图 5 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64341W4.jpg" alt="img"><br>图 5</p><p>在搜索框输入：requests（注意，一定要输入完整，不然容易出错），然后单击左下角的“Install Package”（安装库）按钮。如图 6 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64400193.jpg" alt="img"><br>图 6</p><p>安装完成后，会在 Install Package 上显示“Package‘requests’ installed successfully”（库的请求已成功安装），如图 7 所示；如果安装不成功将会显示提示信息。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G644192R.jpg" alt="img"><br>图 7 安装成功</p><h3 id="爬虫的基本原理"><a href="#爬虫的基本原理" class="headerlink" title="爬虫的基本原理"></a>爬虫的基本原理</h3><p>网页请求的过程分为两个环节：</p><ol><li>Request （请求）：每一个展示在用户面前的网页都必须经过这一步，也就是向服务器发送访问请求。</li><li>Response（响应）：服务器在接收到用户的请求后，会验证请求的有效性，然后向用户（客户端）发送响应的内容，客户端接收服务器响应的内容，将内容展示出来，就是我们所熟悉的网页请求，如图 8 所示。</li></ol><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6451I08.gif" alt="img"><br>图 8 Response相应</p><p>网页请求的方式也分为两种：</p><ol><li>GET：最常见的方式，一般用于获取或者查询资源信息，也是大多数网站使用的方式，响应速度快。</li><li>POST：相比 GET 方式，多了以表单形式上传参数的功能，因此除查询信息外，还可以修改信息。</li></ol><p>所以，在写爬虫前要先确定向谁发送请求，用什么方式发送。</p><h3 id="使用-GET-方式抓取数据"><a href="#使用-GET-方式抓取数据" class="headerlink" title="使用 GET 方式抓取数据"></a>使用 GET 方式抓取数据</h3><p>复制任意一条首页首条新闻的标题，在源码页面按【Ctrl+F】组合键调出搜索框，将标题粘贴在搜索框中，然后按【Enter】键。</p><p>如图 8 所示，标题可以在源码中搜索到，请求对象是<a href="http://www.cntour.cn，请求方式是GET（所有在源码中的数据请求方式都是GET），如图" target="_blank" rel="noopener">www.cntour.cn，请求方式是GET（所有在源码中的数据请求方式都是GET），如图</a> 9 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64620C9.jpg" alt="img"><br>图 9（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6464b94.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p><p>确定好请求对象和方式后，在 PyCharm 中输入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import requests        #导入requests包url &#x3D; &#39;http:&#x2F;&#x2F;www.cntour.cn&#x2F;&#39;strhtml &#x3D; requests.get(url)        #Get方式获取网页数据print(strhtml.text)</span><br></pre></td></tr></table></figure><p>运行结果如图 10 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64I4104.jpg" alt="img"><br>图 10 运行结果效果图（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64K5445.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p><p>加载库使用的语句是 import+库的名字。在上述过程中，加载 requests 库的语句是：import requests。</p><p>用 GET 方式获取数据需要调用 requests 库中的 get 方法，使用方法是在 requests 后输入英文点号，如下所示：</p><p>requests.get</p><p>将获取到的数据存到 strhtml 变量中，代码如下：</p><p>strhtml = request.get(url)</p><p>这个时候 strhtml 是一个 URL 对象，它代表整个网页，但此时只需要网页中的源码，下面的语句表示网页源码：</p><p>strhtml.text</p><h3 id="使用-POST-方式抓取数据"><a href="#使用-POST-方式抓取数据" class="headerlink" title="使用 POST 方式抓取数据"></a>使用 POST 方式抓取数据</h3><p>首先输入有道翻译的网址：<a href="http://fanyi.youdao.com/，进入有道翻译页面。" target="_blank" rel="noopener">http://fanyi.youdao.com/，进入有道翻译页面。</a></p><p>按快捷键 F12，进入开发者模式，单击 Network，此时内容为空，如图 11 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G64ZU55.gif" alt="img"><br>图 11</p><p>在有道翻译中输入“我爱中国”，单击“翻译”按钮，如图 12 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6492K96.gif" alt="img"><br>图 12</p><p>在开发者模式中，依次单击“Network”按钮和“XHR”按钮，找到翻译数据，如图 13 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11G6494Y00.gif" alt="img"><br>图 13</p><p>单击 Headers，发现请求数据的方式为 POST。如图 14 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA00I57.gif" alt="img"><br>图 14</p><p>找到数据所在之处并且明确请求方式之后，接下来开始撰写爬虫。</p><p>首先，将 Headers 中的 URL 复制出来，并赋值给 url，代码如下：</p><p>url = ‘<a href="http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;" target="_blank" rel="noopener">http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;</a></p><p>POST 的请求获取数据的方式不同于 GET，POST 请求数据必须构建请求头才可以。</p><p>Form Data 中的请求参数如图 15 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA041451.gif" alt="img"><br>图 15</p><p>将其复制并构建一个新字典：</p><p>From_data={‘i’:’我愛中國’,’from’:’zh-CHS’,’to’:’en’,’smartresult’:’dict’,’client’:’fanyideskweb’,’salt’:’15477056211258’,’sign’:’b3589f32c38bc9e3876a570b8a992604’,’ts’:’1547705621125’,’bv’:’b33a2f3f9d09bde064c9275bcb33d94e’,’doctype’:’json’,’version’:’2.1’,’keyfrom’:’fanyi.web’,’action’:’FY_BY_REALTIME’,’typoResult’:’false’}</p><p>接下来使用 requests.post 方法请求表单数据，代码如下：</p><p>import requests    #导入requests包<br>response = requests.post(url,data=payload)</p><p>将字符串格式的数据转换成 JSON 格式数据，并根据<a href="http://c.biancheng.net/data_structure/" target="_blank" rel="noopener">数据结构</a>，提取数据，并将翻译结果打印出来，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import jsoncontent &#x3D; json.loads(response.text)print(content[&#39;translateResult&#39;][0][0][&#39;tgt&#39;])</span><br></pre></td></tr></table></figure><p>使用 requests.post 方法抓取有道翻译结果的完整代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import requests        #导入requests包import jsondef get_translate_date(word&#x3D;None):    url &#x3D; &#39;http:&#x2F;&#x2F;fanyi.youdao.com&#x2F;translate_o?smartresult&#x3D;dict&amp;smartresult&#x3D;rule&#39;    From_data&#x3D;&#123;&#39;i&#39;:word,&#39;from&#39;:&#39;zh-CHS&#39;,&#39;to&#39;:&#39;en&#39;,&#39;smartresult&#39;:&#39;dict&#39;,&#39;client&#39;:&#39;fanyideskweb&#39;,&#39;salt&#39;:&#39;15477056211258&#39;,&#39;sign&#39;:&#39;b3589f32c38bc9e3876a570b8a992604&#39;,&#39;ts&#39;:&#39;1547705621125&#39;,&#39;bv&#39;:&#39;b33a2f3f9d09bde064c9275bcb33d94e&#39;,&#39;doctype&#39;:&#39;json&#39;,&#39;version&#39;:&#39;2.1&#39;,&#39;keyfrom&#39;:&#39;fanyi.web&#39;,&#39;action&#39;:&#39;FY_BY_REALTIME&#39;,&#39;typoResult&#39;:&#39;false&#39;&#125;    #请求表单数据    response &#x3D; requests.post(url,data&#x3D;From_data)    #将Json格式字符串转字典    content &#x3D; json.loads(response.text)    print(content)    #打印翻译后的数据    #print(content[&#39;translateResult&#39;][0][0][&#39;tgt&#39;])if __name__&#x3D;&#x3D;&#39;__main__&#39;:    get_translate_date(&#39;我爱中国&#39;)</span><br></pre></td></tr></table></figure><h2 id="使用-Beautiful-Soup-解析网页"><a href="#使用-Beautiful-Soup-解析网页" class="headerlink" title="使用 Beautiful Soup 解析网页"></a>使用 Beautiful Soup 解析网页</h2><p>通过 requests 库已经可以抓到网页源码，接下来要从源码中找到并提取数据。Beautiful Soup 是 python 的一个库，其最主要的功能是从网页中抓取数据。Beautiful Soup 目前已经被移植到 bs4 库中，也就是说在导入 Beautiful Soup 时需要先安装 bs4 库。</p><p>安装 bs4 库的方式如图 16 所示:</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA15bD.gif" alt="img"><br>图 16</p><p>安装好 bs4 库以后，还需安装 lxml 库。如果我们不安装 lxml 库，就会使用 Python 默认的解析器。尽管 Beautiful Soup 既支持 Python 标准库中的 HTML 解析器又支持一些第三方解析器，但是 lxml 库具有功能更加强大、速度更快的特点，因此笔者推荐安装 lxml 库。</p><p>安装 Python 第三方库后，输入下面的代码，即可开启 Beautiful Soup 之旅：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import requests        #导入requests包from bs4 import    BeautifulSoupurl&#x3D;&#39;http:&#x2F;&#x2F;www.cntour.cn&#x2F;&#39;strhtml&#x3D;requests.get(url)soup&#x3D;BeautifulSoup(strhtml.text,&#39;lxml&#39;)data &#x3D; soup.select(&#39;#main&gt;div&gt;div.mtop.firstMod.clearfix&gt;div.centerBox&gt;ul.newsList&gt;li&gt;a&#39;)print(data)</span><br></pre></td></tr></table></figure><p>代码运行结果如图 17 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA244Q8.jpg" alt="img"><br>图 17（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA30cY.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p><p>Beautiful Soup 库能够轻松解析网页信息，它被集成在 bs4 库中，需要时可以从 bs4 库中调用。其表达语句如下：</p><p>from bs4 import BeautifulSoup</p><p>首先，HTML 文档将被转换成 Unicode 编码格式，然后 Beautiful Soup 选择最合适的解析器来解析这段文档，此处指定 lxml 解析器进行解析。解析后便将复杂的 HTML 文档转换成树形结构，并且每个节点都是 Python 对象。这里将解析后的文档存储到新建的变量 soup 中，代码如下：</p><p>soup=BeautifulSoup(strhtml.text,’lxml’)</p><p>接下来用 select（选择器）定位数据，定位数据时需要使用浏览器的开发者模式，将鼠标光标停留在对应的数据位置并右击，然后在快捷菜单中选择“检查”命令，如图 18 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA40T17.gif" alt="img"><br>图 18</p><p>随后在浏览器右侧会弹出开发者界面，右侧高亮的代码（参见图 19(b)）对应着左侧高亮的数据文本（参见图 19(a)）。右击右侧高亮数据，在弹出的快捷菜单中选择“Copy”➔“Copy Selector”命令，便可以自动复制路径。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA45JN.gif" alt="img"><br>图 19 复制路径</p><p>将路径粘贴在文档中，代码如下:</p><p>#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li:nth-child(1) &gt; a</p><p>由于这条路径是选中的第一条的路径，而我们需要获取所有的头条新闻，因此将 li：nth-child（1）中冒号（包含冒号）后面的部分删掉，代码如下：</p><p>#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li &gt; a</p><p>使用 soup.select 引用这个路径，代码如下：</p><p>data = soup.select(‘#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li &gt; a’)</p><h2 id="清洗和组织数据"><a href="#清洗和组织数据" class="headerlink" title="清洗和组织数据"></a>清洗和组织数据</h2><p>至此，获得了一段目标的 HTML 代码，但还没有把数据提取出来，接下来在 PyCharm 中输入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for item in data:    result&#x3D;&#123;        &#39;title&#39;:item.get_text(),        &#39;link&#39;:item.get(&#39;href&#39;)    &#125;print(result)</span><br></pre></td></tr></table></figure><p>代码运行结果如图 20 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA60R06.gif" alt="img"><br>图 20（<a href="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GA629403.jpg" target="_blank" rel="noopener">点此查看高清大图</a>）</p><p>首先明确要提取的数据是标题和链接，标题在＜a＞标签中，提取标签的正文用 get_text() 方法。链接在＜a＞标签的 href 属性中，提取标签中的 href 属性用 get() 方法，在括号中指定要提取的属性数据，即 get(＇href＇)。</p><p>从图 20 中可以发现，文章的链接中有一个数字 ID。下面用正则表达式提取这个 ID。需要使用的正则符号如下:</p><p>\d匹配数字<br>+匹配前一个字符1次或多次</p><p>在 Python 中调用正则表达式时使用 re 库，这个库不用安装，可以直接调用。在 PyCharm 中输入以下代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import refor item in data:    result&#x3D;&#123;        &quot;title&quot;:item.get_text(),        &quot;link&quot;:item.get(&#39;href&#39;),        &#39;ID&#39;:re.findall(&#39;\d+&#39;,item.get(&#39;href&#39;))    &#125;print(result)</span><br></pre></td></tr></table></figure><p>运行结果如图 21 所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GAHKD.jpg" alt="img"><br>图 21</p><p>这里使用 re 库的 findall 方法，第一个参数表示正则表达式，第二个参数表示要提取的文本。</p><h2 id="爬虫攻防战"><a href="#爬虫攻防战" class="headerlink" title="爬虫攻防战"></a>爬虫攻防战</h2><p>爬虫是模拟人的浏览访问行为，进行数据的批量抓取。当抓取的数据量逐渐增大时，会给被访问的服务器造成很大的压力，甚至有可能崩溃。换句话就是说，服务器是不喜欢有人抓取自己的数据的。那么，网站方面就会针对这些爬虫者，采取一些反爬策略。</p><p>服务器第一种识别爬虫的方式就是通过检查连接的 useragent 来识别到底是浏览器访问，还是代码访问的。如果是代码访问的话，访问量增大时，服务器会直接封掉来访 IP。</p><p>那么应对这种初级的反爬机制，我们应该采取何种举措？</p><p>还是以前面创建好的爬虫为例。在进行访问时，我们在开发者环境下不仅可以找到 URL、Form Data，还可以在 Request headers 中构造浏览器的请求头，封装自己。服务器识别浏览器访问的方法就是判断 keyword 是否为 Request headers 下的 User-Agent，如图 22 所示。</p><p><img src="http://c.biancheng.net/uploads/allimg/190117/2-1Z11GAR3P1.jpg" alt="img"><br>图 22</p><p>因此，我们只需要构造这个请求头的参数。创建请求头部信息即可，代码如下：</p><p>headers={‘User-Agent’:’Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36’}<br>response = request.get(url,headers=headers)</p><p>写到这里，很多读者会认为修改 User-Agent 很太简单。确实很简单，但是正常人1秒看一个图，而个爬虫1秒可以抓取好多张图，比如 1 秒抓取上百张图，那么服务器的压力必然会增大。也就是说，如果在一个 IP 下批量访问下载图片，这个行为不符合正常人类的行为，肯定要被封 IP。</p><p>其原理也很简单，就是统计每个IP的访问频率，该频率超过阈值，就会返回一个验证码，如果真的是用户访问的话，用户就会填写，然后继续访问，如果是代码访问的话，就会被封 IP。</p><p>这个问题的解决方案有两个，第一个就是常用的增设延时，每 3 秒钟抓取一次，代码如下：</p><p>import time<br>time.sleep(3)</p><p>但是，我们写爬虫的目的是为了高效批量抓取数据，这里设置 3 秒钟抓取一次，效率未免太低。其实，还有一个更重要的解决办法，那就是从本质上解决问题。</p><p>不管如何访问，服务器的目的就是查出哪些为代码访问，然后封锁 IP。解决办法：为避免被封 IP，在数据采集时经常会使用代理。当然，requests 也有相应的 proxies 属性。</p><p>首先，构建自己的代理 IP 池，将其以字典的形式赋值给 proxies，然后传输给 requests，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxies&#x3D;&#123;    &quot;http&quot;:&quot;http:&#x2F;&#x2F;10.10.1.10:3128&quot;,    &quot;https&quot;:&quot;http:&#x2F;&#x2F;10.10.1.10:1080&quot;,&#125;response &#x3D; requests.get(url, proxies&#x3D;proxies)</span><br></pre></td></tr></table></figure><h2 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h2><p>本文仅对 Python 爬虫及实现过程做了简明扼要地介绍，仅能使初学者对 python 爬虫有一个浅显的认识，并不能让你完全掌握 Python 爬虫。</p><p>如果你想对 Python 爬虫有更深入的了解，我推荐你阅读：</p><ul><li><a href="https://www.cnblogs.com/Albert-Lee/p/6226699.html" target="_blank" rel="noopener">Python爬虫入门教程 </a></li><li><a href="https://blog.csdn.net/c406495762/article/details/78123502" target="_blank" rel="noopener">Python3网络爬虫入门教程</a></li><li><a href="http://www.imooc.com/learn/563" target="_blank" rel="noopener">Python爬虫教程——慕课网</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python pip</title>
    <link href="http://yoursite.com/2020/06/13/Python-pip/"/>
    <id>http://yoursite.com/2020/06/13/Python-pip/</id>
    <published>2020-06-13T11:56:46.000Z</published>
    <updated>2020-06-13T11:57:22.897Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> pip 是 Python 包管理工具，该工具提供了对Python 包的查找、下载、安装、卸载的功能。</p><p>目前如果你在 <a href="https://www.python.org/" target="_blank" rel="noopener">python.org</a> 下载最新版本的安装包，则是已经自带了该工具。</p><p>Python 2.7.9 + 或 Python 3.4+ 以上版本都自带 pip 工具。</p><p>pip 官网：<a href="https://pypi.org/project/pip/" target="_blank" rel="noopener">https://pypi.org/project/pip/</a></p><p>你可以通过以下命令来判断是否已安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip --version</span><br></pre></td></tr></table></figure><p>如果你还未安装，则可以使用以下方法来安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl https:&#x2F;&#x2F;bootstrap.pypa.io&#x2F;get-pip.py -o get-pip.py   # 下载安装脚本</span><br><span class="line">$ sudo python get-pip.py    # 运行安装脚本</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong>用哪个版本的 Python 运行安装脚本，pip 就被关联到哪个版本，如果是 Python3 则执行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo python3 get-pip.py    # 运行安装脚本。</span><br></pre></td></tr></table></figure><p>一般情况 pip 对应的是 Python 2.7，pip3 对应的是 Python 3.x。</p></blockquote><p>部分 Linux 发行版可直接用包管理器安装 pip，如 Debian 和 Ubuntu：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-pip</span><br></pre></td></tr></table></figure><h3 id="pip-最常用命令"><a href="#pip-最常用命令" class="headerlink" title="pip 最常用命令"></a>pip 最常用命令</h3><p><strong>显示版本和路径</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip --version</span><br></pre></td></tr></table></figure><p><strong>获取帮助</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip --help</span><br></pre></td></tr></table></figure><p><strong>升级 pip</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U pip</span><br></pre></td></tr></table></figure><blockquote><p>如果这个升级命令出现问题 ，可以使用以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo easy_install --upgrade pip</span><br></pre></td></tr></table></figure></blockquote><p><strong>安装包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install SomePackage              # 最新版本</span><br><span class="line">pip install SomePackage&#x3D;&#x3D;1.0.4       # 指定版本</span><br><span class="line">pip install &#39;SomePackage&gt;&#x3D;1.0.4&#39;     # 最小版本</span><br></pre></td></tr></table></figure><p>比如我要安装 Django。用以下的一条命令就可以，方便快捷。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Django&#x3D;&#x3D;1.7</span><br></pre></td></tr></table></figure><p><strong>升级包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade SomePackage</span><br></pre></td></tr></table></figure><p>升级指定的包，通过使用==, &gt;=, &lt;=, &gt;, &lt; 来指定一个版本号。</p><p><strong>卸载包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall SomePackage</span><br></pre></td></tr></table></figure><p><strong>搜索包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip search SomePackage</span><br></pre></td></tr></table></figure><p><strong>显示安装包信息</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip show</span><br></pre></td></tr></table></figure><p><strong>查看指定包的详细信息</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip show -f SomePackage</span><br></pre></td></tr></table></figure><p><strong>列出已安装的包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip list</span><br></pre></td></tr></table></figure><p><strong>查看可升级的包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip list -o</span><br></pre></td></tr></table></figure><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>如果 Python2 和 Python3 同时有 pip，则使用方法如下：</p><p>Python2：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2 -m pip install XXX</span><br></pre></td></tr></table></figure><p>Python3:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install XXX</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python PyInstaller</title>
    <link href="http://yoursite.com/2020/06/13/Python-PyInstaller/"/>
    <id>http://yoursite.com/2020/06/13/Python-PyInstaller/</id>
    <published>2020-06-13T11:55:39.000Z</published>
    <updated>2020-06-13T11:56:14.005Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 在创建了独立应用（自包含该应用的依赖包）之后，还可以使用 PyInstaller 将 <a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 程序生成可直接运行的程序，这个程序就可以被分发到对应的 Windows 或 Mac OS X 平台上运行。</p><h2 id="安装-PyInstalle"><a href="#安装-PyInstalle" class="headerlink" title="安装 PyInstalle"></a>安装 PyInstalle</h2><p>Python 默认并不包含 PyInstaller 模块，因此需要自行安装 PyInstaller 模块。</p><p>安装 PyInstaller 模块与安装其他 Python 模块一样，使用 pip 命令安装即可。在命令行输入如下命令：</p><p>pip install pyinstaller</p><p>强烈建议使用 pip 在线安装的方式来安装 PyInstaller 模块，不要使用离线包的方式来安装，因为 PyInstaller 模块还依赖其他模块，pip 在安装 PyInstaller 模块时会先安装它的依赖模块。</p><p>运行上面命令，应该看到如下输出结果：</p><p>Successfully installed pyinstaller-x.x.x</p><p>其中的 x.x.x 代表 PyInstaller 的版本。</p><p>在 PyInstaller 模块安装成功之后，在 Python 的安装目录下的 <code>Scripts(D:\Python\Python36\Scripts)</code> 目录下会增加一个 pyinstaller.exe 程序，接下来就可以使用该工具将 Python 程序生成 EXE 程序了。</p><h2 id="PyInstaller生成可执行程序"><a href="#PyInstaller生成可执行程序" class="headerlink" title="PyInstaller生成可执行程序"></a>PyInstaller生成可执行程序</h2><p>PyInstaller 工具的命令语法如下：</p><p>pyinstaller 选项 Python 源文件</p><p>不管这个 Python 应用是单文件的应用，还是多文件的应用，只要在使用 pyinstaller 命令时编译作为程序入口的 Python 程序即可。</p><p>PyInstaller工具是跨平台的，它既可以在 Windows平台上使用，也可以在 Mac OS X 平台上运行。在不同的平台上使用 PyInstaller 工具的方法是一样的，它们支持的选项也是一样的。</p><p>下面先创建一个 app 目录，在该目录下创建一个 app.py 文件，文件中包含如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from say_hello import *def main():    print(&#39;程序开始执行&#39;)    print(say_hello(&#39;孙悟空&#39;))# 增加调用main()函数if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()</span><br></pre></td></tr></table></figure><p>接下来使用命令行工具进入到此 app 目录下，执行如下命令：</p><p>pyinstaller -F app.py</p><p>执行上面命令，将看到详细的生成过程。当生成完成后，将会在此 app 目录下看到多了一个 dist 目录，并在该目录下看到有一个 app.exe 文件，这就是使用 PyInstaller 工具生成的 EXE 程序。</p><p>在命令行窗口中进入 dist 目录下，在该目录执行 app.exe ，将会看到该程序生成如下输出结果：</p><p>程序开始执行<br>孙悟空，您好！</p><p>由于该程序没有图形用户界面，因此如果读者试图通过双击来运行该程序，则只能看到程序窗口一闪就消失了，这样将无法看到该程序的输出结果。</p><p>在上面命令中使用了-F 选项，该选项指定生成单独的 EXE 文件，因此，在 dist 目录下生成了一个单独的大约为 6MB 的 app.exe 文件（在 Mac OS X 平台上生成的文件就叫 app，没有后缀）；与 -F 选项对应的是 -D 选项（默认选项），该选项指定生成一个目录（包含多个文件）来作为程序。</p><p>下面先将 PyInstaller 工具在 app 目录下生成的 build、dist 目录删除，并将 app.spec 文件也删除，然后使用如下命令来生成 EXE 文件。</p><p>pyinstaller -D app.py</p><p>执行上面命令，将看到详细的生成过程。当生成完成后，将会在 app 目录下看到多了一个 dist 目录，并在该目录下看到有一个 app 子目录，在该子目录下包含了大量 .dll 文件和 .pyz 文件，它们都是 app.exe 程序的支撑文件。在命令行窗口中运行该 app.exe 程序，同样可以看到与前一个 app.exe 程序相同的输出结果。</p><p>PyInstaller 不仅支持 -F、-D 选项，而且也支持如表 1 所示的常用选项。</p><table><thead><tr><th>-h，–help</th><th>查看该模块的帮助信息</th></tr></thead><tbody><tr><td>-F，-onefile</td><td>产生单个的可执行文件</td></tr><tr><td>-D，–onedir</td><td>产生一个目录（包含多个文件）作为可执行程序</td></tr><tr><td>-a，–ascii</td><td>不包含 Unicode 字符集支持</td></tr><tr><td>-d，–debug</td><td>产生 debug 版本的可执行文件</td></tr><tr><td>-w，–windowed，–noconsolc</td><td>指定程序运行时不显示命令行窗口（仅对 Windows 有效）</td></tr><tr><td>-c，–nowindowed，–console</td><td>指定使用命令行窗口运行程序（仅对 Windows 有效）</td></tr><tr><td>-o DIR，–out=DIR</td><td>指定 spec 文件的生成目录。如果没有指定，则默认使用当前目录来生成 spec 文件</td></tr><tr><td>-p DIR，–path=DIR</td><td>设置 Python 导入模块的路径（和设置 PYTHONPATH 环境变量的作用相似）。也可使用路径分隔符（Windows 使用分号，Linux 使用冒号）来分隔多个路径</td></tr><tr><td>-n NAME，–name=NAME</td><td>指定项目（产生的 spec）名字。如果省略该选项，那么第一个脚本的主文件名将作为 spec 的名字</td></tr></tbody></table><p>在表 1 中列出的只是 PyInstaller 模块所支持的常用选项，如果需要了解 PyInstaller 选项的详细信息，则可通过 pyinstaller -h 来查看。</p><p>下面再创建一个带图形用户界面，可以访问 <a href="http://c.biancheng.net/mysql/" target="_blank" rel="noopener">MySQL</a> 数据库的应用程序。</p><p>在 app 当前所在目录再创建一个 dbapp 目录，并在该目录下创建 Python 程序，其中 exec_select.py 程序负责查询数据，main.py 程序负责创建图形用户界面来显示查询结果。</p><p>exec_select.py 文件包含的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 导入访问MySQL的模块import mysql.connectordef query_db():    # ①、连接数据库    conn &#x3D; conn &#x3D; mysql.connector.connect(user&#x3D;&#39;root&#39;, password&#x3D;&#39;32147&#39;,        host&#x3D;&#39;localhost&#39;, port&#x3D;&#39;3306&#39;,        database&#x3D;&#39;python&#39;, use_unicode&#x3D;True)    # ②、获取游标    c &#x3D; conn.cursor()    # ③、调用执行select语句查询数据    c.execute(&#39;select * from user_tb where user_id &gt; %s&#39;, (2,))    # 通过游标的description属性获取列信息    description &#x3D; c.description    # 使用fetchall获取游标中的所有结果集    rows &#x3D; c.fetchall()    # ④、关闭游标    c.close()    # ⑤、关闭连接    conn.close()    return description, rows</span><br></pre></td></tr></table></figure><p>mian.py 文件包含的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from exec_select import *from tkinter import *def main():    description, rows &#x3D; query_db()    # 创建窗口    win &#x3D; Tk()    win.title(&#39;数据库查询&#39;)    # 通过description获取列信息    for i, col in enumerate(description):        lb &#x3D; Button(win, text&#x3D;col[0], padx&#x3D;50, pady&#x3D;6)        lb.grid(row&#x3D;0, column&#x3D;i)    # 直接使用for循环查询得到的结果集    for i, row in enumerate(rows):        for j in range(len(row)):            en &#x3D; Label(win, text&#x3D;row[j])            en.grid(row&#x3D;i+1, column&#x3D;j)    win.mainloop()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()</span><br></pre></td></tr></table></figure><p>通过命令行工具进入 dbapp 目录下，在该目录下执行如下命令：</p><p>Pyinstaller -F -w main.py</p><p>上面命令中的 -F 选项指定生成单个的可执行程序，-w 选项指定生成图形用户界面程序（不需要命令行界面）。运行上面命令，该工具同样在 dbapp 目录下生成了一个 dist 子目录，并在该子目录下生成了一个 main.exe 文件。</p><p>直接双击运行 main.exe 程序（该程序有图形用户界面，因此可以双击运行），读者可自行查看运行结果。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>python爬虫爬取小姐姐图片</title>
    <link href="http://yoursite.com/2020/06/13/python%E7%88%AC%E8%99%AB%E7%88%AC%E5%8F%96%E5%B0%8F%E5%A7%90%E5%A7%90%E5%9B%BE%E7%89%87/"/>
    <id>http://yoursite.com/2020/06/13/python%E7%88%AC%E8%99%AB%E7%88%AC%E5%8F%96%E5%B0%8F%E5%A7%90%E5%A7%90%E5%9B%BE%E7%89%87/</id>
    <published>2020-06-13T11:29:49.000Z</published>
    <updated>2020-06-13T11:54:01.011Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 接触爬虫的第一天<br>第一步：现将python环境搭建好，工欲利其事必先利其器！<br>第二步：寻找目标网站，我选择的网站是<a href="http://www.win4000.com，里面有一个美女板块，里面有各种小姐姐的照片（你懂的）" target="_blank" rel="noopener">http://www.win4000.com，里面有一个美女板块，里面有各种小姐姐的照片（你懂的）</a><br><img src="https://img-blog.csdnimg.cn/20190328090620771.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0ODEwOTkx,size_16,color_FFFFFF,t_70" alt="网站部分截图"></p><p>第三步：分析目标网站的html源码及网页规则<br>通过分析我发现，该网页每个人物的每个图片都是<br><a href="http://www.win4000.com/meinv1_2.html" target="_blank" rel="noopener">http://www.win4000.com/meinv1_2.html</a><br><a href="http://www.win4000.com/meinv1_3.html" target="_blank" rel="noopener">http://www.win4000.com/meinv1_3.html</a><br><a href="http://www.win4000.com/meinv2_1.html" target="_blank" rel="noopener">http://www.win4000.com/meinv2_1.html</a><br><a href="http://www.win4000.com/meinv2_2.html" target="_blank" rel="noopener">http://www.win4000.com/meinv2_2.html</a><br>并且所有图片地址都存放在一个<img src="" alt="img">中<br><img src="https://img-blog.csdnimg.cn/201903280950561.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0ODEwOTkx,size_16,color_FFFFFF,t_70" alt="网页分析"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup   <span class="comment">#引用BeautifulSoup库</span></span><br><span class="line"><span class="keyword">import</span> requests                 <span class="comment">#引用requests</span></span><br><span class="line"><span class="keyword">import</span> os                       <span class="comment">#os</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">os.system (<span class="string">"title Py爬取小姐姐，李天行版权所有"</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"爬取的图片都在D:/img文件夹下"</span>)</span><br><span class="line">root = <span class="string">'D://img//'</span>              <span class="comment">#配置存储路径，我配置的是自己电脑中的D:/img文件夹</span></span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">1000</span>):      <span class="comment">#配置爬取页码，我这边配置的是1000个人的图片</span></span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">20</span>):       <span class="comment">#配置爬取每个人多少张的参数，我这边配置的是每个人20张</span></span><br><span class="line">        url = <span class="string">'http://www.win4000.com/meinv'</span>+str(page)+<span class="string">'_'</span>+str(p)+<span class="string">'.html'</span></span><br><span class="line">        r = requests.get(url)                       <span class="comment">#使用requests中的get方法获取整个网页</span></span><br><span class="line">        r.encoding=<span class="string">'utf-8'</span>                          <span class="comment">#设定网页所使用的编码方式，错误的编码方式会导致乱码</span></span><br><span class="line">        <span class="keyword">if</span> r.status_code!=<span class="number">404</span>:                      <span class="comment">#判断生成后的链接是不是能访问，只有能访问才能爬取下载</span></span><br><span class="line">            demo = r.text                           <span class="comment">#将爬取后的对象通过text方法提取出所有的html</span></span><br><span class="line">            soup = BeautifulSoup(demo, <span class="string">"html.parser"</span>)<span class="comment">#使用BeautifulSoup库进行整合，第二个参数使用lxml一样的，lxml兼容性好较好，速度较快</span></span><br><span class="line">            text = soup.find_all(<span class="string">'img'</span>,class_ = <span class="string">'pic-large'</span>)<span class="comment">#选取整合后我们需要的部分内容，选取后的数据为list数组</span></span><br><span class="line">            <span class="keyword">for</span> img <span class="keyword">in</span> text:</span><br><span class="line">                imagr_url = img.get(<span class="string">'data-original'</span>)        <span class="comment">#取出img标签中data-original中的值</span></span><br><span class="line">                file_name = root + imagr_url.split(<span class="string">'/'</span>)[<span class="number">-1</span>] <span class="comment">#取出图片地址中文件及文件扩展名与本地存储路径进行拼接</span></span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(root):            <span class="comment">#判断文件夹是否存在，不存在则创建文件夹</span></span><br><span class="line">                        os.mkdir(root)</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(file_name):       <span class="comment">#判断图片文件是否存在，存在则进行提示</span></span><br><span class="line">                        s = requests.get(imagr_url)         <span class="comment">#通过requests.get方式获取文件</span></span><br><span class="line">                        <span class="comment"># 使用with语句可以不用自己手动关闭已经打开的文件流</span></span><br><span class="line">                        <span class="keyword">with</span> open(file_name, <span class="string">"wb"</span>) <span class="keyword">as</span> f:  <span class="comment"># 开始写文件，wb代表写二进制文件</span></span><br><span class="line">                            f.write(s.content)</span><br><span class="line">                        print(<span class="string">"爬取完成"</span>)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">"文件已存在"</span>)</span><br><span class="line">                <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                    print(<span class="string">"爬取失败:"</span> + str(e))</span><br></pre></td></tr></table></figure><p>哈哈哈哈大功告成，以下是成果展示<br><img src="https://img-blog.csdnimg.cn/20190328101902716.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI0ODEwOTkx,size_16,color_FFFFFF,t_70" alt="成果"></p><p>总结：<br>1、该方式爬取为单进程爬取，只能一张一张爬取<br>2、进行图片请求时一定要注意不要使用之前使用过的变量<br>3、细心、认真、不浮躁</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python爬取你想要的小姐姐</title>
    <link href="http://yoursite.com/2020/06/13/Python%E7%88%AC%E5%8F%96%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84%E5%B0%8F%E5%A7%90%E5%A7%90/"/>
    <id>http://yoursite.com/2020/06/13/Python%E7%88%AC%E5%8F%96%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84%E5%B0%8F%E5%A7%90%E5%A7%90/</id>
    <published>2020-06-13T10:57:41.000Z</published>
    <updated>2020-06-13T11:23:39.013Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 一、准备</p><p>\1. 原地址</p><p><img src="https://img2018.cnblogs.com/blog/1165798/201907/1165798-20190729104958421-1351663805.png" alt="img"></p><p>\2. 检查html发现，网页是有规则的分页, 最大图片的class为pic-large</p><p>二、代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"> 1 import requests</span><br><span class="line"> 2 import os</span><br><span class="line"> 3 from bs4 import BeautifulSoup</span><br><span class="line"> 4 </span><br><span class="line"> 5 url &#x3D; &#39;http:&#x2F;&#x2F;www.win4000.com&#x2F;wallpaper_detail_157712.html&#39;</span><br><span class="line"> 6 imgmkdir &#x3D; &#39;D:&#x2F;&#x2F;Download&#x2F;&#x2F;ghost_1&#x2F;&#x2F;&#39;</span><br><span class="line"> 7 </span><br><span class="line"> 8 </span><br><span class="line"> 9 # 获取网页url</span><br><span class="line">10 def getUrlList():</span><br><span class="line">11     imgUrlList &#x3D; []</span><br><span class="line">12     for i in range(0, 10):</span><br><span class="line">13         imgUrl &#x3D; &#39;&#39;</span><br><span class="line">14         url_split &#x3D; url.split(&#39;.html&#39;)</span><br><span class="line">15         if not i &#x3D;&#x3D; 0:</span><br><span class="line">16             imgUrl +&#x3D; url_split[0] + &#39;_&#39; + str(i) + &#39;.html&#39;</span><br><span class="line">17             # print(imgUrl)</span><br><span class="line">18             imgUrlList.append(imgUrl)</span><br><span class="line">19 </span><br><span class="line">20     return imgUrlList</span><br><span class="line">21 </span><br><span class="line">22 </span><br><span class="line">23 # 下载图片</span><br><span class="line">24 def downImg(imgUrl):</span><br><span class="line">25     try:</span><br><span class="line">26         if not os.path.exists(imgmkdir):</span><br><span class="line">27             os.mkdir(imgmkdir)</span><br><span class="line">28         if not os.path.exists(imgUrl):</span><br><span class="line">29             r &#x3D; requests.get(imgUrl)</span><br><span class="line">30             r.raise_for_status()</span><br><span class="line">31             # 使用with语句可以不用自己手动关闭已经打开的文件流</span><br><span class="line">32             imgpath &#x3D; imgmkdir + imgUrl.split(&#39;&#x2F;&#39;)[-1]</span><br><span class="line">33             # 开始写文件, wb表示写二进制文件</span><br><span class="line">34             with open(imgpath, &#39;wb&#39;) as f:</span><br><span class="line">35                 f.write(r.content)</span><br><span class="line">36             print(imgUrl + &#39;【爬取完成】&#39;)</span><br><span class="line">37         else:</span><br><span class="line">38             print(imgUrl.split(&#39;&#x2F;&#39;)[-1] + &#39;【文件已存在】&#39;)</span><br><span class="line">39     except Exception as e:</span><br><span class="line">40         print(&quot;爬取失败&quot; + str(e))</span><br><span class="line">41 </span><br><span class="line">42 </span><br><span class="line">43 # 获取imgHtml标签</span><br><span class="line">44 def getcontent(soup):</span><br><span class="line">45     for i in soup.find_all(&#39;img&#39;, class_&#x3D;&#39;pic-large&#39;):</span><br><span class="line">46         imgsrc &#x3D; i[&#39;src&#39;]</span><br><span class="line">47         if imgsrc.find(&#39;http&#39;) &gt;&#x3D; 0 or imgsrc.find(&#39;https&#39;) &gt;&#x3D; 0:</span><br><span class="line">48             # 下载图片</span><br><span class="line">49             downImg(imgsrc)</span><br><span class="line">50 </span><br><span class="line">51 </span><br><span class="line">52 # 根据url获取html源码</span><br><span class="line">53 def getHtmlByUrl(htmlUrl):</span><br><span class="line">54     htmlText &#x3D; requests.get(htmlUrl).content</span><br><span class="line">55     # 使用beautifulSoup解析html</span><br><span class="line">56     soup &#x3D; BeautifulSoup(htmlText, &#39;lxml&#39;)</span><br><span class="line">57 </span><br><span class="line">58     return soup</span><br><span class="line">59 </span><br><span class="line">60 </span><br><span class="line">61 def main():</span><br><span class="line">62     htmlUrlList &#x3D; getUrlList()</span><br><span class="line">63     for url in htmlUrlList:</span><br><span class="line">64         htmltext &#x3D; getHtmlByUrl(url)</span><br><span class="line">65         getcontent(htmltext)</span><br><span class="line">66 </span><br><span class="line">67 </span><br><span class="line">68 if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">69     main()</span><br></pre></td></tr></table></figure><p>三、结果</p><p><img src="https://img2018.cnblogs.com/blog/1165798/201907/1165798-20190729105255294-118786208.png" alt="img"></p><p>四、总结</p><p>　　代码用比较笨的方法来获取，先试水</p><p>五、本人（副社长）升级的代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*-coding:utf-8-*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_157712.html'</span></span><br><span class="line">a=<span class="number">0</span></span><br><span class="line">imgmkdir = <span class="string">'D://迅雷下载//'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取网页url</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getUrlList</span><span class="params">()</span>:</span></span><br><span class="line">    imgUrlList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">        imgUrl = <span class="string">''</span></span><br><span class="line">        url_split = url.split(<span class="string">'.html'</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> i == <span class="number">0</span>:</span><br><span class="line">            imgUrl += url_split[<span class="number">0</span>] + <span class="string">'_'</span> + str(i) + <span class="string">'.html'</span></span><br><span class="line">            <span class="comment"># print(imgUrl)</span></span><br><span class="line">            imgUrlList.append(imgUrl)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> imgUrlList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载图片</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downImg</span><span class="params">(imgUrl)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(imgmkdir):</span><br><span class="line">            os.mkdir(imgmkdir)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(imgUrl):</span><br><span class="line">            r = requests.get(imgUrl)</span><br><span class="line">            r.raise_for_status()</span><br><span class="line">            <span class="comment"># 使用with语句可以不用自己手动关闭已经打开的文件流</span></span><br><span class="line">            imgpath = imgmkdir + imgUrl.split(<span class="string">'/'</span>)[<span class="number">-1</span>]</span><br><span class="line">            <span class="comment"># 开始写文件, wb表示写二进制文件</span></span><br><span class="line">            <span class="keyword">with</span> open(imgpath, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(r.content)</span><br><span class="line">            print(imgUrl + <span class="string">'【爬取完成】'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(imgUrl.split(<span class="string">'/'</span>)[<span class="number">-1</span>] + <span class="string">'【文件已存在】'</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"爬取失败"</span> + str(e))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取imgHtml标签</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getcontent</span><span class="params">(soup)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> soup.find_all(<span class="string">'img'</span>, class_=<span class="string">'pic-large'</span>):</span><br><span class="line">        imgsrc = i[<span class="string">'src'</span>]</span><br><span class="line">        <span class="keyword">if</span> imgsrc.find(<span class="string">'http'</span>) &gt;= <span class="number">0</span> <span class="keyword">or</span> imgsrc.find(<span class="string">'https'</span>) &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># 下载图片</span></span><br><span class="line">            downImg(imgsrc)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据url获取html源码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHtmlByUrl</span><span class="params">(htmlUrl)</span>:</span></span><br><span class="line">    htmlText = requests.get(htmlUrl).content</span><br><span class="line">    <span class="comment"># 使用beautifulSoup解析html</span></span><br><span class="line">    soup = BeautifulSoup(htmlText, <span class="string">'lxml'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> soup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    htmlUrlList = getUrlList()</span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> htmlUrlList:</span><br><span class="line">        htmltext = getHtmlByUrl(url)</span><br><span class="line">        getcontent(htmltext)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">main()</span><br><span class="line"><span class="keyword">if</span> a==<span class="number">0</span>:</span><br><span class="line">a=<span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">1</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169808.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">2</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169594.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">3</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169553.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">4</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169629.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">5</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169317.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">6</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169116.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">7</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_169163.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">8</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_168984.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">9</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_168684.html'</span></span><br><span class="line"><span class="keyword">if</span> a==<span class="number">10</span>:</span><br><span class="line">url = <span class="string">'http://www.win4000.com/wallpaper_detail_168524.html'</span></span><br><span class="line">a=a+<span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python如何脱单（四）</title>
    <link href="http://yoursite.com/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E5%9B%9B%EF%BC%89/"/>
    <id>http://yoursite.com/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E5%9B%9B%EF%BC%89/</id>
    <published>2020-06-13T10:55:46.000Z</published>
    <updated>2020-06-13T10:56:28.585Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 哄女朋友最高的境界是什么？</p><p>除了用心之外，每天不重复的甜言蜜语必然是少不了的。虽然语文老师上学的时候也教了一些东西，但是日子长了必然“江郎才尽”。</p><p>大家都是混科技圈的，借助自动化的手段能不能一次性的解决问题呢？</p><p>嗯，显然是可以的。Github作为全球最大的同性交友网站，小伙伴们不仅可以在上面交流编程技巧，还能学到如何开发一个自动哄女友神器。</p><p><img src="https://img1.tuicool.com/2mQvmmR.png!web" alt="img"></p><p>先附上Github地址：</p><p><a href="https://github.com/sfyc23/EverydayWechat" target="_blank" rel="noopener">https://github.com/sfyc23/EverydayWechat</a></p><p>这个自动给女友发送微信暖心话的项目，已经连续霸榜Github趋势榜好几天了。作者用Python3和Itchat微信接口开发了一款小工具，可以定时给朋友发送每日天气、提醒、每日一句。通过调用图灵机器人，也可以智能自动回复信息。</p><p>操作简单且容易上手，即使是小白，只要配置好了Python环境，安装好必要的Python库，代码下载之后，只要CMD一下即可实现。</p><p>在手把手教大家操作之前，文摘菌先带大家看下效果~</p><p><img src="https://img2.tuicool.com/niMfArM.jpg!web" alt="img"></p><p>首先，我定的时间是22:20，一到时间文摘菌的账号就收到了发送的信息，包括英文和中文情话。北京的天气以及在一起的多少天。</p><p>调用图灵机器人之后，两个账号便可以对话，图灵机器人还算强大，当我发送：这是个测试之后，图灵机器人回复：你不放心我吗？☹☹☹☹</p><p>注：这个小工具的项目中的天气信息来自SOJSON API接口，暖心情话来自金山词霸上面的每日一句，带英文的哟~图灵机器人使用需要申请密钥，每天免费数量只有100条。如果使用超了。可使用青云客智能聊天机器人，这个不限制次数。</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>手把手教学实现哄女友神器</p><p>来吧，先视频演示一下使用教程~</p><p>首先，把Python安装好，并配置好环境，个人建议新手安装anaconda，具体安装教程，可自行谷歌搜索~</p><p>然后安装必要的Python库，环境配置好的同学可以直接用pip install +库名 进行安装。必须安装的库为：requests、beautifulsoup4、itchat、apscheduler、pyyaml、lxml、simplejson。记住了，小伙伴，一个库都不能少哟~</p><p>然后进入Github地址下载项目的全部文件（就是这么简单粗暴），解压过后，找到 _config.yaml 用Python IDE打开。然后进行一系列的配置~</p><p><img src="https://img1.tuicool.com/UZzUFzN.jpg!web" alt="img"></p><p>就是这个文件</p><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><p>一、配置自动回复机器人。</p><p>1.开启自动回复：</p><p><img src="https://img2.tuicool.com/IrYzAvq.png!web" alt="img"></p><p>将 is_auto_relay 设置为：True。</p><p>2.配置图灵机器人:</p><p><img src="https://img2.tuicool.com/3IBFNri.png!web" alt="img"></p><p>打开图灵机器人官网：<a href="http://www.turingapi.com" target="_blank" rel="noopener">http://www.turingapi.com</a> 进行注册。</p><p>创建机器人，得到 apikey，userid。</p><p>将 apikey，userid 填入到 _config.yaml 文件中的：</p><p>turing_conf:</p><p>apiKey: ‘你所获取apiKey’</p><p>userId: ‘你所获取的userId’</p><p>\3. 指定自动回复的好友名单:</p><p><img src="https://img1.tuicool.com/aeqqAzZ.png!web" alt="img"></p><p># 指定自动回复的好友名单。</p><p>auto_reply_names:</p><p>- ‘好友1’</p><p>- ‘好友2’</p><p>注意：</p><ol><li>只能自动回复文字类消息；</li><li>群消息自动回复还未现实。（待完成）；</li><li>如果消息发送太频繁，微信会限制登录网页端登录。放心，并不会封号；</li><li>并不是对所有人自动回复，只是回复auto_reply_names中的人。</li><li>当没有图灵机器人 apikey 与 UserId，或者数量超出时。会使用备用的青云客智能聊天机器人获取数据。</li></ol><h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><p>二、配置定时提醒</p><p>1.开启并设置提醒时间：</p><p><img src="https://img2.tuicool.com/NNbeUb3.png!web" alt="img"></p><p>如：</p><p>alarm_info:</p><p>is_alarm: True</p><p>#定时发送时间</p><p>alarm_timed: ‘9:30’</p><p>2.填写需要发送的好友。.</p><p><img src="https://img0.tuicool.com/Mni6R3Y.jpg!web" alt="img"></p><p>如：</p><p>girlfriend_infos:</p><p>- #女友微信昵称或者备注名，不能输入微信号。</p><p>wechat_name: ‘文摘菌’</p><p>#女友所在城市，用于发送天气。（可空）</p><p>city_name: ‘北京’</p><p># 从那天开始勾搭的（可空）(最终效果为：宝贝这是我们在一起的第 111 天)</p><p>start_date: ‘2019-06-13’</p><p># 后缀（可空）</p><p>sweet_words: ‘来自最爱你的我。’</p><p>#如果你有多个人需要发送，则参照这个样式，复制即可</p><p>#如不需要，则删除或注解下面所有的数据</p><p>- wechat_name: ‘happy’</p><p>city_name: ‘朝阳区’</p><p>start_date: ‘2018-11-11’</p><p>sweet_words: ‘来自你俊美的老公。’</p><p>然后，直接将run.py文件直接拖到命令窗口界面（视频中有演示），会出现二维码，扫描之后，实现网页登录。如下☟</p><p><img src="https://img1.tuicool.com/QZBV7fF.png!web" alt="img"></p><p>发送成功如下☟</p><p><img src="https://img1.tuicool.com/MRbIBny.png!web" alt="img"></p><p>自动回复成功如下☟</p><p><img src="https://img0.tuicool.com/3YNjUry.png!web" alt="img"></p><p>注意事项：</p><ul><li>检查是否是最新的代码，检查是否是 Python3.5+，检查依赖有没有安装完整。</li><li>先检查微信是否可登录 微信网页版，如网页端不能用，此项目也不能用。</li><li>请更新你的 itchat 为最新版本。</li><li>与微信相关的可以先去 itchat issues 是否有相似问题。</li><li>微信名只能是昵称或者备注名，不能输入微信号。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python如何脱单（三）</title>
    <link href="http://yoursite.com/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%B8%89%EF%BC%89/"/>
    <id>http://yoursite.com/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%B8%89%EF%BC%89/</id>
    <published>2020-06-13T10:54:28.000Z</published>
    <updated>2020-06-13T10:55:16.909Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 用 Python 制作的给父母天气预报提醒的小工具<a href="https://mp.weixin.qq.com/s/GrWQN6-gK49L8l0u37Tr7g" target="_blank" rel="noopener">天气变冷了，给父母制作一个天气提醒小助手</a>，这篇文章我同步到博客上之后，有读者在评论区留言，对于部分微信没有网页版接口，导致无法实现这个功能，这位读者建议，建议用发短信的方式，这样，就不会受限于微信的限制。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092934144-479241373.png" alt="img"></p><p>这是一个好方法，今天的教程就是教大家怎么发送免费短信给女朋友。</p><p>发送短信接口，我知道的常见的有两个平台，一个是 twilio，可以免费发短信 500 条，可发任意信息，一个是腾讯云，可以免费发短信 100 条，需要申请短信发送内容模板。</p><p>鉴于 twilio 免费次数多一些，所以，这次我们就 twilio来发送当天的天气信息给爸妈了。</p><h2 id="twilio注册"><a href="#twilio注册" class="headerlink" title="twilio注册"></a>twilio注册</h2><p>要发送短信，我们需要现在 twilio 官网注册一个账号。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.twilio.com&#x2F;</span><br></pre></td></tr></table></figure><p>点击 Sign Up 注册一个账号。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092934627-158366549.png" alt="img"></p><p>填写邮箱和密码等资料，提交后会有一个判断是否为机器人的验证，点击左右箭头使图案显示为正图就可以了。</p><p>再到刚才填写的邮箱中去验证下，需要填入手机号验证。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092934900-495766124.png" alt="img"></p><p>刚开始用了移动号发了两次都没有收到验证码，不知道什么原因，之后换了电信后就收到了验证码。</p><p>验证成功后会提示选择是否通过代码调用。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092935164-1675521922.png" alt="img"></p><p>选择 yes 后再选择对应的语言，我们当然是选择 Python 了。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092935397-521182981.png" alt="img"></p><h2 id="获取试用号"><a href="#获取试用号" class="headerlink" title="获取试用号"></a>获取试用号</h2><p>选择使用用途后，可以就可以获取一个试用的号码了，点击 Get a Trial Number 按钮。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092936849-343851043.jpg" alt="img"></p><p>我们可以看到系统给我提供的这个号码。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092938940-2049808357.png" alt="img"></p><p>点击确定后就会出现成功的页面，显示 Twilio 提供的号码，这个号码就是用来发送短信的。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092940255-380574474.png" alt="img"></p><p>获取号码成功后自动跳回到主页，下方有 Python 调用短信接口的示例。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092941497-621131960.png" alt="img"></p><p>进入接口调用说明后，我们看到右边直接由 Python 调用接口发短信的示例。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092943670-1408192322.png" alt="img"></p><p>我们直接拿来用即可，把代码中 account_sid 和 auth_token 替换成自己的，这个两个值在刚才显示号码那个页面。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092944969-887141862.png" alt="img"></p><p>再把 message 中的 body 换成你自己的文本，把发送信息的号码换成刚官方提供的号码。</p><h2 id="接收号验证"><a href="#接收号验证" class="headerlink" title="接收号验证"></a>接收号验证</h2><p>接收号码在使用前，需要在 Twilio 上验证下，点击右侧的 verified numbers 进入，添加号码。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092945492-369628442.png" alt="img"></p><p>因为这是免费版，所以只支持一个号码，如果之前有验证号码的话，我们需要点击右侧的 X 把这个号码号码删除才能添加新的号码。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092946052-463940193.png" alt="img"></p><p>点击验证号码的按钮后，在弹出的页面选择左下方的 text you instead，也就是用短信验证码来验证新添加的号码，你要发给女朋友，当然，这个接收的号码都填女朋友的了。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092947015-693148001.png" alt="img"></p><p>填入号码后，点击验证，等待验证码。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092947533-22826922.png" alt="img"></p><p>我分别试了移动号、联通号、电信号，发现电信号和联通卡能正常收到验证码通过验证，移动号发了几次都收不到验证码，卡里是有余额的，可能是移动卡不支持这个接口，大家可以试试。</p><h2 id="代码调试"><a href="#代码调试" class="headerlink" title="代码调试"></a>代码调试</h2><p>运行代码前，不要忘了把 twilio 库用 pip 命令安装下。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install twilio</span><br></pre></td></tr></table></figure><p>然后把代码中的几个值替换成自己的。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092949694-647622674.png" alt="img"></p><p>把刚才验证成功的号添加到代码中，运行代码，成功后就会收到发送的短信。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092951954-397835924.png" alt="img"></p><p>然后我们把之前的天气信息用短信发出去，当然你可以发送其他信息。这里我用之前的天气信息。</p><p>之前的代码中把微信相关的去掉，天气接口部分保留。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092952874-582747103.png" alt="img"></p><p>把其中的 key 换成自己的，具体操作详见这篇文章<a href="https://mp.weixin.qq.com/s/GrWQN6-gK49L8l0u37Tr7g" target="_blank" rel="noopener">天气变冷了，给父母制作一个天气提醒小助手</a>。</p><p>把刚才发送短信的内容替换成天气接口返回的信息 msg，定时操作的代码和之前一样。</p><p><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104092956985-1819179876.png" alt="img"></p><p>运行代码后的效果如下：<br><img src="https://img2018.cnblogs.com/blog/1229977/201911/1229977-20191104093000037-2038518608.png" alt="img"></p><p>同样，我还是把程序放在服务器上，第二天同一时间会继续发送当天的天气信息，我设置的是相隔 24 小时，当然，你可以改变相隔时间。</p><p>没有服务器的小伙伴可以看看腾讯云的双十一活动价了，88元一年，平时用来放放小工具，做个人网站是非常划算的。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python如何脱单（二）</title>
    <link href="http://yoursite.com/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://yoursite.com/2020/06/13/Python%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2020-06-13T10:52:40.000Z</published>
    <updated>2020-06-13T10:53:21.524Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> 七夕就要到了，在这个有情人终成眷属的好日子里，小安在这里给大家带来Python的小福利，在七夕利用Python制造两个人之间的甜蜜。二人世界里少不了属于两个人之间的甜言蜜语，而这些悄悄话也是记录了两个人从相识到相知再到在一起的甜蜜。</p><p>如果我们把这些甜言蜜语都收集起来，做成一个心爱的甜心，在七夕节的当天送给自己的另一半。这样既用心，而且还很甜蜜的操作，是不是很酷！说干就干，接下来，小安就带领大家，从数据的收集，再到数据的预处理，最终形成一个爱心展示，为大家制作一个七夕节的小惊喜。</p><p><strong><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafafJYoFH7OAhmUdTjo35vvJTvLpCGfzzK1PyqhibaFBFxKyrzAicHWibLWAuNXTESdJ0PKghyml9PqXjQ/640?wx_fmt=png" alt="640?wx_fmt=png">***</strong>*数据的准备****</p><p>首先，小安由于平时玩QQ比较多，所以决定以QQ来为大家做展示。这里小安怕会泄露个人的隐私，索性就以平时交流比较多的群聊天记录作为数据材料，大家只需要按照步骤来操作即可。</p><p>数据的获取，大家直接按照上图所示，找到自己的“目标”，然后右键，点击保存聊天记录即可，小安这里呢，将数据保存为txt文件，方便后续的操作。(因为小安是单身，没有mm跟我聊天，每天都是数据分析、机器学习研究和数据挖掘，所以只有技术的聊天）</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQJ1ghUqNwlpPeRJ0h3US8AvK28gbic3DwSPPVROVicibMhFnSIUHia16ypA/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p>保存的数据如下图所示：</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQgs1EyDS9edbgqeibZg1Um4ke4o9JbSFEkWQmxFppjNicFk6BIfgxOEVA/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p><strong><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafafJYoFH7OAhmUdTjo35vvJT7KxibNiadbBJJYibrjeic9Us7ZEficc1xuic28F0nnicicEoqQcB6k5CsMpU7w/640?wx_fmt=png" alt="640?wx_fmt=png"></strong></p><p><strong><em>\</em>数据的处理**</strong></p><p>数据获取完毕之后，接下来就是数据的预处理了，上面大家可以发现，数据中充斥着大量的数字、标点符号、字母等干扰因素，而我们平时都是以中文交流，所以在进行数据处理的时候，直接选择匹配中文是一个非常高效而且明智的选择。数据处理的代码如下图所示：</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQW00icHTuTkJdIfY1BV2qV1niaA3dlK1b11eHEcSf272Z8remrt75lRXg/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p>我们将处理好的数据放到新的文件夹里，以方便后续操作。接下来，就是定制特定爱心的时间了，我们利用的是jieba分词和WordCloud的词云制作，代码如下图所示:</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQ7YdTeiaPgortNSpsOlmzWotGRQtmltOicMhobarxRuxWea8N37GyNP1Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p>产生的效果如下图所示：</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQiaFQTic7z8ibUvnTqOIEKoKDAzpvibUuRgS5mTEfUmLN7QTQsyFsEQm1ibg/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p><p>到了这里，就结束了吗？No,No,No怎么可能，七夕节的礼物就要付出更多的精力！</p><p><strong><em>\</em>在线词云做爱心**</strong></p><p>下面小安为大家安利一个在线的词云制作，定制出更加完美的词云。在线词云制作的链接为：<a href="http://yciyun.com/，界面如下图所示：" target="_blank" rel="noopener">http://yciyun.com/，界面如下图所示：</a></p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQP7k3DdLP3BDgeRl5Ez61xMsqL5umU4JqM4icrANQicvYDpfjvHQ5KaOg/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p>在模板模块里，大家可以选择是心形还是其他形状。在配置里大家可以选择更改背景的颜色。最重要的是数据模块，大家需要注册，然后才能在自定义编辑里更改数值，而且由于其字体限制为3号到9号。</p><p>可能大家会想，这个多的数值要更改到什么时候为止呢，别担心，小安已经帮大家写好程序了，大家只需要运行程序中的online_wordcloud函数即可。</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQTCtba16MlNTq1N5b3wn5FQmM6pPgSfDzX2bUFtnRibUGNjFvbicnX3Lg/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p>最后，为大家展示的经过在线词云制作的爱心图片：</p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/1hReHaqafadUaDa5ibORBZ0jj1XCw78rQXmgrKTgRPgFfnawoqfvzibls2m5KqcrfZn4sXWDxZuTZokTibBk6EfmA/640?wx_fmt=png" alt="640?wx_fmt=png"></p><p>大家如果想让背景透明的话，需要开通会员，大家喜欢的话，可以直接开通。将上面的爱心图制作成大幅图画，在周围点缀上两人的甜蜜照片，做成画框，这样的一副作品简直是七夕节最美的礼物了，大家赶快动手做起来吧。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python—如何脱单（一）</title>
    <link href="http://yoursite.com/2020/06/13/Python%E2%80%94%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://yoursite.com/2020/06/13/Python%E2%80%94%E5%A6%82%E4%BD%95%E8%84%B1%E5%8D%95%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2020-06-13T10:48:06.000Z</published>
    <updated>2020-06-13T10:50:30.909Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>学习一门语言最好的方式就是有项目驱动，或者说你得有目的的去学，这样你才能学的更快。作为一个小白，我的出发点就是利用Python哄女朋友开心啦。今天给大家介绍两个Python人专属的撩妹技巧。</p><h3 id="1-用Python画玫瑰花"><a href="#1-用Python画玫瑰花" class="headerlink" title="1.用Python画玫瑰花"></a>1.用Python画玫瑰花</h3><h4 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h4><hr><p>#!/usr/bin/env python</p><p># -<em>- coding:utf-8 -</em>-</p><p>‘’’</p><p>Created on sep 20, 2018</p><p>@author: stormwen</p><p>‘’’</p><p>import turtle</p><p># 设置初始位置</p><p>turtle.penup()</p><p>turtle.left(90)</p><p>turtle.fd(200)</p><p>turtle.pendown()</p><p>turtle.right(90)</p><p># 花蕊</p><p>turtle.fillcolor(“red”)</p><p>turtle.begin_fill()</p><p>turtle.circle(10, 180)</p><p>turtle.circle(25, 110)</p><p>turtle.left(50)</p><p>turtle.circle(60, 45)</p><p>turtle.circle(20, 170)</p><p>turtle.right(24)</p><p>turtle.fd(30)</p><p>turtle.left(10)</p><p>turtle.circle(30, 110)</p><p>turtle.fd(20)</p><p>turtle.left(40)</p><p>turtle.circle(90, 70)</p><p>turtle.circle(30, 150)</p><p>turtle.right(30)</p><p>turtle.fd(15)</p><p>turtle.circle(80, 90)</p><p>turtle.left(15)</p><p>turtle.fd(45)</p><p>turtle.right(165)</p><p>turtle.fd(20)</p><p>turtle.left(155)</p><p>turtle.circle(150, 80)</p><p>turtle.left(50)</p><p>turtle.circle(150, 90)</p><p>turtle.end_fill()</p><p># 花瓣1</p><p>turtle.left(150)</p><p>turtle.circle(-90, 70)</p><p>turtle.left(20)</p><p>turtle.circle(75, 105)</p><p>turtle.setheading(60)</p><p>turtle.circle(80, 98)</p><p>turtle.circle(-90, 40)</p><p># 花瓣2</p><p>turtle.left(180)</p><p>turtle.circle(90, 40)</p><p>turtle.circle(-80, 98)</p><p>turtle.setheading(-83)</p><p># 叶子1</p><p>turtle.fd(30)</p><p>turtle.left(90)</p><p>turtle.fd(25)</p><p>turtle.left(45)</p><p>turtle.fillcolor(“green”)</p><p>turtle.begin_fill()</p><p>turtle.circle(-80, 90)</p><p>turtle.right(90)</p><p>turtle.circle(-80, 90)</p><p>turtle.end_fill()</p><p>turtle.right(135)</p><p>turtle.fd(60)</p><p>turtle.left(180)</p><p>turtle.fd(85)</p><p>turtle.left(90)</p><p>turtle.fd(80)</p><p># 叶子2</p><p>turtle.right(90)</p><p>turtle.right(45)</p><p>turtle.fillcolor(“green”)</p><p>turtle.begin_fill()</p><p>turtle.circle(80, 90)</p><p>turtle.left(90)</p><p>turtle.circle(80, 90)</p><p>turtle.end_fill()</p><p>turtle.left(135)</p><p>turtle.fd(60)</p><p>turtle.left(180)</p><p>turtle.fd(60)</p><p>turtle.right(90)</p><p>turtle.circle(200, 60)</p><p>turtle.done()</p><hr><h4 id="可以根据女朋友喜欢的颜色，进行调试哦。"><a href="#可以根据女朋友喜欢的颜色，进行调试哦。" class="headerlink" title="可以根据女朋友喜欢的颜色，进行调试哦。"></a>可以根据女朋友喜欢的颜色，进行调试哦。</h4><h4 id="效果展示："><a href="#效果展示：" class="headerlink" title="效果展示："></a>效果展示：</h4><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-e4e3b7d035def1bc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-a495544a4f4e7d78.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-6704d3dff612c3d9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-42fad2faf4c5dc0a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><h2 id="2-一行代码画心："><a href="#2-一行代码画心：" class="headerlink" title="2.一行代码画心："></a>2.一行代码画心：</h2><h4 id="代码：-1"><a href="#代码：-1" class="headerlink" title="代码："></a>代码：</h4><hr><p>#!/usr/bin/env python</p><p># -<em>- coding:utf-8 -</em>-</p><p>#@Time :2018/9/20 1:00pm</p><p>#@Author:stormwen</p><p>#Software:Pycharm</p><p>print(‘\n’.join([‘’.join([(‘Miss u’[(x-y)% len(‘Miss u’)]if ((x<em>0.05)<strong>2+(y*0.1)</strong>2-1)<strong>3-(x*0.05)</strong>2</em>(y<em>0.1)*</em>3 &lt;= 0 else ‘ ‘)for xin range(-30, 30)])for yin range(30, -30, -1)]))</p><hr><h4 id="结果展示："><a href="#结果展示：" class="headerlink" title="结果展示："></a>结果展示：</h4><p><img src="https:////upload-images.jianshu.io/upload_images/13914403-d8e1122a118fafc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><hr><p>好啦，今天的Python就学到这啦，如果你有更好的图形，欢迎交流呀。</p><p>作者：叫我小包总<br>链接：<a href="https://www.jianshu.com/p/7d7966ad4d4a" target="_blank" rel="noopener">https://www.jianshu.com/p/7d7966ad4d4a</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
</feed>
